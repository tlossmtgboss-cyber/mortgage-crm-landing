/*! For license information please see main.506b1f17.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},139:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function A(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=r(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return A.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=r(t,n));return t}function r(e,t){return t?e?e+" "+t:e+t:e}e.exports?(A.default=A,e.exports=A):void 0===(n=function(){return A}.apply(t,[]))||(e.exports=n)}()},153:(e,t,n)=>{"use strict";var a=n(43),A=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,n){var a,s={},o=null,c=null;for(a in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(c=t.ref),t)r.call(t,a)&&!l.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:A,type:e,key:o,ref:c,props:s,_owner:i.current}}t.Fragment=s,t.jsx=o,t.jsxs=o},173:(e,t,n)=>{e.exports=n(497)()},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function f(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function x(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=f.prototype;var y=v.prototype=new x;y.constructor=v,p(y,f.prototype),y.isPureReactComponent=!0;var w=Array.isArray,B=Object.prototype.hasOwnProperty,j={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,a){var A,s={},r=null,i=null;if(null!=t)for(A in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(r=""+t.key),t)B.call(t,A)&&!b.hasOwnProperty(A)&&(s[A]=t[A]);var l=arguments.length-2;if(1===l)s.children=a;else if(1<l){for(var o=Array(l),c=0;c<l;c++)o[c]=arguments[c+2];s.children=o}if(e&&e.defaultProps)for(A in l=e.defaultProps)void 0===s[A]&&(s[A]=l[A]);return{$$typeof:n,type:e,key:r,ref:i,props:s,_owner:j.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var Q=/\/+/g;function F(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function U(e,t,A,s,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case a:l=!0}}if(l)return r=r(l=e),e=""===s?"."+F(l,0):s,w(r)?(A="",null!=e&&(A=e.replace(Q,"$&/")+"/"),U(r,t,A,"",function(e){return e})):null!=r&&(N(r)&&(r=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,A+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(Q,"$&/")+"/")+e)),t.push(r)),1;if(l=0,s=""===s?".":s+":",w(e))for(var o=0;o<e.length;o++){var c=s+F(i=e[o],o);l+=U(i,t,A,c,r)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),o=0;!(i=e.next()).done;)l+=U(i=i.value,t,A,c=s+F(i,o++),r);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function S(e,t,n){if(null==e)return e;var a=[],A=0;return U(e,a,"","",function(e){return t.call(n,e,A++)}),a}function k(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var E={current:null},_={transition:null},I={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:_,ReactCurrentOwner:j};function H(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:S,forEach:function(e,t,n){S(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return S(e,function(){t++}),t},toArray:function(e){return S(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=f,t.Fragment=A,t.Profiler=r,t.PureComponent=v,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=H,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var A=p({},e.props),s=e.key,r=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,i=j.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(o in t)B.call(t,o)&&!b.hasOwnProperty(o)&&(A[o]=void 0===t[o]&&void 0!==l?l[o]:t[o])}var o=arguments.length-2;if(1===o)A.children=a;else if(1<o){l=Array(o);for(var c=0;c<o;c++)l[c]=arguments[c+2];A.children=l}return{$$typeof:n,type:e.type,key:s,ref:r,props:A,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:o,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.transition;_.transition={};try{e()}finally{_.transition=t}},t.unstable_act=H,t.useCallback=function(e,t){return E.current.useCallback(e,t)},t.useContext=function(e){return E.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return E.current.useDeferredValue(e)},t.useEffect=function(e,t){return E.current.useEffect(e,t)},t.useId=function(){return E.current.useId()},t.useImperativeHandle=function(e,t,n){return E.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.current.useMemo(e,t)},t.useReducer=function(e,t,n){return E.current.useReducer(e,t,n)},t.useRef=function(e){return E.current.useRef(e)},t.useState=function(e){return E.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.current.useTransition()},t.version="18.3.1"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,A=e[a];if(!(0<s(A,t)))break e;e[a]=t,e[n]=A,n=a}}function a(e){return 0===e.length?null:e[0]}function A(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,A=e.length,r=A>>>1;a<r;){var i=2*(a+1)-1,l=e[i],o=i+1,c=e[o];if(0>s(l,n))o<A&&0>s(c,l)?(e[a]=c,e[o]=n,a=o):(e[a]=l,e[i]=n,a=i);else{if(!(o<A&&0>s(c,n)))break e;e[a]=c,e[o]=n,a=o}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var o=[],c=[],d=1,u=null,h=3,m=!1,p=!1,g=!1,f="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=a(c);null!==t;){if(null===t.callback)A(c);else{if(!(t.startTime<=e))break;A(c),t.sortIndex=t.expirationTime,n(o,t)}t=a(c)}}function w(e){if(g=!1,y(e),!p)if(null!==a(o))p=!0,_(B);else{var t=a(c);null!==t&&I(w,t.startTime-e)}}function B(e,n){p=!1,g&&(g=!1,x(N),N=-1),m=!0;var s=h;try{for(y(n),u=a(o);null!==u&&(!(u.expirationTime>n)||e&&!U());){var r=u.callback;if("function"===typeof r){u.callback=null,h=u.priorityLevel;var i=r(u.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?u.callback=i:u===a(o)&&A(o),y(n)}else A(o);u=a(o)}if(null!==u)var l=!0;else{var d=a(c);null!==d&&I(w,d.startTime-n),l=!1}return l}finally{u=null,h=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,b=!1,C=null,N=-1,Q=5,F=-1;function U(){return!(t.unstable_now()-F<Q)}function S(){if(null!==C){var e=t.unstable_now();F=e;var n=!0;try{n=C(!0,e)}finally{n?j():(b=!1,C=null)}}else b=!1}if("function"===typeof v)j=function(){v(S)};else if("undefined"!==typeof MessageChannel){var k=new MessageChannel,E=k.port2;k.port1.onmessage=S,j=function(){E.postMessage(null)}}else j=function(){f(S,0)};function _(e){C=e,b||(b=!0,j())}function I(e,n){N=f(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,_(B))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return a(o)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,A,s){var r=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?r+s:r:s=r,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:A,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>r?(e.sortIndex=s,n(c,e),null===a(o)&&e===a(c)&&(g?(x(N),N=-1):g=!0,I(w,s-r))):(e.sortIndex=i,n(o,e),p||m||(p=!0,_(B))),e},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},239:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var A in t=arguments[n])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e},n.apply(this,arguments)};function a(e,t,n,a){function A(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,s){function r(e){try{l(a.next(e))}catch(Lt){s(Lt)}}function i(e){try{l(a.throw(e))}catch(Lt){s(Lt)}}function l(e){e.done?n(e.value):A(e.value).then(r,i)}l((a=a.apply(e,t||[])).next())})}function A(e,t){var n,a,A,s,r={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(e){return function(t){return l([e,t])}}function l(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(A=2&s[0]?a.return:s[0]?a.throw||((A=a.return)&&A.call(a),0):a.next)&&!(A=A.call(a,s[1])).done)return A;switch(a=0,A&&(s=[2&s[0],A.value]),s[0]){case 0:case 1:A=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,a=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(A=(A=r.trys).length>0&&A[A.length-1])&&(6===s[0]||2===s[0])){r=0;continue}if(3===s[0]&&(!A||s[1]>A[0]&&s[1]<A[3])){r.label=s[1];break}if(6===s[0]&&r.label<A[1]){r.label=A[1],A=s;break}if(A&&r.label<A[2]){r.label=A[2],r.ops.push(s);break}A[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(Lt){s=[6,Lt],a=0}finally{n=A=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function s(e,t,n){if(n||2===arguments.length)for(var a,A=0,s=t.length;A<s;A++)!a&&A in t||(a||(a=Array.prototype.slice.call(t,0,A)),a[A]=t[A]);return e.concat(a||t)}for(var r=function(){function e(e,t,n,a){this.left=e,this.top=t,this.width=n,this.height=a}return e.prototype.add=function(t,n,a,A){return new e(this.left+t,this.top+n,this.width+a,this.height+A)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var a=Array.from(n).find(function(e){return 0!==e.width});return a?new e(a.left+t.windowBounds.left,a.top+t.windowBounds.top,a.width,a.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),i=function(e,t){return r.fromClientRect(e,t.getBoundingClientRect())},l=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var a=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),A=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new r(0,0,a,A)},o=function(e){for(var t=[],n=0,a=e.length;n<a;){var A=e.charCodeAt(n++);if(A>=55296&&A<=56319&&n<a){var s=e.charCodeAt(n++);56320===(64512&s)?t.push(((1023&A)<<10)+(1023&s)+65536):(t.push(A),n--)}else t.push(A)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var a=[],A=-1,s="";++A<n;){var r=e[A];r<=65535?a.push(r):(r-=65536,a.push(55296+(r>>10),r%1024+56320)),(A+1===n||a.length>16384)&&(s+=String.fromCharCode.apply(String,a),a.length=0)}return s},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="undefined"===typeof Uint8Array?[]:new Uint8Array(256),h=0;h<d.length;h++)u[d.charCodeAt(h)]=h;for(var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"===typeof Uint8Array?[]:new Uint8Array(256),g=0;g<m.length;g++)p[m.charCodeAt(g)]=g;for(var f=function(e){var t,n,a,A,s,r=.75*e.length,i=e.length,l=0;"="===e[e.length-1]&&(r--,"="===e[e.length-2]&&r--);var o="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(r):new Array(r),c=Array.isArray(o)?o:new Uint8Array(o);for(t=0;t<i;t+=4)n=p[e.charCodeAt(t)],a=p[e.charCodeAt(t+1)],A=p[e.charCodeAt(t+2)],s=p[e.charCodeAt(t+3)],c[l++]=n<<2|a>>4,c[l++]=(15&a)<<4|A>>2,c[l++]=(3&A)<<6|63&s;return o},x=function(e){for(var t=e.length,n=[],a=0;a<t;a+=2)n.push(e[a+1]<<8|e[a]);return n},v=function(e){for(var t=e.length,n=[],a=0;a<t;a+=4)n.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return n},y=5,w=11,B=2,j=65536>>y,b=(1<<y)-1,C=j+(1024>>y)+32,N=65536>>w,Q=(1<<w-y)-1,F=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},U=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},S=function(e,t){var n=f(e),a=Array.isArray(n)?v(n):new Uint32Array(n),A=Array.isArray(n)?x(n):new Uint16Array(n),s=24,r=F(A,s/2,a[4]/2),i=2===a[5]?F(A,(s+a[4])/2):U(a,Math.ceil((s+a[4])/4));return new k(a[0],a[1],a[2],a[3],r,i)},k=function(){function e(e,t,n,a,A,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=A,this.data=s}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>y])<<B)+(e&b),this.data[t];if(e<=65535)return t=((t=this.index[j+(e-55296>>y)])<<B)+(e&b),this.data[t];if(e<this.highStart)return t=C-N+(e>>w),t=this.index[t],t+=e>>y&Q,t=((t=this.index[t])<<B)+(e&b),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_="undefined"===typeof Uint8Array?[]:new Uint8Array(256),I=0;I<E.length;I++)_[E.charCodeAt(I)]=I;var H=50,T=1,L=2,P=3,D=4,O=5,R=7,M=8,K=9,G=10,V=11,W=12,J=13,z=14,Y=15,X=16,q=17,Z=18,$=19,ee=20,te=21,ne=22,ae=23,Ae=24,se=25,re=26,ie=27,le=28,oe=29,ce=30,de=31,ue=32,he=33,me=34,pe=35,ge=36,fe=37,xe=38,ve=39,ye=40,we=41,Be=42,je=43,be=[9001,65288],Ce="!",Ne="\xd7",Qe="\xf7",Fe=S("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Ue=[ce,ge],Se=[T,L,P,O],ke=[G,M],Ee=[ie,re],_e=Se.concat(ke),Ie=[xe,ve,ye,me,pe],He=[Y,J],Te=function(e,t){void 0===t&&(t="strict");var n=[],a=[],A=[];return e.forEach(function(e,s){var r=Fe.get(e);if(r>H?(A.push(!0),r-=H):A.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return a.push(s),n.push(X);if(r===D||r===V){if(0===s)return a.push(s),n.push(ce);var i=n[s-1];return-1===_e.indexOf(i)?(a.push(a[s-1]),n.push(i)):(a.push(s),n.push(ce))}return a.push(s),r===de?n.push("strict"===t?te:fe):r===Be||r===oe?n.push(ce):r===je?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(fe):n.push(ce):void n.push(r)}),[a,n,A]},Le=function(e,t,n,a){var A=a[n];if(Array.isArray(e)?-1!==e.indexOf(A):e===A)for(var s=n;s<=a.length;){if((l=a[++s])===t)return!0;if(l!==G)break}if(A===G)for(s=n;s>0;){var r=a[--s];if(Array.isArray(e)?-1!==e.indexOf(r):e===r)for(var i=n;i<=a.length;){var l;if((l=a[++i])===t)return!0;if(l!==G)break}if(r!==G)break}return!1},Pe=function(e,t){for(var n=e;n>=0;){var a=t[n];if(a!==G)return a;n--}return 0},De=function(e,t,n,a,A){if(0===n[a])return Ne;var s=a-1;if(Array.isArray(A)&&!0===A[s])return Ne;var r=s-1,i=s+1,l=t[s],o=r>=0?t[r]:0,c=t[i];if(l===L&&c===P)return Ne;if(-1!==Se.indexOf(l))return Ce;if(-1!==Se.indexOf(c))return Ne;if(-1!==ke.indexOf(c))return Ne;if(Pe(s,t)===M)return Qe;if(Fe.get(e[s])===V)return Ne;if((l===ue||l===he)&&Fe.get(e[i])===V)return Ne;if(l===R||c===R)return Ne;if(l===K)return Ne;if(-1===[G,J,Y].indexOf(l)&&c===K)return Ne;if(-1!==[q,Z,$,Ae,le].indexOf(c))return Ne;if(Pe(s,t)===ne)return Ne;if(Le(ae,ne,s,t))return Ne;if(Le([q,Z],te,s,t))return Ne;if(Le(W,W,s,t))return Ne;if(l===G)return Qe;if(l===ae||c===ae)return Ne;if(c===X||l===X)return Qe;if(-1!==[J,Y,te].indexOf(c)||l===z)return Ne;if(o===ge&&-1!==He.indexOf(l))return Ne;if(l===le&&c===ge)return Ne;if(c===ee)return Ne;if(-1!==Ue.indexOf(c)&&l===se||-1!==Ue.indexOf(l)&&c===se)return Ne;if(l===ie&&-1!==[fe,ue,he].indexOf(c)||-1!==[fe,ue,he].indexOf(l)&&c===re)return Ne;if(-1!==Ue.indexOf(l)&&-1!==Ee.indexOf(c)||-1!==Ee.indexOf(l)&&-1!==Ue.indexOf(c))return Ne;if(-1!==[ie,re].indexOf(l)&&(c===se||-1!==[ne,Y].indexOf(c)&&t[i+1]===se)||-1!==[ne,Y].indexOf(l)&&c===se||l===se&&-1!==[se,le,Ae].indexOf(c))return Ne;if(-1!==[se,le,Ae,q,Z].indexOf(c))for(var d=s;d>=0;){if((u=t[d])===se)return Ne;if(-1===[le,Ae].indexOf(u))break;d--}if(-1!==[ie,re].indexOf(c))for(d=-1!==[q,Z].indexOf(l)?r:s;d>=0;){var u;if((u=t[d])===se)return Ne;if(-1===[le,Ae].indexOf(u))break;d--}if(xe===l&&-1!==[xe,ve,me,pe].indexOf(c)||-1!==[ve,me].indexOf(l)&&-1!==[ve,ye].indexOf(c)||-1!==[ye,pe].indexOf(l)&&c===ye)return Ne;if(-1!==Ie.indexOf(l)&&-1!==[ee,re].indexOf(c)||-1!==Ie.indexOf(c)&&l===ie)return Ne;if(-1!==Ue.indexOf(l)&&-1!==Ue.indexOf(c))return Ne;if(l===Ae&&-1!==Ue.indexOf(c))return Ne;if(-1!==Ue.concat(se).indexOf(l)&&c===ne&&-1===be.indexOf(e[i])||-1!==Ue.concat(se).indexOf(c)&&l===Z)return Ne;if(l===we&&c===we){for(var h=n[s],m=1;h>0&&t[--h]===we;)m++;if(m%2!==0)return Ne}return l===ue&&c===he?Ne:Qe},Oe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Te(e,t.lineBreak),a=n[0],A=n[1],s=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(A=A.map(function(e){return-1!==[se,ce,Be].indexOf(e)?fe:e}));var r="keep-all"===t.wordBreak?s.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):void 0;return[a,A,r]},Re=function(){function e(e,t,n,a){this.codePoints=e,this.required=t===Ce,this.start=n,this.end=a}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Me=function(e,t){var n=o(e),a=Oe(n,t),A=a[0],s=a[1],r=a[2],i=n.length,l=0,c=0;return{next:function(){if(c>=i)return{done:!0,value:null};for(var e=Ne;c<i&&(e=De(n,s,A,++c,r))===Ne;);if(e!==Ne||c===i){var t=new Re(n,e,l,c);return l=c,{value:t,done:!1}}return{done:!0,value:null}}}},Ke=1,Ge=2,Ve=4,We=8,Je=10,ze=47,Ye=92,Xe=9,qe=32,Ze=34,$e=61,et=35,tt=36,nt=37,at=39,At=40,st=41,rt=95,it=45,lt=33,ot=60,ct=62,dt=64,ut=91,ht=93,mt=61,pt=123,gt=63,ft=125,xt=124,vt=126,yt=128,wt=65533,Bt=42,jt=43,bt=44,Ct=58,Nt=59,Qt=46,Ft=0,Ut=8,St=11,kt=14,Et=31,_t=127,It=-1,Ht=48,Tt=97,Lt=101,Pt=102,Dt=117,Ot=122,Rt=65,Mt=69,Kt=70,Gt=85,Vt=90,Wt=function(e){return e>=Ht&&e<=57},Jt=function(e){return e>=55296&&e<=57343},zt=function(e){return Wt(e)||e>=Rt&&e<=Kt||e>=Tt&&e<=Pt},Yt=function(e){return e>=Tt&&e<=Ot},Xt=function(e){return e>=Rt&&e<=Vt},qt=function(e){return Yt(e)||Xt(e)},Zt=function(e){return e>=yt},$t=function(e){return e===Je||e===Xe||e===qe},en=function(e){return qt(e)||Zt(e)||e===rt},tn=function(e){return en(e)||Wt(e)||e===it},nn=function(e){return e>=Ft&&e<=Ut||e===St||e>=kt&&e<=Et||e===_t},an=function(e,t){return e===Ye&&t!==Je},An=function(e,t,n){return e===it?en(t)||an(t,n):!!en(e)||!(e!==Ye||!an(e,t))},sn=function(e,t,n){return e===jt||e===it?!!Wt(t)||t===Qt&&Wt(n):Wt(e===Qt?t:e)},rn=function(e){var t=0,n=1;e[t]!==jt&&e[t]!==it||(e[t]===it&&(n=-1),t++);for(var a=[];Wt(e[t]);)a.push(e[t++]);var A=a.length?parseInt(c.apply(void 0,a),10):0;e[t]===Qt&&t++;for(var s=[];Wt(e[t]);)s.push(e[t++]);var r=s.length,i=r?parseInt(c.apply(void 0,s),10):0;e[t]!==Mt&&e[t]!==Lt||t++;var l=1;e[t]!==jt&&e[t]!==it||(e[t]===it&&(l=-1),t++);for(var o=[];Wt(e[t]);)o.push(e[t++]);var d=o.length?parseInt(c.apply(void 0,o),10):0;return n*(A+i*Math.pow(10,-r))*Math.pow(10,l*d)},ln={type:2},on={type:3},cn={type:4},dn={type:13},un={type:8},hn={type:21},mn={type:9},pn={type:10},gn={type:11},fn={type:12},xn={type:14},vn={type:23},yn={type:1},wn={type:25},Bn={type:24},jn={type:26},bn={type:27},Cn={type:28},Nn={type:29},Qn={type:31},Fn={type:32},Un=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(o(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Fn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ze:return this.consumeStringToken(Ze);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(tn(t)||an(n,a)){var A=An(t,n,a)?Ge:Ke;return{type:5,value:this.consumeName(),flags:A}}break;case tt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),dn;break;case at:return this.consumeStringToken(at);case At:return ln;case st:return on;case Bt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),xn;break;case jt:if(sn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case bt:return cn;case it:var s=e,r=this.peekCodePoint(0),i=this.peekCodePoint(1);if(sn(s,r,i))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(An(s,r,i))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(r===it&&i===ct)return this.consumeCodePoint(),this.consumeCodePoint(),Bn;break;case Qt:if(sn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case ze:if(this.peekCodePoint(0)===Bt)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===Bt&&(l=this.consumeCodePoint())===ze)return this.consumeToken();if(l===It)return this.consumeToken()}break;case Ct:return jn;case Nt:return bn;case ot:if(this.peekCodePoint(0)===lt&&this.peekCodePoint(1)===it&&this.peekCodePoint(2)===it)return this.consumeCodePoint(),this.consumeCodePoint(),wn;break;case dt:var o=this.peekCodePoint(0),d=this.peekCodePoint(1),u=this.peekCodePoint(2);if(An(o,d,u))return{type:7,value:this.consumeName()};break;case ut:return Cn;case Ye:if(an(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ht:return Nn;case mt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),un;break;case pt:return gn;case ft:return fn;case Dt:case Gt:var h=this.peekCodePoint(0),m=this.peekCodePoint(1);return h!==jt||!zt(m)&&m!==gt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case xt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),mn;if(this.peekCodePoint(0)===xt)return this.consumeCodePoint(),hn;break;case vt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),pn;break;case It:return Fn}return $t(e)?(this.consumeWhiteSpace(),Qn):Wt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();zt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===gt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,e.map(function(e){return e===gt?Ht:e})),16),end:parseInt(c.apply(void 0,e.map(function(e){return e===gt?Kt:e})),16)};var a=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===it&&zt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var A=[];zt(t)&&A.length<6;)A.push(t),t=this.consumeCodePoint();return{type:30,start:a,end:parseInt(c.apply(void 0,A),16)}}return{type:30,start:a,end:a}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===At?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===At?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===It)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===at||t===Ze){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===It||this.peekCodePoint(0)===st)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),vn)}for(;;){var a=this.consumeCodePoint();if(a===It||a===st)return{type:22,value:c.apply(void 0,e)};if($t(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===It||this.peekCodePoint(0)===st?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),vn);if(a===Ze||a===at||a===At||nn(a))return this.consumeBadUrlRemnants(),vn;if(a===Ye){if(!an(a,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),vn;e.push(this.consumeEscapedCodePoint())}else e.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;$t(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===st||e===It)return;an(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var a=Math.min(t,e);n+=c.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var a=this._value[n];if(a===It||void 0===a||a===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(a===Je)return this._value.splice(0,n),yn;if(a===Ye){var A=this._value[n+1];A!==It&&void 0!==A&&(A===Je?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):an(a,A)&&(t+=this.consumeStringSlice(n),t+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=Ve,n=this.peekCodePoint(0);for(n!==jt&&n!==it||e.push(this.consumeCodePoint());Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===Qt&&Wt(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=We;Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var A=this.peekCodePoint(2);if((n===Mt||n===Lt)&&((a===jt||a===it)&&Wt(A)||Wt(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=We;Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[rn(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],a=this.peekCodePoint(0),A=this.peekCodePoint(1),s=this.peekCodePoint(2);return An(a,A,s)?{type:15,number:t,flags:n,unit:this.consumeName()}:a===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(zt(e)){for(var t=c(e);zt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());$t(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Jt(n)||n>1114111?wt:n}return e===It?wt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=c(t);else{if(!an(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),Sn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Un;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Dn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?Fn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),kn=function(e){return 15===e.type},En=function(e){return 17===e.type},_n=function(e){return 20===e.type},In=function(e){return 0===e.type},Hn=function(e,t){return _n(e)&&e.value===t},Tn=function(e){return 31!==e.type},Ln=function(e){return 31!==e.type&&4!==e.type},Pn=function(e){var t=[],n=[];return e.forEach(function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)}),n.length&&t.push(n),t},Dn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},On=function(e){return 17===e.type||15===e.type},Rn=function(e){return 16===e.type||On(e)},Mn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Kn={type:17,number:0,flags:Ve},Gn={type:16,number:50,flags:Ve},Vn={type:16,number:100,flags:Ve},Wn=function(e,t,n){var a=e[0],A=e[1];return[Jn(a,t),Jn("undefined"!==typeof A?A:a,n)]},Jn=function(e,t){if(16===e.type)return e.number/100*t;if(kn(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},zn="deg",Yn="grad",Xn="rad",qn="turn",Zn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case zn:return Math.PI*t.number/180;case Yn:return Math.PI/200*t.number;case Xn:return t.number;case qn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},$n=function(e){return 15===e.type&&(e.unit===zn||e.unit===Yn||e.unit===Xn||e.unit===qn)},ea=function(e){switch(e.filter(_n).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Kn,Kn];case"to top":case"bottom":return ta(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Kn,Vn];case"to right":case"left":return ta(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Vn,Vn];case"to bottom":case"top":return ta(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Vn,Kn];case"to left":case"right":return ta(270)}return 0},ta=function(e){return Math.PI*e/180},na={name:"color",parse:function(e,t){if(18===t.type){var n=ca[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var a=t.value.substring(0,1),A=t.value.substring(1,2),s=t.value.substring(2,3);return sa(parseInt(a+a,16),parseInt(A+A,16),parseInt(s+s,16),1)}if(4===t.value.length){a=t.value.substring(0,1),A=t.value.substring(1,2),s=t.value.substring(2,3);var r=t.value.substring(3,4);return sa(parseInt(a+a,16),parseInt(A+A,16),parseInt(s+s,16),parseInt(r+r,16)/255)}if(6===t.value.length)return a=t.value.substring(0,2),A=t.value.substring(2,4),s=t.value.substring(4,6),sa(parseInt(a,16),parseInt(A,16),parseInt(s,16),1);if(8===t.value.length)return a=t.value.substring(0,2),A=t.value.substring(2,4),s=t.value.substring(4,6),r=t.value.substring(6,8),sa(parseInt(a,16),parseInt(A,16),parseInt(s,16),parseInt(r,16)/255)}if(20===t.type){var i=ua[t.value.toUpperCase()];if("undefined"!==typeof i)return i}return ua.TRANSPARENT}},aa=function(e){return 0===(255&e)},Aa=function(e){var t=255&e,n=255&e>>8,a=255&e>>16,A=255&e>>24;return t<255?"rgba("+A+","+a+","+n+","+t/255+")":"rgb("+A+","+a+","+n+")"},sa=function(e,t,n,a){return(e<<24|t<<16|n<<8|Math.round(255*a))>>>0},ra=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},ia=function(e,t){var n=t.filter(Ln);if(3===n.length){var a=n.map(ra),A=a[0],s=a[1],r=a[2];return sa(A,s,r,1)}if(4===n.length){var i=n.map(ra),l=(A=i[0],s=i[1],r=i[2],i[3]);return sa(A,s,r,l)}return 0};function la(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var oa=function(e,t){var n=t.filter(Ln),a=n[0],A=n[1],s=n[2],r=n[3],i=(17===a.type?ta(a.number):Zn.parse(e,a))/(2*Math.PI),l=Rn(A)?A.number/100:0,o=Rn(s)?s.number/100:0,c="undefined"!==typeof r&&Rn(r)?Jn(r,1):1;if(0===l)return sa(255*o,255*o,255*o,1);var d=o<=.5?o*(l+1):o+l-o*l,u=2*o-d,h=la(u,d,i+1/3),m=la(u,d,i),p=la(u,d,i-1/3);return sa(255*h,255*m,255*p,c)},ca={hsl:oa,hsla:oa,rgb:ia,rgba:ia},da=function(e,t){return na.parse(e,Sn.create(t).parseComponentValue())},ua={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},ha={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(_n(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ma={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pa=function(e,t){var n=na.parse(e,t[0]),a=t[1];return a&&Rn(a)?{color:n,stop:a}:{color:n,stop:null}},ga=function(e,t){var n=e[0],a=e[e.length-1];null===n.stop&&(n.stop=Kn),null===a.stop&&(a.stop=Vn);for(var A=[],s=0,r=0;r<e.length;r++){var i=e[r].stop;if(null!==i){var l=Jn(i,t);l>s?A.push(l):A.push(s),s=l}else A.push(null)}var o=null;for(r=0;r<A.length;r++){var c=A[r];if(null===c)null===o&&(o=r);else if(null!==o){for(var d=r-o,u=(c-A[o-1])/(d+1),h=1;h<=d;h++)A[o+h-1]=u*h;o=null}}return e.map(function(e,n){return{color:e.color,stop:Math.max(Math.min(1,A[n]/t),0)}})},fa=function(e,t,n){var a=t/2,A=n/2,s=Jn(e[0],t)-a,r=A-Jn(e[1],n);return(Math.atan2(r,s)+2*Math.PI)%(2*Math.PI)},xa=function(e,t,n){var a="number"===typeof e?e:fa(e,t,n),A=Math.abs(t*Math.sin(a))+Math.abs(n*Math.cos(a)),s=t/2,r=n/2,i=A/2,l=Math.sin(a-Math.PI/2)*i,o=Math.cos(a-Math.PI/2)*i;return[A,s-o,s+o,r-l,r+l]},va=function(e,t){return Math.sqrt(e*e+t*t)},ya=function(e,t,n,a,A){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var s=t[0],r=t[1],i=va(n-s,a-r);return(A?i<e.optimumDistance:i>e.optimumDistance)?{optimumCorner:t,optimumDistance:i}:e},{optimumDistance:A?1/0:-1/0,optimumCorner:null}).optimumCorner},wa=function(e,t,n,a,A){var s=0,r=0;switch(e.size){case 0:0===e.shape?s=r=Math.min(Math.abs(t),Math.abs(t-a),Math.abs(n),Math.abs(n-A)):1===e.shape&&(s=Math.min(Math.abs(t),Math.abs(t-a)),r=Math.min(Math.abs(n),Math.abs(n-A)));break;case 2:if(0===e.shape)s=r=Math.min(va(t,n),va(t,n-A),va(t-a,n),va(t-a,n-A));else if(1===e.shape){var i=Math.min(Math.abs(n),Math.abs(n-A))/Math.min(Math.abs(t),Math.abs(t-a)),l=ya(a,A,t,n,!0),o=l[0],c=l[1];r=i*(s=va(o-t,(c-n)/i))}break;case 1:0===e.shape?s=r=Math.max(Math.abs(t),Math.abs(t-a),Math.abs(n),Math.abs(n-A)):1===e.shape&&(s=Math.max(Math.abs(t),Math.abs(t-a)),r=Math.max(Math.abs(n),Math.abs(n-A)));break;case 3:if(0===e.shape)s=r=Math.max(va(t,n),va(t,n-A),va(t-a,n),va(t-a,n-A));else if(1===e.shape){i=Math.max(Math.abs(n),Math.abs(n-A))/Math.max(Math.abs(t),Math.abs(t-a));var d=ya(a,A,t,n,!1);o=d[0],c=d[1],r=i*(s=va(o-t,(c-n)/i))}}return Array.isArray(e.size)&&(s=Jn(e.size[0],a),r=2===e.size.length?Jn(e.size[1],A):s),[s,r]},Ba=function(e,t){var n=ta(180),a=[];return Pn(t).forEach(function(t,A){if(0===A){var s=t[0];if(20===s.type&&-1!==["top","left","right","bottom"].indexOf(s.value))return void(n=ea(t));if($n(s))return void(n=(Zn.parse(e,s)+ta(270))%ta(360))}var r=pa(e,t);a.push(r)}),{angle:n,stops:a,type:1}},ja="closest-side",ba="farthest-side",Ca="closest-corner",Na="farthest-corner",Qa="circle",Fa="ellipse",Ua="cover",Sa="contain",ka=function(e,t){var n=0,a=3,A=[],s=[];return Pn(t).forEach(function(t,r){var i=!0;if(0===r?i=t.reduce(function(e,t){if(_n(t))switch(t.value){case"center":return s.push(Gn),!1;case"top":case"left":return s.push(Kn),!1;case"right":case"bottom":return s.push(Vn),!1}else if(Rn(t)||On(t))return s.push(t),!1;return e},i):1===r&&(i=t.reduce(function(e,t){if(_n(t))switch(t.value){case Qa:return n=0,!1;case Fa:return n=1,!1;case Sa:case ja:return a=0,!1;case ba:return a=1,!1;case Ca:return a=2,!1;case Ua:case Na:return a=3,!1}else if(On(t)||Rn(t))return Array.isArray(a)||(a=[]),a.push(t),!1;return e},i)),i){var l=pa(e,t);A.push(l)}}),{size:a,shape:n,stops:A,position:s,type:2}},Ea=function(e){return 1===e.type},_a=function(e){return 2===e.type},Ia={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var a=La[t.name];if("undefined"===typeof a)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return a(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Ha(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!La[e.name])}var Ta,La={"linear-gradient":function(e,t){var n=ta(180),a=[];return Pn(t).forEach(function(t,A){if(0===A){var s=t[0];if(20===s.type&&"to"===s.value)return void(n=ea(t));if($n(s))return void(n=Zn.parse(e,s))}var r=pa(e,t);a.push(r)}),{angle:n,stops:a,type:1}},"-moz-linear-gradient":Ba,"-ms-linear-gradient":Ba,"-o-linear-gradient":Ba,"-webkit-linear-gradient":Ba,"radial-gradient":function(e,t){var n=0,a=3,A=[],s=[];return Pn(t).forEach(function(t,r){var i=!0;if(0===r){var l=!1;i=t.reduce(function(e,t){if(l)if(_n(t))switch(t.value){case"center":return s.push(Gn),e;case"top":case"left":return s.push(Kn),e;case"right":case"bottom":return s.push(Vn),e}else(Rn(t)||On(t))&&s.push(t);else if(_n(t))switch(t.value){case Qa:return n=0,!1;case Fa:return n=1,!1;case"at":return l=!0,!1;case ja:return a=0,!1;case Ua:case ba:return a=1,!1;case Sa:case Ca:return a=2,!1;case Na:return a=3,!1}else if(On(t)||Rn(t))return Array.isArray(a)||(a=[]),a.push(t),!1;return e},i)}if(i){var o=pa(e,t);A.push(o)}}),{size:a,shape:n,stops:A,position:s,type:2}},"-moz-radial-gradient":ka,"-ms-radial-gradient":ka,"-o-radial-gradient":ka,"-webkit-radial-gradient":ka,"-webkit-gradient":function(e,t){var n=ta(180),a=[],A=1,s=0,r=3,i=[];return Pn(t).forEach(function(t,n){var s=t[0];if(0===n){if(_n(s)&&"linear"===s.value)return void(A=1);if(_n(s)&&"radial"===s.value)return void(A=2)}if(18===s.type)if("from"===s.name){var r=na.parse(e,s.values[0]);a.push({stop:Kn,color:r})}else if("to"===s.name)r=na.parse(e,s.values[0]),a.push({stop:Vn,color:r});else if("color-stop"===s.name){var i=s.values.filter(Ln);if(2===i.length){r=na.parse(e,i[1]);var l=i[0];En(l)&&a.push({stop:{type:16,number:100*l.number,flags:l.flags},color:r})}}}),1===A?{angle:(n+ta(180))%ta(360),stops:a,type:A}:{size:r,shape:s,stops:a,position:i,type:A}}},Pa={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter(function(e){return Ln(e)&&Ha(e)}).map(function(t){return Ia.parse(e,t)})}},Da={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(_n(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Oa={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Pn(t).map(function(e){return e.filter(Rn)}).map(Mn)}},Ra={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Pn(t).map(function(e){return e.filter(_n).map(function(e){return e.value}).join(" ")}).map(Ma)}},Ma=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Ta||(Ta={}));var Ka,Ga={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Pn(t).map(function(e){return e.filter(Va)})}},Va=function(e){return _n(e)||Rn(e)},Wa=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ja=Wa("top"),za=Wa("right"),Ya=Wa("bottom"),Xa=Wa("left"),qa=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Mn(t.filter(Rn))}}},Za=qa("top-left"),$a=qa("top-right"),eA=qa("bottom-right"),tA=qa("bottom-left"),nA=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},aA=nA("top"),AA=nA("right"),sA=nA("bottom"),rA=nA("left"),iA=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return kn(t)?t.number:0}}},lA=iA("top"),oA=iA("right"),cA=iA("bottom"),dA=iA("left"),uA={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hA={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},mA={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(_n).reduce(function(e,t){return e|pA(t.value)},0)}},pA=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},gA={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},fA={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Ka||(Ka={}));var xA,vA={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?Ka.STRICT:Ka.NORMAL}},yA={name:"line-height",initialValue:"normal",prefix:!1,type:4},wA=function(e,t){return _n(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Rn(e)?Jn(e,t):t},BA={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Ia.parse(e,t)}},jA={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},bA={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},CA=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},NA=CA("top"),QA=CA("right"),FA=CA("bottom"),UA=CA("left"),SA={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(_n).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},kA={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},EA=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},_A=EA("top"),IA=EA("right"),HA=EA("bottom"),TA=EA("left"),LA={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},PA={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},DA={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Hn(t[0],"none")?[]:Pn(t).map(function(t){for(var n={color:ua.TRANSPARENT,offsetX:Kn,offsetY:Kn,blur:Kn},a=0,A=0;A<t.length;A++){var s=t[A];On(s)?(0===a?n.offsetX=s:1===a?n.offsetY=s:n.blur=s,a++):n.color=na.parse(e,s)}return n})}},OA={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},RA={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=MA[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},MA={matrix:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number}),n=t[0],a=t[1];t[2],t[3];var A=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var r=t[12],i=t[13];return t[14],t[15],16===t.length?[n,a,A,s,r,i]:null}},KA={type:16,number:50,flags:Ve},GA=[KA,KA],VA={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Rn);return 2!==n.length?GA:[n[0],n[1]]}},WA={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(xA||(xA={}));for(var JA={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return xA.BREAK_ALL;case"keep-all":return xA.KEEP_ALL;default:return xA.NORMAL}}},zA={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(En(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},YA={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},XA={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return En(t)?t.number:1}},qA={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ZA={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(_n).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},$A={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],a=[];return t.forEach(function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:a.push(n.join(" ")),n.length=0}}),n.length&&a.push(n.join(" ")),a.map(function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"})}},es={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ts={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return En(t)?t.number:_n(t)&&"bold"===t.value?700:400}},ns={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(_n).map(function(e){return e.value})}},as={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},As=function(e,t){return 0!==(e&t)},ss={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},rs={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var a=[],A=t.filter(Tn),s=0;s<A.length;s++){var r=A[s],i=A[s+1];if(20===r.type){var l=i&&En(i)?i.number:1;a.push({counter:r.value,increment:l})}}return a}},is={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],a=t.filter(Tn),A=0;A<a.length;A++){var s=a[A],r=a[A+1];if(_n(s)&&"none"!==s.value){var i=r&&En(r)?r.number:0;n.push({counter:s.value,reset:i})}}return n}},ls={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(kn).map(function(t){return YA.parse(e,t)})}},os={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var a=[],A=t.filter(In);if(A.length%2!==0)return null;for(var s=0;s<A.length;s+=2){var r=A[s].value,i=A[s+1].value;a.push({open:r,close:i})}return a}},cs=function(e,t,n){if(!e)return"";var a=e[Math.min(t,e.length-1)];return a?n?a.open:a.close:""},ds={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Hn(t[0],"none")?[]:Pn(t).map(function(t){for(var n={color:255,offsetX:Kn,offsetY:Kn,blur:Kn,spread:Kn,inset:!1},a=0,A=0;A<t.length;A++){var s=t[A];Hn(s,"inset")?n.inset=!0:On(s)?(0===a?n.offsetX=s:1===a?n.offsetY=s:2===a?n.blur=s:n.spread=s,a++):n.color=na.parse(e,s)}return n})}},us={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],a=[];return t.filter(_n).forEach(function(e){switch(e.value){case"stroke":a.push(1);break;case"fill":a.push(0);break;case"markers":a.push(2)}}),n.forEach(function(e){-1===a.indexOf(e)&&a.push(e)}),a}},hs={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ms={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return kn(t)?t.number:0}},ps=function(){function e(e,t){var n,a;this.animationDuration=xs(e,ls,t.animationDuration),this.backgroundClip=xs(e,ha,t.backgroundClip),this.backgroundColor=xs(e,ma,t.backgroundColor),this.backgroundImage=xs(e,Pa,t.backgroundImage),this.backgroundOrigin=xs(e,Da,t.backgroundOrigin),this.backgroundPosition=xs(e,Oa,t.backgroundPosition),this.backgroundRepeat=xs(e,Ra,t.backgroundRepeat),this.backgroundSize=xs(e,Ga,t.backgroundSize),this.borderTopColor=xs(e,Ja,t.borderTopColor),this.borderRightColor=xs(e,za,t.borderRightColor),this.borderBottomColor=xs(e,Ya,t.borderBottomColor),this.borderLeftColor=xs(e,Xa,t.borderLeftColor),this.borderTopLeftRadius=xs(e,Za,t.borderTopLeftRadius),this.borderTopRightRadius=xs(e,$a,t.borderTopRightRadius),this.borderBottomRightRadius=xs(e,eA,t.borderBottomRightRadius),this.borderBottomLeftRadius=xs(e,tA,t.borderBottomLeftRadius),this.borderTopStyle=xs(e,aA,t.borderTopStyle),this.borderRightStyle=xs(e,AA,t.borderRightStyle),this.borderBottomStyle=xs(e,sA,t.borderBottomStyle),this.borderLeftStyle=xs(e,rA,t.borderLeftStyle),this.borderTopWidth=xs(e,lA,t.borderTopWidth),this.borderRightWidth=xs(e,oA,t.borderRightWidth),this.borderBottomWidth=xs(e,cA,t.borderBottomWidth),this.borderLeftWidth=xs(e,dA,t.borderLeftWidth),this.boxShadow=xs(e,ds,t.boxShadow),this.color=xs(e,uA,t.color),this.direction=xs(e,hA,t.direction),this.display=xs(e,mA,t.display),this.float=xs(e,gA,t.cssFloat),this.fontFamily=xs(e,$A,t.fontFamily),this.fontSize=xs(e,es,t.fontSize),this.fontStyle=xs(e,as,t.fontStyle),this.fontVariant=xs(e,ns,t.fontVariant),this.fontWeight=xs(e,ts,t.fontWeight),this.letterSpacing=xs(e,fA,t.letterSpacing),this.lineBreak=xs(e,vA,t.lineBreak),this.lineHeight=xs(e,yA,t.lineHeight),this.listStyleImage=xs(e,BA,t.listStyleImage),this.listStylePosition=xs(e,jA,t.listStylePosition),this.listStyleType=xs(e,bA,t.listStyleType),this.marginTop=xs(e,NA,t.marginTop),this.marginRight=xs(e,QA,t.marginRight),this.marginBottom=xs(e,FA,t.marginBottom),this.marginLeft=xs(e,UA,t.marginLeft),this.opacity=xs(e,XA,t.opacity);var A=xs(e,SA,t.overflow);this.overflowX=A[0],this.overflowY=A[A.length>1?1:0],this.overflowWrap=xs(e,kA,t.overflowWrap),this.paddingTop=xs(e,_A,t.paddingTop),this.paddingRight=xs(e,IA,t.paddingRight),this.paddingBottom=xs(e,HA,t.paddingBottom),this.paddingLeft=xs(e,TA,t.paddingLeft),this.paintOrder=xs(e,us,t.paintOrder),this.position=xs(e,PA,t.position),this.textAlign=xs(e,LA,t.textAlign),this.textDecorationColor=xs(e,qA,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=xs(e,ZA,null!==(a=t.textDecorationLine)&&void 0!==a?a:t.textDecoration),this.textShadow=xs(e,DA,t.textShadow),this.textTransform=xs(e,OA,t.textTransform),this.transform=xs(e,RA,t.transform),this.transformOrigin=xs(e,VA,t.transformOrigin),this.visibility=xs(e,WA,t.visibility),this.webkitTextStrokeColor=xs(e,hs,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=xs(e,ms,t.webkitTextStrokeWidth),this.wordBreak=xs(e,JA,t.wordBreak),this.zIndex=xs(e,zA,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return aa(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return As(this.display,4)||As(this.display,33554432)||As(this.display,268435456)||As(this.display,536870912)||As(this.display,67108864)||As(this.display,134217728)},e}(),gs=function(){function e(e,t){this.content=xs(e,ss,t.content),this.quotes=xs(e,os,t.quotes)}return e}(),fs=function(){function e(e,t){this.counterIncrement=xs(e,rs,t.counterIncrement),this.counterReset=xs(e,is,t.counterReset)}return e}(),xs=function(e,t,n){var a=new Un,A=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;a.write(A);var s=new Sn(a.read());switch(t.type){case 2:var r=s.parseComponentValue();return t.parse(e,_n(r)?r.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return Zn.parse(e,s.parseComponentValue());case"color":return na.parse(e,s.parseComponentValue());case"image":return Ia.parse(e,s.parseComponentValue());case"length":var i=s.parseComponentValue();return On(i)?i:Kn;case"length-percentage":var l=s.parseComponentValue();return Rn(l)?l:Kn;case"time":return YA.parse(e,s.parseComponentValue())}}},vs="data-html2canvas-debug",ys=function(e){switch(e.getAttribute(vs)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ws=function(e,t){var n=ys(e);return 1===n||t===n},Bs=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,ws(t,3),this.styles=new ps(e,window.getComputedStyle(t,null)),oi(t)&&(this.styles.animationDuration.some(function(e){return e>0})&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=i(this.context,t),ws(t,4)&&(this.flags|=16)}return e}(),js="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",bs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cs="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ns=0;Ns<bs.length;Ns++)Cs[bs.charCodeAt(Ns)]=Ns;for(var Qs=function(e){var t,n,a,A,s,r=.75*e.length,i=e.length,l=0;"="===e[e.length-1]&&(r--,"="===e[e.length-2]&&r--);var o="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(r):new Array(r),c=Array.isArray(o)?o:new Uint8Array(o);for(t=0;t<i;t+=4)n=Cs[e.charCodeAt(t)],a=Cs[e.charCodeAt(t+1)],A=Cs[e.charCodeAt(t+2)],s=Cs[e.charCodeAt(t+3)],c[l++]=n<<2|a>>4,c[l++]=(15&a)<<4|A>>2,c[l++]=(3&A)<<6|63&s;return o},Fs=function(e){for(var t=e.length,n=[],a=0;a<t;a+=2)n.push(e[a+1]<<8|e[a]);return n},Us=function(e){for(var t=e.length,n=[],a=0;a<t;a+=4)n.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return n},Ss=5,ks=11,Es=2,_s=65536>>Ss,Is=(1<<Ss)-1,Hs=_s+(1024>>Ss)+32,Ts=65536>>ks,Ls=(1<<ks-Ss)-1,Ps=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Ds=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Os=function(e,t){var n=Qs(e),a=Array.isArray(n)?Us(n):new Uint32Array(n),A=Array.isArray(n)?Fs(n):new Uint16Array(n),s=24,r=Ps(A,s/2,a[4]/2),i=2===a[5]?Ps(A,(s+a[4])/2):Ds(a,Math.ceil((s+a[4])/4));return new Rs(a[0],a[1],a[2],a[3],r,i)},Rs=function(){function e(e,t,n,a,A,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=A,this.data=s}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Ss])<<Es)+(e&Is),this.data[t];if(e<=65535)return t=((t=this.index[_s+(e-55296>>Ss)])<<Es)+(e&Is),this.data[t];if(e<this.highStart)return t=Hs-Ts+(e>>ks),t=this.index[t],t+=e>>Ss&Ls,t=((t=this.index[t])<<Es)+(e&Is),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Ms="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ks="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Gs=0;Gs<Ms.length;Gs++)Ks[Ms.charCodeAt(Gs)]=Gs;var Vs,Ws=1,Js=2,zs=3,Ys=4,Xs=5,qs=7,Zs=8,$s=9,er=10,tr=11,nr=12,ar=13,Ar=14,sr=15,rr=function(e){for(var t=[],n=0,a=e.length;n<a;){var A=e.charCodeAt(n++);if(A>=55296&&A<=56319&&n<a){var s=e.charCodeAt(n++);56320===(64512&s)?t.push(((1023&A)<<10)+(1023&s)+65536):(t.push(A),n--)}else t.push(A)}return t},ir=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var a=[],A=-1,s="";++A<n;){var r=e[A];r<=65535?a.push(r):(r-=65536,a.push(55296+(r>>10),r%1024+56320)),(A+1===n||a.length>16384)&&(s+=String.fromCharCode.apply(String,a),a.length=0)}return s},lr=Os(js),or="\xd7",cr="\xf7",dr=function(e){return lr.get(e)},ur=function(e,t,n){var a=n-2,A=t[a],s=t[n-1],r=t[n];if(s===Js&&r===zs)return or;if(s===Js||s===zs||s===Ys)return cr;if(r===Js||r===zs||r===Ys)return cr;if(s===Zs&&-1!==[Zs,$s,tr,nr].indexOf(r))return or;if((s===tr||s===$s)&&(r===$s||r===er))return or;if((s===nr||s===er)&&r===er)return or;if(r===ar||r===Xs)return or;if(r===qs)return or;if(s===Ws)return or;if(s===ar&&r===Ar){for(;A===Xs;)A=t[--a];if(A===Ar)return or}if(s===sr&&r===sr){for(var i=0;A===sr;)i++,A=t[--a];if(i%2===0)return or}return cr},hr=function(e){var t=rr(e),n=t.length,a=0,A=0,s=t.map(dr);return{next:function(){if(a>=n)return{done:!0,value:null};for(var e=or;a<n&&(e=ur(t,s,++a))===or;);if(e!==or||a===n){var r=ir.apply(null,t.slice(A,a));return A=a,{value:r,done:!1}}return{done:!0,value:null}}}},mr=function(e){for(var t,n=hr(e),a=[];!(t=n.next()).done;)t.value&&a.push(t.value.slice());return a},pr=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var a=e.createElement("boundtest");a.style.height=t+"px",a.style.display="block",e.body.appendChild(a),n.selectNode(a);var A=n.getBoundingClientRect(),s=Math.round(A.height);if(e.body.removeChild(a),s===t)return!0}}return!1},gr=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var a=t.firstChild,A=o(a.data).map(function(e){return c(e)}),s=0,r={},i=A.every(function(e,t){n.setStart(a,s),n.setEnd(a,s+e.length);var A=n.getBoundingClientRect();s+=e.length;var i=A.x>r.x||A.y>r.y;return r=A,0===t||i});return e.body.removeChild(t),i},fr=function(){return"undefined"!==typeof(new Image).crossOrigin},xr=function(){return"string"===typeof(new XMLHttpRequest).responseType},vr=function(e){var t=new Image,n=e.createElement("canvas"),a=n.getContext("2d");if(!a)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{a.drawImage(t,0,0),n.toDataURL()}catch(Lt){return!1}return!0},yr=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},wr=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var a=t.getContext("2d");if(!a)return Promise.reject(!1);a.fillStyle="rgb(0, 255, 0)",a.fillRect(0,0,n,n);var A=new Image,s=t.toDataURL();A.src=s;var r=Br(n,n,0,0,A);return a.fillStyle="red",a.fillRect(0,0,n,n),jr(r).then(function(t){a.drawImage(t,0,0);var A=a.getImageData(0,0,n,n).data;a.fillStyle="red",a.fillRect(0,0,n,n);var r=e.createElement("div");return r.style.backgroundImage="url("+s+")",r.style.height=n+"px",yr(A)?jr(Br(n,n,0,0,r)):Promise.reject(!1)}).then(function(e){return a.drawImage(e,0,0),yr(a.getImageData(0,0,n,n).data)}).catch(function(){return!1})},Br=function(e,t,n,a,A){var s="http://www.w3.org/2000/svg",r=document.createElementNS(s,"svg"),i=document.createElementNS(s,"foreignObject");return r.setAttributeNS(null,"width",e.toString()),r.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width","100%"),i.setAttributeNS(null,"height","100%"),i.setAttributeNS(null,"x",n.toString()),i.setAttributeNS(null,"y",a.toString()),i.setAttributeNS(null,"externalResourcesRequired","true"),r.appendChild(i),i.appendChild(A),r},jr=function(e){return new Promise(function(t,n){var a=new Image;a.onload=function(){return t(a)},a.onerror=n,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},br={get SUPPORT_RANGE_BOUNDS(){var e=pr(document);return Object.defineProperty(br,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=br.SUPPORT_RANGE_BOUNDS&&gr(document);return Object.defineProperty(br,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=vr(document);return Object.defineProperty(br,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?wr(document):Promise.resolve(!1);return Object.defineProperty(br,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=fr();return Object.defineProperty(br,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=xr();return Object.defineProperty(br,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(br,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(br,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Cr=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Nr=function(e,t,n,a){var A=kr(t,n),s=[],i=0;return A.forEach(function(t){if(n.textDecorationLine.length||t.trim().length>0)if(br.SUPPORT_RANGE_BOUNDS){var A=Fr(a,i,t.length).getClientRects();if(A.length>1){var l=Ur(t),o=0;l.forEach(function(t){s.push(new Cr(t,r.fromDOMRectList(e,Fr(a,o+i,t.length).getClientRects()))),o+=t.length})}else s.push(new Cr(t,r.fromDOMRectList(e,A)))}else{var c=a.splitText(t.length);s.push(new Cr(t,Qr(e,a))),a=c}else br.SUPPORT_RANGE_BOUNDS||(a=a.splitText(t.length));i+=t.length}),s},Qr=function(e,t){var n=t.ownerDocument;if(n){var a=n.createElement("html2canvaswrapper");a.appendChild(t.cloneNode(!0));var A=t.parentNode;if(A){A.replaceChild(a,t);var s=i(e,a);return a.firstChild&&A.replaceChild(a.firstChild,a),s}}return r.EMPTY},Fr=function(e,t,n){var a=e.ownerDocument;if(!a)throw new Error("Node has no owner document");var A=a.createRange();return A.setStart(e,t),A.setEnd(e,t+n),A},Ur=function(e){if(br.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(e){return e.segment})}return mr(e)},Sr=function(e,t){if(br.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(e){return e.segment})}return _r(e,t)},kr=function(e,t){return 0!==t.letterSpacing?Ur(e):Sr(e,t)},Er=[32,160,4961,65792,65793,4153,4241],_r=function(e,t){for(var n,a=Me(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),A=[],s=function(){if(n.value){var e=n.value.slice(),t=o(e),a="";t.forEach(function(e){-1===Er.indexOf(e)?a+=c(e):(a.length&&A.push(a),A.push(c(e)),a="")}),a.length&&A.push(a)}};!(n=a.next()).done;)s();return A},Ir=function(){function e(e,t,n){this.text=Hr(t.data,n.textTransform),this.textBounds=Nr(e,this.text,n,t)}return e}(),Hr=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Tr,Lr);case 2:return e.toUpperCase();default:return e}},Tr=/(^|\s|:|-|\(|\))([a-z])/g,Lr=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Pr=function(e){function n(t,n){var a=e.call(this,t,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return t(n,e),n}(Bs),Dr=function(e){function n(t,n){var a=e.call(this,t,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return t(n,e),n}(Bs),Or=function(e){function n(t,n){var a=e.call(this,t,n)||this,A=new XMLSerializer,s=i(t,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(A.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t(n,e),n}(Bs),Rr=function(e){function n(t,n){var a=e.call(this,t,n)||this;return a.value=n.value,a}return t(n,e),n}(Bs),Mr=function(e){function n(t,n){var a=e.call(this,t,n)||this;return a.start=n.start,a.reversed="boolean"===typeof n.reversed&&!0===n.reversed,a}return t(n,e),n}(Bs),Kr=[{type:15,flags:0,unit:"px",number:3}],Gr=[{type:16,flags:0,number:50}],Vr=function(e){return e.width>e.height?new r(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new r(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Wr=function(e){var t=e.type===Yr?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},Jr="checkbox",zr="radio",Yr="password",Xr=707406591,qr=function(e){function n(t,n){var a=e.call(this,t,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=Wr(n),a.type!==Jr&&a.type!==zr||(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=Vr(a.bounds)),a.type){case Jr:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Kr;break;case zr:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Gr}return a}return t(n,e),n}(Bs),Zr=function(e){function n(t,n){var a=e.call(this,t,n)||this,A=n.options[n.selectedIndex||0];return a.value=A&&A.text||"",a}return t(n,e),n}(Bs),$r=function(e){function n(t,n){var a=e.call(this,t,n)||this;return a.value=n.value,a}return t(n,e),n}(Bs),ei=function(e){function n(t,n){var a=e.call(this,t,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=Ai(t,n.contentWindow.document.documentElement);var A=n.contentWindow.document.documentElement?da(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):ua.TRANSPARENT,s=n.contentWindow.document.body?da(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):ua.TRANSPARENT;a.backgroundColor=aa(A)?aa(s)?a.styles.backgroundColor:s:A}}catch(Lt){}return a}return t(n,e),n}(Bs),ti=["OL","UL","MENU"],ni=function(e,t,n,a){for(var A=t.firstChild,s=void 0;A;A=s)if(s=A.nextSibling,ii(A)&&A.data.trim().length>0)n.textNodes.push(new Ir(e,A,n.styles));else if(li(A))if(Ci(A)&&A.assignedNodes)A.assignedNodes().forEach(function(t){return ni(e,t,n,a)});else{var r=ai(e,A);r.styles.isVisible()&&(si(A,r,a)?r.flags|=4:ri(r.styles)&&(r.flags|=2),-1!==ti.indexOf(A.tagName)&&(r.flags|=8),n.elements.push(r),A.slot,A.shadowRoot?ni(e,A.shadowRoot,r,a):ji(A)||pi(A)||bi(A)||ni(e,A,r,a))}},ai=function(e,t){return vi(t)?new Pr(e,t):fi(t)?new Dr(e,t):pi(t)?new Or(e,t):di(t)?new Rr(e,t):ui(t)?new Mr(e,t):hi(t)?new qr(e,t):bi(t)?new Zr(e,t):ji(t)?new $r(e,t):yi(t)?new ei(e,t):new Bs(e,t)},Ai=function(e,t){var n=ai(e,t);return n.flags|=4,ni(e,t,n,n),n},si=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||gi(e)&&n.styles.isTransparent()},ri=function(e){return e.isPositioned()||e.isFloating()},ii=function(e){return e.nodeType===Node.TEXT_NODE},li=function(e){return e.nodeType===Node.ELEMENT_NODE},oi=function(e){return li(e)&&"undefined"!==typeof e.style&&!ci(e)},ci=function(e){return"object"===typeof e.className},di=function(e){return"LI"===e.tagName},ui=function(e){return"OL"===e.tagName},hi=function(e){return"INPUT"===e.tagName},mi=function(e){return"HTML"===e.tagName},pi=function(e){return"svg"===e.tagName},gi=function(e){return"BODY"===e.tagName},fi=function(e){return"CANVAS"===e.tagName},xi=function(e){return"VIDEO"===e.tagName},vi=function(e){return"IMG"===e.tagName},yi=function(e){return"IFRAME"===e.tagName},wi=function(e){return"STYLE"===e.tagName},Bi=function(e){return"SCRIPT"===e.tagName},ji=function(e){return"TEXTAREA"===e.tagName},bi=function(e){return"SELECT"===e.tagName},Ci=function(e){return"SLOT"===e.tagName},Ni=function(e){return e.tagName.indexOf("-")>0},Qi=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,a=e.counterReset,A=!0;null!==n&&n.forEach(function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(A=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)});var s=[];return A&&a.forEach(function(e){var n=t.counters[e.counter];s.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)}),s},e}(),Fi={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ui={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Si={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},ki={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Ei=function(e,t,n,a,A,s){return e<t||e>n?Vi(e,A,s.length>0):a.integers.reduce(function(t,n,A){for(;e>=n;)e-=n,t+=a.values[A];return t},"")+s},_i=function(e,t,n,a){var A="";do{n||e--,A=a(e)+A,e/=t}while(e*t>=t);return A},Ii=function(e,t,n,a,A){var s=n-t+1;return(e<0?"-":"")+(_i(Math.abs(e),s,a,function(e){return c(Math.floor(e%s)+t)})+A)},Hi=function(e,t,n){void 0===n&&(n=". ");var a=t.length;return _i(Math.abs(e),a,!1,function(e){return t[Math.floor(e%a)]})+n},Ti=1,Li=2,Pi=4,Di=8,Oi=function(e,t,n,a,A,s){if(e<-9999||e>9999)return Vi(e,4,A.length>0);var r=Math.abs(e),i=A;if(0===r)return t[0]+i;for(var l=0;r>0&&l<=4;l++){var o=r%10;0===o&&As(s,Ti)&&""!==i?i=t[o]+i:o>1||1===o&&0===l||1===o&&1===l&&As(s,Li)||1===o&&1===l&&As(s,Pi)&&e>100||1===o&&l>1&&As(s,Di)?i=t[o]+(l>0?n[l-1]:"")+i:1===o&&l>0&&(i=n[l-1]+i),r=Math.floor(r/10)}return(e<0?a:"")+i},Ri="\u5341\u767e\u5343\u842c",Mi="\u62fe\u4f70\u4edf\u842c",Ki="\u30de\u30a4\u30ca\u30b9",Gi="\ub9c8\uc774\ub108\uc2a4",Vi=function(e,t,n){var a=n?". ":"",A=n?"\u3001":"",s=n?", ":"",r=n?" ":"";switch(t){case 0:return"\u2022"+r;case 1:return"\u25e6"+r;case 2:return"\u25fe"+r;case 5:var i=Ii(e,48,57,!0,a);return i.length<4?"0"+i:i;case 4:return Hi(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",A);case 6:return Ei(e,1,3999,Fi,3,a).toLowerCase();case 7:return Ei(e,1,3999,Fi,3,a);case 8:return Ii(e,945,969,!1,a);case 9:return Ii(e,97,122,!1,a);case 10:return Ii(e,65,90,!1,a);case 11:return Ii(e,1632,1641,!0,a);case 12:case 49:return Ei(e,1,9999,Ui,3,a);case 35:return Ei(e,1,9999,Ui,3,a).toLowerCase();case 13:return Ii(e,2534,2543,!0,a);case 14:case 30:return Ii(e,6112,6121,!0,a);case 15:return Hi(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",A);case 16:return Hi(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",A);case 17:case 48:return Oi(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Ri,"\u8ca0",A,Li|Pi|Di);case 47:return Oi(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",Mi,"\u8ca0",A,Ti|Li|Pi|Di);case 42:return Oi(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Ri,"\u8d1f",A,Li|Pi|Di);case 41:return Oi(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",Mi,"\u8d1f",A,Ti|Li|Pi|Di);case 26:return Oi(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Ki,A,0);case 25:return Oi(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Ki,A,Ti|Li|Pi);case 31:return Oi(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Gi,s,Ti|Li|Pi);case 33:return Oi(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Gi,s,0);case 32:return Oi(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Gi,s,Ti|Li|Pi);case 18:return Ii(e,2406,2415,!0,a);case 20:return Ei(e,1,19999,ki,3,a);case 21:return Ii(e,2790,2799,!0,a);case 22:return Ii(e,2662,2671,!0,a);case 22:return Ei(e,1,10999,Si,3,a);case 23:return Hi(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Hi(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Ii(e,3302,3311,!0,a);case 28:return Hi(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",A);case 29:return Hi(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",A);case 34:return Ii(e,3792,3801,!0,a);case 37:return Ii(e,6160,6169,!0,a);case 38:return Ii(e,4160,4169,!0,a);case 39:return Ii(e,2918,2927,!0,a);case 40:return Ii(e,1776,1785,!0,a);case 43:return Ii(e,3046,3055,!0,a);case 44:return Ii(e,3174,3183,!0,a);case 45:return Ii(e,3664,3673,!0,a);case 46:return Ii(e,3872,3881,!0,a);default:return Ii(e,48,57,!0,a)}},Wi="data-html2canvas-ignore",Ji=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Qi,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,s=Yi(e,t);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var r=e.defaultView.pageXOffset,i=e.defaultView.pageYOffset,l=s.contentWindow,o=l.document,c=Zi(s).then(function(){return a(n,void 0,void 0,function(){var e,n;return A(this,function(a){switch(a.label){case 0:return this.scrolledElements.forEach(al),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:o.fonts&&o.fonts.ready?[4,o.fonts.ready]:[3,2];case 1:a.sent(),a.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,qi(o)]:[3,4];case 3:a.sent(),a.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then(function(){return e(o,n)}).then(function(){return s})]:[2,s]}})})});return o.open(),o.write(tl(document.doctype)+"<html></html>"),nl(this.referenceElement.ownerDocument,r,i),o.replaceChild(o.adoptNode(this.documentElement),o.documentElement),o.close(),c},e.prototype.createElementClone=function(e){if(ws(e,2),fi(e))return this.createCanvasClone(e);if(xi(e))return this.createVideoClone(e);if(wi(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return vi(t)&&(vi(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Ni(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return el(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(Lt){if(this.context.logger.error("Unable to access cssRules property",Lt),"SecurityError"!==Lt.name)throw Lt}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Lt){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var A=e.getContext("2d"),s=a.getContext("2d");if(s)if(!this.options.allowTaint&&A)s.putImageData(A.getImageData(0,0,e.width,e.height),0,0);else{var r=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(r){var i=r.getContextAttributes();!1===(null===i||void 0===i?void 0:i.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return a}catch(Lt){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Lt){this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},e.prototype.appendChildNode=function(e,t,n){li(t)&&(Bi(t)||t.hasAttribute(Wi)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&li(t)&&wi(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var a=this,A=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;A;A=A.nextSibling)if(li(A)&&Ci(A)&&"function"===typeof A.assignedNodes){var s=A.assignedNodes();s.length&&s.forEach(function(e){return a.appendChildNode(t,e,n)})}else this.appendChildNode(t,A,n)},e.prototype.cloneNode=function(e,t){if(ii(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&li(e)&&(oi(e)||ci(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var A=n.getComputedStyle(e),s=n.getComputedStyle(e,":before"),r=n.getComputedStyle(e,":after");this.referenceElement===e&&oi(a)&&(this.clonedReferenceElement=a),gi(a)&&ol(a);var i=this.counters.parse(new fs(this.context,A)),l=this.resolvePseudoContent(e,a,s,Vs.BEFORE);Ni(e)&&(t=!0),xi(e)||this.cloneChildNodes(e,a,t),l&&a.insertBefore(l,a.firstChild);var o=this.resolvePseudoContent(e,a,r,Vs.AFTER);return o&&a.appendChild(o),this.counters.pop(i),(A&&(this.options.copyStyles||ci(e))&&!yi(e)||t)&&el(A,a),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(ji(e)||bi(e))&&(ji(a)||bi(a))&&(a.value=e.value),a}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,a){var A=this;if(n){var s=n.content,r=t.ownerDocument;if(r&&s&&"none"!==s&&"-moz-alt-content"!==s&&"none"!==n.display){this.counters.parse(new fs(this.context,n));var i=new gs(this.context,n),l=r.createElement("html2canvaspseudoelement");el(n,l),i.content.forEach(function(t){if(0===t.type)l.appendChild(r.createTextNode(t.value));else if(22===t.type){var n=r.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(18===t.type){if("attr"===t.name){var a=t.values.filter(_n);a.length&&l.appendChild(r.createTextNode(e.getAttribute(a[0].value)||""))}else if("counter"===t.name){var s=t.values.filter(Ln),o=s[0],c=s[1];if(o&&_n(o)){var d=A.counters.getCounterValue(o.value),u=c&&_n(c)?bA.parse(A.context,c.value):3;l.appendChild(r.createTextNode(Vi(d,u,!1)))}}else if("counters"===t.name){var h=t.values.filter(Ln),m=(o=h[0],h[1]);if(c=h[2],o&&_n(o)){var p=A.counters.getCounterValues(o.value),g=c&&_n(c)?bA.parse(A.context,c.value):3,f=m&&0===m.type?m.value:"",x=p.map(function(e){return Vi(e,g,!1)}).join(f);l.appendChild(r.createTextNode(x))}}}else if(20===t.type)switch(t.value){case"open-quote":l.appendChild(r.createTextNode(cs(i.quotes,A.quoteDepth++,!0)));break;case"close-quote":l.appendChild(r.createTextNode(cs(i.quotes,--A.quoteDepth,!1)));break;default:l.appendChild(r.createTextNode(t.value))}}),l.className=rl+" "+il;var o=a===Vs.BEFORE?" "+rl:" "+il;return ci(t)?t.className.baseValue+=o:t.className+=o,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Vs||(Vs={}));var zi,Yi=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Wi,"true"),e.body.appendChild(n),n},Xi=function(e){return new Promise(function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()})},qi=function(e){return Promise.all([].slice.call(e.images,0).map(Xi))},Zi=function(e){return new Promise(function(t,n){var a=e.contentWindow;if(!a)return n("No window assigned for iframe");var A=a.document;a.onload=e.onload=function(){a.onload=e.onload=null;var n=setInterval(function(){A.body.childNodes.length>0&&"complete"===A.readyState&&(clearInterval(n),t(e))},50)}})},$i=["all","d","content"],el=function(e,t){for(var n=e.length-1;n>=0;n--){var a=e.item(n);-1===$i.indexOf(a)&&t.style.setProperty(a,e.getPropertyValue(a))}return t},tl=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},nl=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},al=function(e){var t=e[0],n=e[1],a=e[2];t.scrollLeft=n,t.scrollTop=a},Al=":before",sl=":after",rl="___html2canvas___pseudoelement_before",il="___html2canvas___pseudoelement_after",ll='{\n    content: "" !important;\n    display: none !important;\n}',ol=function(e){cl(e,"."+rl+Al+ll+"\n         ."+il+sl+ll)},cl=function(e,t){var n=e.ownerDocument;if(n){var a=n.createElement("style");a.textContent=t,e.appendChild(a)}},dl=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),ul=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:vl(e)||gl(e)?((this._cache[e]=this.loadImage(e)).catch(function(){}),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return a(this,void 0,void 0,function(){var t,n,a,s,r=this;return A(this,function(A){switch(A.label){case 0:return t=dl.isSameOrigin(e),n=!fl(e)&&!0===this._options.useCORS&&br.SUPPORT_CORS_IMAGES&&!t,a=!fl(e)&&!t&&!vl(e)&&"string"===typeof this._options.proxy&&br.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||fl(e)||vl(e)||a||n?(s=e,a?[4,this.proxy(s)]:[3,2]):[2];case 1:s=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(e,t){var a=new Image;a.onload=function(){return e(a)},a.onerror=t,(xl(s)||n)&&(a.crossOrigin="anonymous"),a.src=s,!0===a.complete&&setTimeout(function(){return e(a)},500),r._options.imageTimeout>0&&setTimeout(function(){return t("Timed out ("+r._options.imageTimeout+"ms) loading image")},r._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(A,s){var r=br.SUPPORT_RESPONSE_TYPE?"blob":"text",i=new XMLHttpRequest;i.onload=function(){if(200===i.status)if("text"===r)A(i.response);else{var e=new FileReader;e.addEventListener("load",function(){return A(e.result)},!1),e.addEventListener("error",function(e){return s(e)},!1),e.readAsDataURL(i.response)}else s("Failed to proxy resource "+a+" with status code "+i.status)},i.onerror=s;var l=n.indexOf("?")>-1?"&":"?";if(i.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+r),"text"!==r&&i instanceof XMLHttpRequest&&(i.responseType=r),t._options.imageTimeout){var o=t._options.imageTimeout;i.timeout=o,i.ontimeout=function(){return s("Timed out ("+o+"ms) proxying "+a)}}i.send()})},e}(),hl=/^data:image\/svg\+xml/i,ml=/^data:image\/.*;base64,/i,pl=/^data:image\/.*/i,gl=function(e){return br.SUPPORT_SVG_DRAWING||!yl(e)},fl=function(e){return pl.test(e)},xl=function(e){return ml.test(e)},vl=function(e){return"blob"===e.substr(0,4)},yl=function(e){return"svg"===e.substr(-3).toLowerCase()||hl.test(e)},wl=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Bl=function(e,t,n){return new wl(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},jl=function(){function e(e,t,n,a){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=a}return e.prototype.subdivide=function(t,n){var a=Bl(this.start,this.startControl,t),A=Bl(this.startControl,this.endControl,t),s=Bl(this.endControl,this.end,t),r=Bl(a,A,t),i=Bl(A,s,t),l=Bl(r,i,t);return n?new e(this.start,a,r,l):new e(l,i,s,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),bl=function(e){return 1===e.type},Cl=function(){function e(e){var t=e.styles,n=e.bounds,a=Wn(t.borderTopLeftRadius,n.width,n.height),A=a[0],s=a[1],r=Wn(t.borderTopRightRadius,n.width,n.height),i=r[0],l=r[1],o=Wn(t.borderBottomRightRadius,n.width,n.height),c=o[0],d=o[1],u=Wn(t.borderBottomLeftRadius,n.width,n.height),h=u[0],m=u[1],p=[];p.push((A+i)/n.width),p.push((h+c)/n.width),p.push((s+m)/n.height),p.push((l+d)/n.height);var g=Math.max.apply(Math,p);g>1&&(A/=g,s/=g,i/=g,l/=g,c/=g,d/=g,h/=g,m/=g);var f=n.width-i,x=n.height-d,v=n.width-c,y=n.height-m,w=t.borderTopWidth,B=t.borderRightWidth,j=t.borderBottomWidth,b=t.borderLeftWidth,C=Jn(t.paddingTop,e.bounds.width),N=Jn(t.paddingRight,e.bounds.width),Q=Jn(t.paddingBottom,e.bounds.width),F=Jn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=A>0||s>0?Nl(n.left+b/3,n.top+w/3,A-b/3,s-w/3,zi.TOP_LEFT):new wl(n.left+b/3,n.top+w/3),this.topRightBorderDoubleOuterBox=A>0||s>0?Nl(n.left+f,n.top+w/3,i-B/3,l-w/3,zi.TOP_RIGHT):new wl(n.left+n.width-B/3,n.top+w/3),this.bottomRightBorderDoubleOuterBox=c>0||d>0?Nl(n.left+v,n.top+x,c-B/3,d-j/3,zi.BOTTOM_RIGHT):new wl(n.left+n.width-B/3,n.top+n.height-j/3),this.bottomLeftBorderDoubleOuterBox=h>0||m>0?Nl(n.left+b/3,n.top+y,h-b/3,m-j/3,zi.BOTTOM_LEFT):new wl(n.left+b/3,n.top+n.height-j/3),this.topLeftBorderDoubleInnerBox=A>0||s>0?Nl(n.left+2*b/3,n.top+2*w/3,A-2*b/3,s-2*w/3,zi.TOP_LEFT):new wl(n.left+2*b/3,n.top+2*w/3),this.topRightBorderDoubleInnerBox=A>0||s>0?Nl(n.left+f,n.top+2*w/3,i-2*B/3,l-2*w/3,zi.TOP_RIGHT):new wl(n.left+n.width-2*B/3,n.top+2*w/3),this.bottomRightBorderDoubleInnerBox=c>0||d>0?Nl(n.left+v,n.top+x,c-2*B/3,d-2*j/3,zi.BOTTOM_RIGHT):new wl(n.left+n.width-2*B/3,n.top+n.height-2*j/3),this.bottomLeftBorderDoubleInnerBox=h>0||m>0?Nl(n.left+2*b/3,n.top+y,h-2*b/3,m-2*j/3,zi.BOTTOM_LEFT):new wl(n.left+2*b/3,n.top+n.height-2*j/3),this.topLeftBorderStroke=A>0||s>0?Nl(n.left+b/2,n.top+w/2,A-b/2,s-w/2,zi.TOP_LEFT):new wl(n.left+b/2,n.top+w/2),this.topRightBorderStroke=A>0||s>0?Nl(n.left+f,n.top+w/2,i-B/2,l-w/2,zi.TOP_RIGHT):new wl(n.left+n.width-B/2,n.top+w/2),this.bottomRightBorderStroke=c>0||d>0?Nl(n.left+v,n.top+x,c-B/2,d-j/2,zi.BOTTOM_RIGHT):new wl(n.left+n.width-B/2,n.top+n.height-j/2),this.bottomLeftBorderStroke=h>0||m>0?Nl(n.left+b/2,n.top+y,h-b/2,m-j/2,zi.BOTTOM_LEFT):new wl(n.left+b/2,n.top+n.height-j/2),this.topLeftBorderBox=A>0||s>0?Nl(n.left,n.top,A,s,zi.TOP_LEFT):new wl(n.left,n.top),this.topRightBorderBox=i>0||l>0?Nl(n.left+f,n.top,i,l,zi.TOP_RIGHT):new wl(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||d>0?Nl(n.left+v,n.top+x,c,d,zi.BOTTOM_RIGHT):new wl(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=h>0||m>0?Nl(n.left,n.top+y,h,m,zi.BOTTOM_LEFT):new wl(n.left,n.top+n.height),this.topLeftPaddingBox=A>0||s>0?Nl(n.left+b,n.top+w,Math.max(0,A-b),Math.max(0,s-w),zi.TOP_LEFT):new wl(n.left+b,n.top+w),this.topRightPaddingBox=i>0||l>0?Nl(n.left+Math.min(f,n.width-B),n.top+w,f>n.width+B?0:Math.max(0,i-B),Math.max(0,l-w),zi.TOP_RIGHT):new wl(n.left+n.width-B,n.top+w),this.bottomRightPaddingBox=c>0||d>0?Nl(n.left+Math.min(v,n.width-b),n.top+Math.min(x,n.height-j),Math.max(0,c-B),Math.max(0,d-j),zi.BOTTOM_RIGHT):new wl(n.left+n.width-B,n.top+n.height-j),this.bottomLeftPaddingBox=h>0||m>0?Nl(n.left+b,n.top+Math.min(y,n.height-j),Math.max(0,h-b),Math.max(0,m-j),zi.BOTTOM_LEFT):new wl(n.left+b,n.top+n.height-j),this.topLeftContentBox=A>0||s>0?Nl(n.left+b+F,n.top+w+C,Math.max(0,A-(b+F)),Math.max(0,s-(w+C)),zi.TOP_LEFT):new wl(n.left+b+F,n.top+w+C),this.topRightContentBox=i>0||l>0?Nl(n.left+Math.min(f,n.width+b+F),n.top+w+C,f>n.width+b+F?0:i-b+F,l-(w+C),zi.TOP_RIGHT):new wl(n.left+n.width-(B+N),n.top+w+C),this.bottomRightContentBox=c>0||d>0?Nl(n.left+Math.min(v,n.width-(b+F)),n.top+Math.min(x,n.height+w+C),Math.max(0,c-(B+N)),d-(j+Q),zi.BOTTOM_RIGHT):new wl(n.left+n.width-(B+N),n.top+n.height-(j+Q)),this.bottomLeftContentBox=h>0||m>0?Nl(n.left+b+F,n.top+y,Math.max(0,h-(b+F)),m-(j+Q),zi.BOTTOM_LEFT):new wl(n.left+b+F,n.top+n.height-(j+Q))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(zi||(zi={}));var Nl=function(e,t,n,a,A){var s=(Math.sqrt(2)-1)/3*4,r=n*s,i=a*s,l=e+n,o=t+a;switch(A){case zi.TOP_LEFT:return new jl(new wl(e,o),new wl(e,o-i),new wl(l-r,t),new wl(l,t));case zi.TOP_RIGHT:return new jl(new wl(e,t),new wl(e+r,t),new wl(l,o-i),new wl(l,o));case zi.BOTTOM_RIGHT:return new jl(new wl(l,t),new wl(l,t+i),new wl(e+r,o),new wl(e,o));case zi.BOTTOM_LEFT:default:return new jl(new wl(l,o),new wl(l-r,o),new wl(e,t+i),new wl(e,t))}},Ql=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Fl=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Ul=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Sl=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),kl=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),El=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),_l=function(e){return 0===e.type},Il=function(e){return 1===e.type},Hl=function(e){return 2===e.type},Tl=function(e,t){return e.length===t.length&&e.some(function(e,n){return e===t[n]})},Ll=function(e,t,n,a,A){return e.map(function(e,s){switch(s){case 0:return e.add(t,n);case 1:return e.add(t+a,n);case 2:return e.add(t+a,n+A);case 3:return e.add(t,n+A)}return e})},Pl=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Dl=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Cl(this.container),this.container.styles.opacity<1&&this.effects.push(new El(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,A=this.container.styles.transform;this.effects.push(new Sl(n,a,A))}if(0!==this.container.styles.overflowX){var s=Ql(this.curves),r=Ul(this.curves);Tl(s,r)?this.effects.push(new kl(s,6)):(this.effects.push(new kl(s,2)),this.effects.push(new kl(r,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,a=this.effects.slice(0);n;){var A=n.effects.filter(function(e){return!Il(e)});if(t||0!==n.container.styles.position||!n.parent){if(a.unshift.apply(a,A),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var s=Ql(n.curves),r=Ul(n.curves);Tl(s,r)||a.unshift(new kl(r,6))}}else a.unshift.apply(a,A);n=n.parent}return a.filter(function(t){return As(t.target,e)})},e}(),Ol=function(e,t,n,a){e.container.elements.forEach(function(A){var s=As(A.flags,4),r=As(A.flags,2),i=new Dl(A,e);As(A.styles.display,2048)&&a.push(i);var l=As(A.flags,8)?[]:a;if(s||r){var o=s||A.styles.isPositioned()?n:t,c=new Pl(i);if(A.styles.isPositioned()||A.styles.opacity<1||A.styles.isTransformed()){var d=A.styles.zIndex.order;if(d<0){var u=0;o.negativeZIndex.some(function(e,t){return d>e.element.container.styles.zIndex.order?(u=t,!1):u>0}),o.negativeZIndex.splice(u,0,c)}else if(d>0){var h=0;o.positiveZIndex.some(function(e,t){return d>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0}),o.positiveZIndex.splice(h,0,c)}else o.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else A.styles.isFloating()?o.nonPositionedFloats.push(c):o.nonPositionedInlineLevel.push(c);Ol(i,c,s?c:n,l)}else A.styles.isInlineLevel()?t.inlineLevel.push(i):t.nonInlineLevel.push(i),Ol(i,t,n,l);As(A.flags,8)&&Rl(A,l)})},Rl=function(e,t){for(var n=e instanceof Mr?e.start:1,a=e instanceof Mr&&e.reversed,A=0;A<t.length;A++){var s=t[A];s.container instanceof Rr&&"number"===typeof s.container.value&&0!==s.container.value&&(n=s.container.value),s.listValue=Vi(n,s.container.styles.listStyleType,!0),n+=a?-1:1}},Ml=function(e){var t=new Dl(e,null),n=new Pl(t),a=[];return Ol(t,n,n,a),Rl(t.container,a),n},Kl=function(e,t){switch(t){case 0:return zl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return zl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return zl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return zl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Gl=function(e,t){switch(t){case 0:return zl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return zl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return zl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return zl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Vl=function(e,t){switch(t){case 0:return zl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return zl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return zl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return zl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Wl=function(e,t){switch(t){case 0:return Jl(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Jl(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Jl(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Jl(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Jl=function(e,t){var n=[];return bl(e)?n.push(e.subdivide(.5,!1)):n.push(e),bl(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},zl=function(e,t,n,a){var A=[];return bl(e)?A.push(e.subdivide(.5,!1)):A.push(e),bl(n)?A.push(n.subdivide(.5,!0)):A.push(n),bl(a)?A.push(a.subdivide(.5,!0).reverse()):A.push(a),bl(t)?A.push(t.subdivide(.5,!1).reverse()):A.push(t),A},Yl=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Xl=function(e){var t=e.styles,n=e.bounds,a=Jn(t.paddingLeft,n.width),A=Jn(t.paddingRight,n.width),s=Jn(t.paddingTop,n.width),r=Jn(t.paddingBottom,n.width);return n.add(a+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+a+A),-(t.borderTopWidth+t.borderBottomWidth+s+r))},ql=function(e,t){return 0===e?t.bounds:2===e?Xl(t):Yl(t)},Zl=function(e,t){return 0===e?t.bounds:2===e?Xl(t):Yl(t)},$l=function(e,t,n){var a=ql(ao(e.styles.backgroundOrigin,t),e),A=Zl(ao(e.styles.backgroundClip,t),e),s=no(ao(e.styles.backgroundSize,t),n,a),r=s[0],i=s[1],l=Wn(ao(e.styles.backgroundPosition,t),a.width-r,a.height-i);return[Ao(ao(e.styles.backgroundRepeat,t),l,s,a,A),Math.round(a.left+l[0]),Math.round(a.top+l[1]),r,i]},eo=function(e){return _n(e)&&e.value===Ta.AUTO},to=function(e){return"number"===typeof e},no=function(e,t,n){var a=t[0],A=t[1],s=t[2],r=e[0],i=e[1];if(!r)return[0,0];if(Rn(r)&&i&&Rn(i))return[Jn(r,n.width),Jn(i,n.height)];var l=to(s);if(_n(r)&&(r.value===Ta.CONTAIN||r.value===Ta.COVER))return to(s)?n.width/n.height<s!==(r.value===Ta.COVER)?[n.width,n.width/s]:[n.height*s,n.height]:[n.width,n.height];var o=to(a),c=to(A),d=o||c;if(eo(r)&&(!i||eo(i)))return o&&c?[a,A]:l||d?d&&l?[o?a:A*s,c?A:a/s]:[o?a:n.width,c?A:n.height]:[n.width,n.height];if(l){var u=0,h=0;return Rn(r)?u=Jn(r,n.width):Rn(i)&&(h=Jn(i,n.height)),eo(r)?u=h*s:i&&!eo(i)||(h=u/s),[u,h]}var m=null,p=null;if(Rn(r)?m=Jn(r,n.width):i&&Rn(i)&&(p=Jn(i,n.height)),null===m||i&&!eo(i)||(p=o&&c?m/a*A:n.height),null!==p&&eo(r)&&(m=o&&c?p/A*a:n.width),null!==m&&null!==p)return[m,p];throw new Error("Unable to calculate background-size for element")},ao=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},Ao=function(e,t,n,a,A){var s=t[0],r=t[1],i=n[0],l=n[1];switch(e){case 2:return[new wl(Math.round(a.left),Math.round(a.top+r)),new wl(Math.round(a.left+a.width),Math.round(a.top+r)),new wl(Math.round(a.left+a.width),Math.round(l+a.top+r)),new wl(Math.round(a.left),Math.round(l+a.top+r))];case 3:return[new wl(Math.round(a.left+s),Math.round(a.top)),new wl(Math.round(a.left+s+i),Math.round(a.top)),new wl(Math.round(a.left+s+i),Math.round(a.height+a.top)),new wl(Math.round(a.left+s),Math.round(a.height+a.top))];case 1:return[new wl(Math.round(a.left+s),Math.round(a.top+r)),new wl(Math.round(a.left+s+i),Math.round(a.top+r)),new wl(Math.round(a.left+s+i),Math.round(a.top+r+l)),new wl(Math.round(a.left+s),Math.round(a.top+r+l))];default:return[new wl(Math.round(A.left),Math.round(A.top)),new wl(Math.round(A.left+A.width),Math.round(A.top)),new wl(Math.round(A.left+A.width),Math.round(A.height+A.top)),new wl(Math.round(A.left),Math.round(A.height+A.top))]}},so="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ro="Hidden Text",io=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),a=this._document.createElement("img"),A=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),a.src=so,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",A.style.fontFamily=e,A.style.fontSize=t,A.style.margin="0",A.style.padding="0",A.appendChild(this._document.createTextNode(ro)),n.appendChild(A),n.appendChild(a);var r=a.offsetTop-A.offsetTop+2;n.removeChild(A),n.appendChild(this._document.createTextNode(ro)),n.style.lineHeight="normal",a.style.verticalAlign="super";var i=a.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:r,middle:i}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),lo=function(){function e(e,t){this.context=e,this.options=t}return e}(),oo=1e4,co=function(e){function n(t,n){var a=e.call(this,t,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new io(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},n.prototype.applyEffect=function(e){this.ctx.save(),Hl(e)&&(this.ctx.globalAlpha=e.opacity),_l(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Il(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return a(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(e){return a(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return As(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var a=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Ur(e.text).reduce(function(t,A){return a.ctx.fillText(A,t,e.bounds.top+n),t+a.ctx.measureText(A).width},e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),n=go(e.fontFamily).join(", "),a=kn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,a,n].join(" "),n,a]},n.prototype.renderTextNode=function(e,t){return a(this,void 0,void 0,function(){var n,a,s,r,i,l,o,c,d=this;return A(this,function(A){return n=this.createFontStyle(t),a=n[0],s=n[1],r=n[2],this.ctx.font=a,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",i=this.fontMetrics.getMetrics(s,r),l=i.baseline,o=i.middle,c=t.paintOrder,e.textBounds.forEach(function(e){c.forEach(function(n){switch(n){case 0:d.ctx.fillStyle=Aa(t.color),d.renderTextWithLetterSpacing(e,t.letterSpacing,l);var a=t.textShadow;a.length&&e.text.trim().length&&(a.slice(0).reverse().forEach(function(n){d.ctx.shadowColor=Aa(n.color),d.ctx.shadowOffsetX=n.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=n.offsetY.number*d.options.scale,d.ctx.shadowBlur=n.blur.number,d.renderTextWithLetterSpacing(e,t.letterSpacing,l)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),t.textDecorationLine.length&&(d.ctx.fillStyle=Aa(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:d.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+l),e.bounds.width,1);break;case 2:d.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:d.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+o),e.bounds.width,1)}}));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(d.ctx.strokeStyle=Aa(t.webkitTextStrokeColor),d.ctx.lineWidth=t.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+l)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter"}})}),[2]})})},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var a=Xl(e),A=Ul(t);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return a(this,void 0,void 0,function(){var t,a,s,i,l,o,c,d,u,h,m,p,g,f,x,v,y,w;return A(this,function(A){switch(A.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,a=e.curves,s=t.styles,i=0,l=t.textNodes,A.label=1;case 1:return i<l.length?(o=l[i],[4,this.renderTextNode(o,s)]):[3,4];case 2:A.sent(),A.label=3;case 3:return i++,[3,1];case 4:if(!(t instanceof Pr))return[3,8];A.label=5;case 5:return A.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return x=A.sent(),this.renderReplacedElement(t,a,x),[3,8];case 7:return A.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Dr&&this.renderReplacedElement(t,a,t.canvas),!(t instanceof Or))return[3,12];A.label=9;case 9:return A.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return x=A.sent(),this.renderReplacedElement(t,a,x),[3,12];case 11:return A.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ei&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=A.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),A.label=14;case 14:if(t instanceof qr&&(d=Math.min(t.bounds.width,t.bounds.height),t.type===Jr?t.checked&&(this.ctx.save(),this.path([new wl(t.bounds.left+.39363*d,t.bounds.top+.79*d),new wl(t.bounds.left+.16*d,t.bounds.top+.5549*d),new wl(t.bounds.left+.27347*d,t.bounds.top+.44071*d),new wl(t.bounds.left+.39694*d,t.bounds.top+.5649*d),new wl(t.bounds.left+.72983*d,t.bounds.top+.23*d),new wl(t.bounds.left+.84*d,t.bounds.top+.34085*d),new wl(t.bounds.left+.39363*d,t.bounds.top+.79*d)]),this.ctx.fillStyle=Aa(Xr),this.ctx.fill(),this.ctx.restore()):t.type===zr&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+d/2,t.bounds.top+d/2,d/4,0,2*Math.PI,!0),this.ctx.fillStyle=Aa(Xr),this.ctx.fill(),this.ctx.restore())),uo(t)&&t.value.length){switch(u=this.createFontStyle(s),y=u[0],h=u[1],m=this.fontMetrics.getMetrics(y,h).baseline,this.ctx.font=y,this.ctx.fillStyle=Aa(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=mo(t.styles.textAlign),w=Xl(t),p=0,t.styles.textAlign){case 1:p+=w.width/2;break;case 2:p+=w.width}g=w.add(p,0,0,-w.height/2+1),this.ctx.save(),this.path([new wl(w.left,w.top),new wl(w.left+w.width,w.top),new wl(w.left+w.width,w.top+w.height),new wl(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Cr(t.value,g),s.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!As(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(f=t.styles.listStyleImage).type)return[3,18];x=void 0,v=f.url,A.label=15;case 15:return A.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return x=A.sent(),this.ctx.drawImage(x,t.bounds.left-(x.width+10),t.bounds.top),[3,18];case 17:return A.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(y=this.createFontStyle(s)[0],this.ctx.font=y,this.ctx.fillStyle=Aa(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new r(t.bounds.left,t.bounds.top+Jn(t.styles.paddingTop,t.bounds.width),t.bounds.width,wA(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Cr(e.listValue,w),s.letterSpacing,wA(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),A.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(e){return a(this,void 0,void 0,function(){var t,n,a,s,r,i,l,o,c,d,u,h,m,p,g;return A(this,function(A){switch(A.label){case 0:return As(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:A.sent(),t=0,n=e.negativeZIndex,A.label=2;case 2:return t<n.length?(g=n[t],[4,this.renderStack(g)]):[3,5];case 3:A.sent(),A.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:A.sent(),a=0,s=e.nonInlineLevel,A.label=7;case 7:return a<s.length?(g=s[a],[4,this.renderNode(g)]):[3,10];case 8:A.sent(),A.label=9;case 9:return a++,[3,7];case 10:r=0,i=e.nonPositionedFloats,A.label=11;case 11:return r<i.length?(g=i[r],[4,this.renderStack(g)]):[3,14];case 12:A.sent(),A.label=13;case 13:return r++,[3,11];case 14:l=0,o=e.nonPositionedInlineLevel,A.label=15;case 15:return l<o.length?(g=o[l],[4,this.renderStack(g)]):[3,18];case 16:A.sent(),A.label=17;case 17:return l++,[3,15];case 18:c=0,d=e.inlineLevel,A.label=19;case 19:return c<d.length?(g=d[c],[4,this.renderNode(g)]):[3,22];case 20:A.sent(),A.label=21;case 21:return c++,[3,19];case 22:u=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,A.label=23;case 23:return u<h.length?(g=h[u],[4,this.renderStack(g)]):[3,26];case 24:A.sent(),A.label=25;case 25:return u++,[3,23];case 26:m=0,p=e.positiveZIndex,A.label=27;case 27:return m<p.length?(g=p[m],[4,this.renderStack(g)]):[3,30];case 28:A.sent(),A.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach(function(e,n){var a=bl(e)?e.start:e;0===n?t.ctx.moveTo(a.x,a.y):t.ctx.lineTo(a.x,a.y),bl(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},n.prototype.renderRepeat=function(e,t,n,a){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,a),this.ctx.fill(),this.ctx.translate(-n,-a)},n.prototype.resizeImage=function(e,t,n){var a;if(e.width===t&&e.height===n)return e;var A=(null!==(a=this.canvas.ownerDocument)&&void 0!==a?a:document).createElement("canvas");return A.width=Math.max(1,t),A.height=Math.max(1,n),A.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),A},n.prototype.renderBackgroundImage=function(e){return a(this,void 0,void 0,function(){var t,n,a,s,r,i;return A(this,function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var s,r,i,l,o,c,d,u,h,m,p,g,f,x,v,y,w,B,j,b,C,N,Q,F,U,S,k,E,_,I,H;return A(this,function(A){switch(A.label){case 0:if(0!==n.type)return[3,5];s=void 0,r=n.url,A.label=1;case 1:return A.trys.push([1,3,,4]),[4,a.context.cache.match(r)];case 2:return s=A.sent(),[3,4];case 3:return A.sent(),a.context.logger.error("Error loading background-image "+r),[3,4];case 4:return s&&(i=$l(e,t,[s.width,s.height,s.width/s.height]),y=i[0],N=i[1],Q=i[2],j=i[3],b=i[4],x=a.ctx.createPattern(a.resizeImage(s,j,b),"repeat"),a.renderRepeat(y,x,N,Q)),[3,6];case 5:Ea(n)?(l=$l(e,t,[null,null,null]),y=l[0],N=l[1],Q=l[2],j=l[3],b=l[4],o=xa(n.angle,j,b),c=o[0],d=o[1],u=o[2],h=o[3],m=o[4],(p=document.createElement("canvas")).width=j,p.height=b,g=p.getContext("2d"),f=g.createLinearGradient(d,h,u,m),ga(n.stops,c).forEach(function(e){return f.addColorStop(e.stop,Aa(e.color))}),g.fillStyle=f,g.fillRect(0,0,j,b),j>0&&b>0&&(x=a.ctx.createPattern(p,"repeat"),a.renderRepeat(y,x,N,Q))):_a(n)&&(v=$l(e,t,[null,null,null]),y=v[0],w=v[1],B=v[2],j=v[3],b=v[4],C=0===n.position.length?[Gn]:n.position,N=Jn(C[0],j),Q=Jn(C[C.length-1],b),F=wa(n,N,Q,j,b),U=F[0],S=F[1],U>0&&S>0&&(k=a.ctx.createRadialGradient(w+N,B+Q,0,w+N,B+Q,U),ga(n.stops,2*U).forEach(function(e){return k.addColorStop(e.stop,Aa(e.color))}),a.path(y),a.ctx.fillStyle=k,U!==S?(E=e.bounds.left+.5*e.bounds.width,_=e.bounds.top+.5*e.bounds.height,H=1/(I=S/U),a.ctx.save(),a.ctx.translate(E,_),a.ctx.transform(1,0,0,I,0,0),a.ctx.translate(-E,-_),a.ctx.fillRect(w,H*(B-_)+_,j,b*H),a.ctx.restore()):a.ctx.fill())),A.label=6;case 6:return t--,[2]}})},a=this,s=0,r=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return s<r.length?(i=r[s],[5,n(i)]):[3,4];case 2:l.sent(),l.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(e,t,n){return a(this,void 0,void 0,function(){return A(this,function(a){return this.path(Kl(n,t)),this.ctx.fillStyle=Aa(e),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(e,t,n,s){return a(this,void 0,void 0,function(){var a,r;return A(this,function(A){switch(A.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,s)]:[3,2];case 1:return A.sent(),[2];case 2:return a=Gl(s,n),this.path(a),this.ctx.fillStyle=Aa(e),this.ctx.fill(),r=Vl(s,n),this.path(r),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(e){return a(this,void 0,void 0,function(){var t,n,a,s,r,i,l,o,c=this;return A(this,function(A){switch(A.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!aa(t.backgroundColor)||t.backgroundImage.length,a=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],s=ho(ao(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),aa(t.backgroundColor)||(this.ctx.fillStyle=Aa(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:A.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){c.ctx.save();var n=Ql(e.curves),a=t.inset?0:oo,A=Ll(n,-a+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(A)):(c.mask(n),c.ctx.clip(),c.path(A)),c.ctx.shadowOffsetX=t.offsetX.number+a,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=Aa(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?Aa(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),A.label=2;case 2:r=0,i=0,l=a,A.label=3;case 3:return i<l.length?0!==(o=l[i]).style&&!aa(o.color)&&o.width>0?2!==o.style?[3,5]:[4,this.renderDashedDottedBorder(o.color,o.width,r,e.curves,2)]:[3,11]:[3,13];case 4:return A.sent(),[3,11];case 5:return 3!==o.style?[3,7]:[4,this.renderDashedDottedBorder(o.color,o.width,r,e.curves,3)];case 6:return A.sent(),[3,11];case 7:return 4!==o.style?[3,9]:[4,this.renderDoubleBorder(o.color,o.width,r,e.curves)];case 8:return A.sent(),[3,11];case 9:return[4,this.renderSolidBorder(o.color,r,e.curves)];case 10:A.sent(),A.label=11;case 11:r++,A.label=12;case 12:return i++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(e,t,n,s,r){return a(this,void 0,void 0,function(){var a,i,l,o,c,d,u,h,m,p,g,f,x,v,y,w;return A(this,function(A){return this.ctx.save(),a=Wl(s,n),i=Kl(s,n),2===r&&(this.path(i),this.ctx.clip()),bl(i[0])?(l=i[0].start.x,o=i[0].start.y):(l=i[0].x,o=i[0].y),bl(i[1])?(c=i[1].end.x,d=i[1].end.y):(c=i[1].x,d=i[1].y),u=0===n||2===n?Math.abs(l-c):Math.abs(o-d),this.ctx.beginPath(),3===r?this.formatPath(a):this.formatPath(i.slice(0,2)),h=t<3?3*t:2*t,m=t<3?2*t:t,3===r&&(h=t,m=t),p=!0,u<=2*h?p=!1:u<=2*h+m?(h*=g=u/(2*h+m),m*=g):(f=Math.floor((u+m)/(h+m)),x=(u-f*h)/(f-1),m=(v=(u-(f+1)*h)/f)<=0||Math.abs(m-x)<Math.abs(m-v)?x:v),p&&(3===r?this.ctx.setLineDash([0,h+m]):this.ctx.setLineDash([h,m])),3===r?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=Aa(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===r&&(bl(i[0])&&(y=i[3],w=i[0],this.ctx.beginPath(),this.formatPath([new wl(y.end.x,y.end.y),new wl(w.start.x,w.start.y)]),this.ctx.stroke()),bl(i[1])&&(y=i[1],w=i[2],this.ctx.beginPath(),this.formatPath([new wl(y.end.x,y.end.y),new wl(w.start.x,w.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(e){return a(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Aa(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=Ml(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},n}(lo),uo=function(e){return e instanceof $r||e instanceof Zr||e instanceof qr&&e.type!==zr&&e.type!==Jr},ho=function(e,t){switch(e){case 0:return Ql(t);case 2:return Fl(t);default:return Ul(t)}},mo=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},po=["-apple-system","system-ui"],go=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return-1===po.indexOf(e)}):e},fo=function(e){function n(t,n){var a=e.call(this,t,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return t(n,e),n.prototype.render=function(e){return a(this,void 0,void 0,function(){var t,n;return A(this,function(a){switch(a.label){case 0:return t=Br(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,xo(t)];case 1:return n=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Aa(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n}(lo),xo=function(e){return new Promise(function(t,n){var a=new Image;a.onload=function(){t(a)},a.onerror=n,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},vo=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,s([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),yo=function(){function e(t,n){var a;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new vo({id:this.instanceName,enabled:t.logging}),this.cache=null!==(a=t.cache)&&void 0!==a?a:new ul(this,t)}return e.instanceCount=1,e}(),wo=function(e,t){return void 0===t&&(t={}),Bo(e,t)};"undefined"!==typeof window&&dl.setContext(window);var Bo=function(e,t){return a(void 0,void 0,void 0,function(){var a,s,o,c,d,u,h,m,p,g,f,x,v,y,w,B,j,b,C,N,Q,F,U,S,k,E,_,I,H,T,L,P,D,O,R,M,K,G;return A(this,function(A){switch(A.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(a=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(s=a.defaultView))throw new Error("Document is not attached to a Window");return o={allowTaint:null!==(F=t.allowTaint)&&void 0!==F&&F,imageTimeout:null!==(U=t.imageTimeout)&&void 0!==U?U:15e3,proxy:t.proxy,useCORS:null!==(S=t.useCORS)&&void 0!==S&&S},c=n({logging:null===(k=t.logging)||void 0===k||k,cache:t.cache},o),d={windowWidth:null!==(E=t.windowWidth)&&void 0!==E?E:s.innerWidth,windowHeight:null!==(_=t.windowHeight)&&void 0!==_?_:s.innerHeight,scrollX:null!==(I=t.scrollX)&&void 0!==I?I:s.pageXOffset,scrollY:null!==(H=t.scrollY)&&void 0!==H?H:s.pageYOffset},u=new r(d.scrollX,d.scrollY,d.windowWidth,d.windowHeight),h=new yo(c,u),m=null!==(T=t.foreignObjectRendering)&&void 0!==T&&T,p={allowTaint:null!==(L=t.allowTaint)&&void 0!==L&&L,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:m,copyStyles:m},h.logger.debug("Starting document clone with size "+u.width+"x"+u.height+" scrolled to "+-u.left+","+-u.top),g=new Ji(h,e,p),(f=g.clonedReferenceElement)?[4,g.toIFrame(a,u)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return x=A.sent(),v=gi(f)||mi(f)?l(f.ownerDocument):i(h,f),y=v.width,w=v.height,B=v.left,j=v.top,b=jo(h,f,t.backgroundColor),C={canvas:t.canvas,backgroundColor:b,scale:null!==(D=null!==(P=t.scale)&&void 0!==P?P:s.devicePixelRatio)&&void 0!==D?D:1,x:(null!==(O=t.x)&&void 0!==O?O:0)+B,y:(null!==(R=t.y)&&void 0!==R?R:0)+j,width:null!==(M=t.width)&&void 0!==M?M:Math.ceil(y),height:null!==(K=t.height)&&void 0!==K?K:Math.ceil(w)},m?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new fo(h,C).render(f)]):[3,3];case 2:return N=A.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+B+","+j+" with size "+y+"x"+w+" using computed rendering"),h.logger.debug("Starting DOM parsing"),Q=Ai(h,f),b===Q.styles.backgroundColor&&(Q.styles.backgroundColor=ua.TRANSPARENT),h.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),[4,new co(h,C).render(Q)];case 4:N=A.sent(),A.label=5;case 5:return(null===(G=t.removeContainer)||void 0===G||G)&&(Ji.destroy(x)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,N]}})})},jo=function(e,t,n){var a=t.ownerDocument,A=a.documentElement?da(e,getComputedStyle(a.documentElement).backgroundColor):ua.TRANSPARENT,s=a.body?da(e,getComputedStyle(a.body).backgroundColor):ua.TRANSPARENT,r="string"===typeof n?da(e,n):null===n?ua.TRANSPARENT:4294967295;return t===a.documentElement?aa(A)?aa(s)?r:s:A:r};return wo}()},391:(e,t,n)=>{"use strict";var a=n(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},440:e=>{"use strict";var t=function(){};e.exports=t},497:(e,t,n)=>{"use strict";var a=n(218);function A(){}function s(){}s.resetWarningCache=A,e.exports=function(){function e(e,t,n,A,s,r){if(r!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:A};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var a=n(43),A=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function l(e,t){o(e,t),o(e+"Capture",t)}function o(e,t){for(i[e]=t,e=0;e<t.length;e++)r.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function p(e,t,n,a,A,s,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=A,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=r}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var f=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function v(e,t,n,a){var A=g.hasOwnProperty(t)?g[t]:null;(null!==A?0!==A.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,A,a)&&(n=null),a||null===A?function(e){return!!d.call(m,e)||!d.call(h,e)&&(u.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):A.mustUseProperty?e[A.propertyName]=null===n?3!==A.type&&"":n:(t=A.attributeName,a=A.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(A=A.type)||4===A&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(f,x);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(f,x);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(f,x);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),B=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),Q=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var _=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function H(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var T,L=Object.assign;function P(e){if(void 0===T)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return"\n"+T+e}var D=!1;function O(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(o){var a=o}Reflect.construct(e,[],t)}else{try{t.call()}catch(o){a=o}e.call(t.prototype)}else{try{throw Error()}catch(o){a=o}e()}}catch(o){if(o&&a&&"string"===typeof o.stack){for(var A=o.stack.split("\n"),s=a.stack.split("\n"),r=A.length-1,i=s.length-1;1<=r&&0<=i&&A[r]!==s[i];)i--;for(;1<=r&&0<=i;r--,i--)if(A[r]!==s[i]){if(1!==r||1!==i)do{if(r--,0>--i||A[r]!==s[i]){var l="\n"+A[r].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=r&&0<=i);break}}}finally{D=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?P(e):""}function R(e){switch(e.tag){case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return e=O(e.type,!1);case 11:return e=O(e.type.render,!1);case 1:return e=O(e.type,!0);default:return""}}function M(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case B:return"Portal";case C:return"Profiler";case b:return"StrictMode";case U:return"Suspense";case S:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case Q:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case F:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return M(e(t))}catch(n){}}return null}function K(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(t);case 8:return t===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var A=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return A.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=V(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function q(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Z(e,t){q(e,t);var n=G(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var A=0;A<n.length;A++)t["$"+n[A]]=!0;for(n=0;n<e.length;n++)A=t.hasOwnProperty("$"+e[n].value),e[n].selected!==A&&(e[n].selected=A),A&&a&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,A=0;A<e.length;A++){if(e[A].value===n)return e[A].selected=!0,void(a&&(e[A].defaultSelected=!0));null!==t||e[A].disabled||(t=e[A])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function se(e,t){var n=G(t.value),a=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var oe,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((oe=oe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),A=pe(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,A):e[n]=A}}Object.keys(he).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var fe=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Be=null,je=null,be=null;function Ce(e){if(e=vA(e)){if("function"!==typeof Be)throw Error(s(280));var t=e.stateNode;t&&(t=wA(t),Be(e.stateNode,e.type,t))}}function Ne(e){je?be?be.push(e):be=[e]:je=e}function Qe(){if(je){var e=je,t=be;if(be=je=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Fe(e,t){return e(t)}function Ue(){}var Se=!1;function ke(e,t,n){if(Se)return e(t,n);Se=!0;try{return Fe(e,t,n)}finally{Se=!1,(null!==je||null!==be)&&(Ue(),Qe())}}function Ee(e,t){var n=e.stateNode;if(null===n)return null;var a=wA(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var _e=!1;if(c)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){_e=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ce){_e=!1}function He(e,t,n,a,A,s,r,i,l){var o=Array.prototype.slice.call(arguments,3);try{t.apply(n,o)}catch(c){this.onError(c)}}var Te=!1,Le=null,Pe=!1,De=null,Oe={onError:function(e){Te=!0,Le=e}};function Re(e,t,n,a,A,s,r,i,l){Te=!1,Le=null,He.apply(Oe,arguments)}function Me(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Me(e)!==e)throw Error(s(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Me(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var A=n.return;if(null===A)break;var r=A.alternate;if(null===r){if(null!==(a=A.return)){n=a;continue}break}if(A.child===r.child){for(r=A.child;r;){if(r===n)return Ge(A),e;if(r===a)return Ge(A),t;r=r.sibling}throw Error(s(188))}if(n.return!==a.return)n=A,a=r;else{for(var i=!1,l=A.child;l;){if(l===n){i=!0,n=A,a=r;break}if(l===a){i=!0,a=A,n=r;break}l=l.sibling}if(!i){for(l=r.child;l;){if(l===n){i=!0,n=r,a=A;break}if(l===a){i=!0,a=r,n=A;break}l=l.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Je=A.unstable_scheduleCallback,ze=A.unstable_cancelCallback,Ye=A.unstable_shouldYield,Xe=A.unstable_requestPaint,qe=A.unstable_now,Ze=A.unstable_getCurrentPriorityLevel,$e=A.unstable_ImmediatePriority,et=A.unstable_UserBlockingPriority,tt=A.unstable_NormalPriority,nt=A.unstable_LowPriority,at=A.unstable_IdlePriority,At=null,st=null;var rt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ot=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ut(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,A=e.suspendedLanes,s=e.pingedLanes,r=268435455&n;if(0!==r){var i=r&~A;0!==i?a=dt(i):0!==(s&=r)&&(a=dt(s))}else 0!==(r=n&~A)?a=dt(r):0!==s&&(a=dt(s));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&A)&&((A=a&-a)>=(s=t&-t)||16===A&&0!==(4194240&s)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)A=1<<(n=31-rt(t)),a|=e[n],t&=~A;return a}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ot;return 0===(4194240&(ot<<=1))&&(ot=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ft(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-rt(n),A=1<<a;A&t|e[a]&t&&(e[a]|=t),n&=~A}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Bt,jt,bt,Ct,Nt=!1,Qt=[],Ft=null,Ut=null,St=null,kt=new Map,Et=new Map,_t=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ht(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function Tt(e,t,n,a,A,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[A]},null!==t&&(null!==(t=vA(t))&&Bt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==A&&-1===t.indexOf(A)&&t.push(A),e)}function Lt(e){var t=xA(e.target);if(null!==t){var n=Me(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void Ct(e.priority,function(){jt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vA(n))&&Bt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);ye=a,n.target.dispatchEvent(a),ye=null,t.shift()}return!0}function Dt(e,t,n){Pt(e)&&n.delete(t)}function Ot(){Nt=!1,null!==Ft&&Pt(Ft)&&(Ft=null),null!==Ut&&Pt(Ut)&&(Ut=null),null!==St&&Pt(St)&&(St=null),kt.forEach(Dt),Et.forEach(Dt)}function Rt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,A.unstable_scheduleCallback(A.unstable_NormalPriority,Ot)))}function Mt(e){function t(t){return Rt(t,e)}if(0<Qt.length){Rt(Qt[0],e);for(var n=1;n<Qt.length;n++){var a=Qt[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Ft&&Rt(Ft,e),null!==Ut&&Rt(Ut,e),null!==St&&Rt(St,e),kt.forEach(t),Et.forEach(t),n=0;n<_t.length;n++)(a=_t[n]).blockedOn===e&&(a.blockedOn=null);for(;0<_t.length&&null===(n=_t[0]).blockedOn;)Lt(n),null===n.blockedOn&&_t.shift()}var Kt=y.ReactCurrentBatchConfig,Gt=!0;function Vt(e,t,n,a){var A=vt,s=Kt.transition;Kt.transition=null;try{vt=1,Jt(e,t,n,a)}finally{vt=A,Kt.transition=s}}function Wt(e,t,n,a){var A=vt,s=Kt.transition;Kt.transition=null;try{vt=4,Jt(e,t,n,a)}finally{vt=A,Kt.transition=s}}function Jt(e,t,n,a){if(Gt){var A=Yt(e,t,n,a);if(null===A)Ga(e,t,a,zt,n),Ht(e,a);else if(function(e,t,n,a,A){switch(t){case"focusin":return Ft=Tt(Ft,e,t,n,a,A),!0;case"dragenter":return Ut=Tt(Ut,e,t,n,a,A),!0;case"mouseover":return St=Tt(St,e,t,n,a,A),!0;case"pointerover":var s=A.pointerId;return kt.set(s,Tt(kt.get(s)||null,e,t,n,a,A)),!0;case"gotpointercapture":return s=A.pointerId,Et.set(s,Tt(Et.get(s)||null,e,t,n,a,A)),!0}return!1}(A,e,t,n,a))a.stopPropagation();else if(Ht(e,a),4&t&&-1<It.indexOf(e)){for(;null!==A;){var s=vA(A);if(null!==s&&wt(s),null===(s=Yt(e,t,n,a))&&Ga(e,t,a,zt,n),s===A)break;A=s}null!==A&&a.stopPropagation()}else Ga(e,t,a,null,n)}}var zt=null;function Yt(e,t,n,a){if(zt=null,null!==(e=xA(e=we(a))))if(null===(t=Me(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ke(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var qt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,a=n.length,A="value"in qt?qt.value:qt.textContent,s=A.length;for(e=0;e<a&&n[e]===A[e];e++);var r=a-e;for(t=1;t<=r&&n[a-t]===A[s-t];t++);return $t=A.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function An(e){function t(t,n,a,A,s){for(var r in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=A,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(A):A[r]);return this.isDefaultPrevented=(null!=A.defaultPrevented?A.defaultPrevented:!1===A.returnValue)?nn:an,this.isPropagationStopped=an,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,rn,ln,on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=An(on),dn=L({},on,{view:0,detail:0}),un=An(dn),hn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,rn=e.screenY-ln.screenY):rn=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),mn=An(hn),pn=An(L({},hn,{dataTransfer:0})),gn=An(L({},dn,{relatedTarget:0})),fn=An(L({},on,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=L({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=An(xn),yn=An(L({},on,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function Cn(){return bn}var Nn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Qn=An(Nn),Fn=An(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Un=An(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Sn=An(L({},on,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),En=An(kn),_n=[9,13,27,32],In=c&&"CompositionEvent"in window,Hn=null;c&&"documentMode"in document&&(Hn=document.documentMode);var Tn=c&&"TextEvent"in window&&!Hn,Ln=c&&(!In||Hn&&8<Hn&&11>=Hn),Pn=String.fromCharCode(32),Dn=!1;function On(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Mn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Vn(e,t,n,a){Ne(a),0<(t=Wa(t,"onChange")).length&&(n=new cn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Wn=null,Jn=null;function zn(e){Pa(e,0)}function Yn(e){if(J(yA(e)))return e}function Xn(e,t){if("change"===e)return t}var qn=!1;if(c){var Zn;if(c){var $n="oninput"in document;if(!$n){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),$n="function"===typeof ea.oninput}Zn=$n}else Zn=!1;qn=Zn&&(!document.documentMode||9<document.documentMode)}function ta(){Wn&&(Wn.detachEvent("onpropertychange",na),Jn=Wn=null)}function na(e){if("value"===e.propertyName&&Yn(Jn)){var t=[];Vn(t,Jn,e,we(e)),ke(zn,t)}}function aa(e,t,n){"focusin"===e?(ta(),Jn=n,(Wn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function Aa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Jn)}function sa(e,t){if("click"===e)return Yn(t)}function ra(e,t){if("input"===e||"change"===e)return Yn(t)}var ia="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function la(e,t){if(ia(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var A=n[a];if(!d.call(t,A)||!ia(e[A],t[A]))return!1}return!0}function oa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ca(e,t){var n,a=oa(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=oa(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ua(){for(var e=window,t=z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=z((e=t.contentWindow).document)}return t}function ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ma(e){var t=ua(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&da(n.ownerDocument.documentElement,n)){if(null!==a&&ha(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var A=n.textContent.length,s=Math.min(a.start,A);a=void 0===a.end?s:Math.min(a.end,A),!e.extend&&s>a&&(A=a,a=s,s=A),A=ca(n,s);var r=ca(n,a);A&&r&&(1!==e.rangeCount||e.anchorNode!==A.node||e.anchorOffset!==A.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&((t=t.createRange()).setStart(A.node,A.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pa=c&&"documentMode"in document&&11>=document.documentMode,ga=null,fa=null,xa=null,va=!1;function ya(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;va||null==ga||ga!==z(a)||("selectionStart"in(a=ga)&&ha(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},xa&&la(xa,a)||(xa=a,0<(a=Wa(fa,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ga)))}function wa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ba={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionend:wa("Transition","TransitionEnd")},ja={},ba={};function Ca(e){if(ja[e])return ja[e];if(!Ba[e])return e;var t,n=Ba[e];for(t in n)if(n.hasOwnProperty(t)&&t in ba)return ja[e]=n[t];return e}c&&(ba=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);var Na=Ca("animationend"),Qa=Ca("animationiteration"),Fa=Ca("animationstart"),Ua=Ca("transitionend"),Sa=new Map,ka="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ea(e,t){Sa.set(e,t),l(t,[e])}for(var _a=0;_a<ka.length;_a++){var Ia=ka[_a];Ea(Ia.toLowerCase(),"on"+(Ia[0].toUpperCase()+Ia.slice(1)))}Ea(Na,"onAnimationEnd"),Ea(Qa,"onAnimationIteration"),Ea(Fa,"onAnimationStart"),Ea("dblclick","onDoubleClick"),Ea("focusin","onFocus"),Ea("focusout","onBlur"),Ea(Ua,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ta=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function La(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,A,r,i,l,o){if(Re.apply(this,arguments),Te){if(!Te)throw Error(s(198));var c=Le;Te=!1,Le=null,Pe||(Pe=!0,De=c)}}(a,t,void 0,e),e.currentTarget=null}function Pa(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],A=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var r=a.length-1;0<=r;r--){var i=a[r],l=i.instance,o=i.currentTarget;if(i=i.listener,l!==s&&A.isPropagationStopped())break e;La(A,i,o),s=l}else for(r=0;r<a.length;r++){if(l=(i=a[r]).instance,o=i.currentTarget,i=i.listener,l!==s&&A.isPropagationStopped())break e;La(A,i,o),s=l}}}if(Pe)throw e=De,Pe=!1,De=null,e}function Da(e,t){var n=t[pA];void 0===n&&(n=t[pA]=new Set);var a=e+"__bubble";n.has(a)||(Ka(t,e,2,!1),n.add(a))}function Oa(e,t,n){var a=0;t&&(a|=4),Ka(n,e,a,t)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function Ma(e){if(!e[Ra]){e[Ra]=!0,r.forEach(function(t){"selectionchange"!==t&&(Ta.has(t)||Oa(t,!1,e),Oa(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ra]||(t[Ra]=!0,Oa("selectionchange",!1,t))}}function Ka(e,t,n,a){switch(Xt(t)){case 1:var A=Vt;break;case 4:A=Wt;break;default:A=Jt}n=A.bind(null,t,n,e),A=void 0,!_e||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(A=!0),a?void 0!==A?e.addEventListener(t,n,{capture:!0,passive:A}):e.addEventListener(t,n,!0):void 0!==A?e.addEventListener(t,n,{passive:A}):e.addEventListener(t,n,!1)}function Ga(e,t,n,a,A){var s=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var r=a.tag;if(3===r||4===r){var i=a.stateNode.containerInfo;if(i===A||8===i.nodeType&&i.parentNode===A)break;if(4===r)for(r=a.return;null!==r;){var l=r.tag;if((3===l||4===l)&&((l=r.stateNode.containerInfo)===A||8===l.nodeType&&l.parentNode===A))return;r=r.return}for(;null!==i;){if(null===(r=xA(i)))return;if(5===(l=r.tag)||6===l){a=s=r;continue e}i=i.parentNode}}a=a.return}ke(function(){var a=s,A=we(n),r=[];e:{var i=Sa.get(e);if(void 0!==i){var l=cn,o=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Qn;break;case"focusin":o="focus",l=gn;break;case"focusout":o="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Un;break;case Na:case Qa:case Fa:l=fn;break;case Ua:l=Sn;break;case"scroll":l=un;break;case"wheel":l=En;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Fn}var c=0!==(4&t),d=!c&&"scroll"===e,u=c?null!==i?i+"Capture":null:i;c=[];for(var h,m=a;null!==m;){var p=(h=m).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==u&&(null!=(p=Ee(m,u))&&c.push(Va(m,p,h)))),d)break;m=m.return}0<c.length&&(i=new l(i,o,null,n,A),r.push({event:i,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===ye||!(o=n.relatedTarget||n.fromElement)||!xA(o)&&!o[mA])&&(l||i)&&(i=A.window===A?A:(i=A.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=a,null!==(o=(o=n.relatedTarget||n.toElement)?xA(o):null)&&(o!==(d=Me(o))||5!==o.tag&&6!==o.tag)&&(o=null)):(l=null,o=a),l!==o)){if(c=mn,p="onMouseLeave",u="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(c=Fn,p="onPointerLeave",u="onPointerEnter",m="pointer"),d=null==l?i:yA(l),h=null==o?i:yA(o),(i=new c(p,m+"leave",l,n,A)).target=d,i.relatedTarget=h,p=null,xA(A)===a&&((c=new c(u,m+"enter",o,n,A)).target=h,c.relatedTarget=d,p=c),d=p,l&&o)e:{for(u=o,m=0,h=c=l;h;h=Ja(h))m++;for(h=0,p=u;p;p=Ja(p))h++;for(;0<m-h;)c=Ja(c),m--;for(;0<h-m;)u=Ja(u),h--;for(;m--;){if(c===u||null!==u&&c===u.alternate)break e;c=Ja(c),u=Ja(u)}c=null}else c=null;null!==l&&za(r,i,l,c,!1),null!==o&&null!==d&&za(r,d,o,c,!0)}if("select"===(l=(i=a?yA(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Xn;else if(Gn(i))if(qn)g=ra;else{g=Aa;var f=aa}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=sa);switch(g&&(g=g(e,a))?Vn(r,g,n,A):(f&&f(e,i,a),"focusout"===e&&(f=i._wrapperState)&&f.controlled&&"number"===i.type&&ee(i,"number",i.value)),f=a?yA(a):window,e){case"focusin":(Gn(f)||"true"===f.contentEditable)&&(ga=f,fa=a,xa=null);break;case"focusout":xa=fa=ga=null;break;case"mousedown":va=!0;break;case"contextmenu":case"mouseup":case"dragend":va=!1,ya(r,n,A);break;case"selectionchange":if(pa)break;case"keydown":case"keyup":ya(r,n,A)}var x;if(In)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Mn?On(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Ln&&"ko"!==n.locale&&(Mn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Mn&&(x=en()):(Zt="value"in(qt=A)?qt.value:qt.textContent,Mn=!0)),0<(f=Wa(a,v)).length&&(v=new yn(v,e,null,n,A),r.push({event:v,listeners:f}),x?v.data=x:null!==(x=Rn(n))&&(v.data=x))),(x=Tn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(Dn=!0,Pn);case"textInput":return(e=t.data)===Pn&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Mn)return"compositionend"===e||!In&&On(e,t)?(e=en(),$t=Zt=qt=null,Mn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Wa(a,"onBeforeInput")).length&&(A=new yn("onBeforeInput","beforeinput",null,n,A),r.push({event:A,listeners:a}),A.data=x))}Pa(r,t)})}function Va(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wa(e,t){for(var n=t+"Capture",a=[];null!==e;){var A=e,s=A.stateNode;5===A.tag&&null!==s&&(A=s,null!=(s=Ee(e,n))&&a.unshift(Va(e,s,A)),null!=(s=Ee(e,t))&&a.push(Va(e,s,A))),e=e.return}return a}function Ja(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function za(e,t,n,a,A){for(var s=t._reactName,r=[];null!==n&&n!==a;){var i=n,l=i.alternate,o=i.stateNode;if(null!==l&&l===a)break;5===i.tag&&null!==o&&(i=o,A?null!=(l=Ee(n,s))&&r.unshift(Va(n,l,i)):A||null!=(l=Ee(n,s))&&r.push(Va(n,l,i))),n=n.return}0!==r.length&&e.push({event:t,listeners:r})}var Ya=/\r\n?/g,Xa=/\u0000|\uFFFD/g;function qa(e){return("string"===typeof e?e:""+e).replace(Ya,"\n").replace(Xa,"")}function Za(e,t,n){if(t=qa(t),qa(e)!==t&&n)throw Error(s(425))}function $a(){}var eA=null,tA=null;function nA(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var aA="function"===typeof setTimeout?setTimeout:void 0,AA="function"===typeof clearTimeout?clearTimeout:void 0,sA="function"===typeof Promise?Promise:void 0,rA="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sA?function(e){return sA.resolve(null).then(e).catch(iA)}:aA;function iA(e){setTimeout(function(){throw e})}function lA(e,t){var n=t,a=0;do{var A=n.nextSibling;if(e.removeChild(n),A&&8===A.nodeType)if("/$"===(n=A.data)){if(0===a)return e.removeChild(A),void Mt(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=A}while(n);Mt(t)}function oA(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cA(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dA=Math.random().toString(36).slice(2),uA="__reactFiber$"+dA,hA="__reactProps$"+dA,mA="__reactContainer$"+dA,pA="__reactEvents$"+dA,gA="__reactListeners$"+dA,fA="__reactHandles$"+dA;function xA(e){var t=e[uA];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mA]||n[uA]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cA(e);null!==e;){if(n=e[uA])return n;e=cA(e)}return t}n=(e=n).parentNode}return null}function vA(e){return!(e=e[uA]||e[mA])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yA(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wA(e){return e[hA]||null}var BA=[],jA=-1;function bA(e){return{current:e}}function CA(e){0>jA||(e.current=BA[jA],BA[jA]=null,jA--)}function NA(e,t){jA++,BA[jA]=e.current,e.current=t}var QA={},FA=bA(QA),UA=bA(!1),SA=QA;function kA(e,t){var n=e.type.contextTypes;if(!n)return QA;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var A,s={};for(A in n)s[A]=t[A];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function EA(e){return null!==(e=e.childContextTypes)&&void 0!==e}function _A(){CA(UA),CA(FA)}function IA(e,t,n){if(FA.current!==QA)throw Error(s(168));NA(FA,t),NA(UA,n)}function HA(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var A in a=a.getChildContext())if(!(A in t))throw Error(s(108,K(e)||"Unknown",A));return L({},n,a)}function TA(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||QA,SA=FA.current,NA(FA,e),NA(UA,UA.current),!0}function LA(e,t,n){var a=e.stateNode;if(!a)throw Error(s(169));n?(e=HA(e,t,SA),a.__reactInternalMemoizedMergedChildContext=e,CA(UA),CA(FA),NA(FA,e)):CA(UA),NA(UA,n)}var PA=null,DA=!1,OA=!1;function RA(e){null===PA?PA=[e]:PA.push(e)}function MA(){if(!OA&&null!==PA){OA=!0;var e=0,t=vt;try{var n=PA;for(vt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}PA=null,DA=!1}catch(A){throw null!==PA&&(PA=PA.slice(e+1)),Je($e,MA),A}finally{vt=t,OA=!1}}return null}var KA=[],GA=0,VA=null,WA=0,JA=[],zA=0,YA=null,XA=1,qA="";function ZA(e,t){KA[GA++]=WA,KA[GA++]=VA,VA=e,WA=t}function $A(e,t,n){JA[zA++]=XA,JA[zA++]=qA,JA[zA++]=YA,YA=e;var a=XA;e=qA;var A=32-rt(a)-1;a&=~(1<<A),n+=1;var s=32-rt(t)+A;if(30<s){var r=A-A%5;s=(a&(1<<r)-1).toString(32),a>>=r,A-=r,XA=1<<32-rt(t)+A|n<<A|a,qA=s+e}else XA=1<<s|n<<A|a,qA=e}function es(e){null!==e.return&&(ZA(e,1),$A(e,1,0))}function ts(e){for(;e===VA;)VA=KA[--GA],KA[GA]=null,WA=KA[--GA],KA[GA]=null;for(;e===YA;)YA=JA[--zA],JA[zA]=null,qA=JA[--zA],JA[zA]=null,XA=JA[--zA],JA[zA]=null}var ns=null,as=null,As=!1,ss=null;function rs(e,t){var n=ko(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function is(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,as=oA(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==YA?{id:XA,overflow:qA}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=ko(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,as=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function os(e){if(As){var t=as;if(t){var n=t;if(!is(e,t)){if(ls(e))throw Error(s(418));t=oA(n.nextSibling);var a=ns;t&&is(e,t)?rs(a,n):(e.flags=-4097&e.flags|2,As=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,As=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!As)return cs(e),As=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nA(e.type,e.memoizedProps)),t&&(t=as)){if(ls(e))throw us(),Error(s(418));for(;t;)rs(e,t),t=oA(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){as=oA(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}as=null}}else as=ns?oA(e.stateNode.nextSibling):null;return!0}function us(){for(var e=as;e;)e=oA(e.nextSibling)}function hs(){as=ns=null,As=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var ps=y.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var a=n.stateNode}if(!a)throw Error(s(147,e));var A=a,r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=A.refs;null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function fs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xs(e){return(0,e._init)(e._payload)}function vs(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function A(e,t){return(e=_o(e,t)).index=0,e.sibling=null,e}function r(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=Lo(n,e.mode,a)).return=e,t):((t=A(t,n)).return=e,t)}function o(e,t,n,a){var s=n.type;return s===j?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===E&&xs(s)===t.type)?((a=A(t,n.props)).ref=gs(e,t,n),a.return=e,a):((a=Io(n.type,n.key,n.props,null,e.mode,a)).ref=gs(e,t,n),a.return=e,a)}function c(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Po(n,e.mode,a)).return=e,t):((t=A(t,n.children||[])).return=e,t)}function d(e,t,n,a,s){return null===t||7!==t.tag?((t=Ho(n,e.mode,a,s)).return=e,t):((t=A(t,n)).return=e,t)}function u(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lo(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Io(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case B:return(t=Po(t,e.mode,n)).return=e,t;case E:return u(e,(0,t._init)(t._payload),n)}if(te(t)||H(t))return(t=Ho(t,e.mode,n,null)).return=e,t;fs(e,t)}return null}function h(e,t,n,a){var A=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==A?null:l(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===A?o(e,t,n,a):null;case B:return n.key===A?c(e,t,n,a):null;case E:return h(e,t,(A=n._init)(n._payload),a)}if(te(n)||H(n))return null!==A?null:d(e,t,n,a,null);fs(e,n)}return null}function m(e,t,n,a,A){if("string"===typeof a&&""!==a||"number"===typeof a)return l(t,e=e.get(n)||null,""+a,A);if("object"===typeof a&&null!==a){switch(a.$$typeof){case w:return o(t,e=e.get(null===a.key?n:a.key)||null,a,A);case B:return c(t,e=e.get(null===a.key?n:a.key)||null,a,A);case E:return m(e,t,n,(0,a._init)(a._payload),A)}if(te(a)||H(a))return d(t,e=e.get(n)||null,a,A,null);fs(t,a)}return null}function p(A,s,i,l){for(var o=null,c=null,d=s,p=s=0,g=null;null!==d&&p<i.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var f=h(A,d,i[p],l);if(null===f){null===d&&(d=g);break}e&&d&&null===f.alternate&&t(A,d),s=r(f,s,p),null===c?o=f:c.sibling=f,c=f,d=g}if(p===i.length)return n(A,d),As&&ZA(A,p),o;if(null===d){for(;p<i.length;p++)null!==(d=u(A,i[p],l))&&(s=r(d,s,p),null===c?o=d:c.sibling=d,c=d);return As&&ZA(A,p),o}for(d=a(A,d);p<i.length;p++)null!==(g=m(d,A,p,i[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),s=r(g,s,p),null===c?o=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(A,e)}),As&&ZA(A,p),o}function g(A,i,l,o){var c=H(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var d=c=null,p=i,g=i=0,f=null,x=l.next();null!==p&&!x.done;g++,x=l.next()){p.index>g?(f=p,p=null):f=p.sibling;var v=h(A,p,x.value,o);if(null===v){null===p&&(p=f);break}e&&p&&null===v.alternate&&t(A,p),i=r(v,i,g),null===d?c=v:d.sibling=v,d=v,p=f}if(x.done)return n(A,p),As&&ZA(A,g),c;if(null===p){for(;!x.done;g++,x=l.next())null!==(x=u(A,x.value,o))&&(i=r(x,i,g),null===d?c=x:d.sibling=x,d=x);return As&&ZA(A,g),c}for(p=a(A,p);!x.done;g++,x=l.next())null!==(x=m(p,A,g,x.value,o))&&(e&&null!==x.alternate&&p.delete(null===x.key?g:x.key),i=r(x,i,g),null===d?c=x:d.sibling=x,d=x);return e&&p.forEach(function(e){return t(A,e)}),As&&ZA(A,g),c}return function e(a,s,r,l){if("object"===typeof r&&null!==r&&r.type===j&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case w:e:{for(var o=r.key,c=s;null!==c;){if(c.key===o){if((o=r.type)===j){if(7===c.tag){n(a,c.sibling),(s=A(c,r.props.children)).return=a,a=s;break e}}else if(c.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===E&&xs(o)===c.type){n(a,c.sibling),(s=A(c,r.props)).ref=gs(a,c,r),s.return=a,a=s;break e}n(a,c);break}t(a,c),c=c.sibling}r.type===j?((s=Ho(r.props.children,a.mode,l,r.key)).return=a,a=s):((l=Io(r.type,r.key,r.props,null,a.mode,l)).ref=gs(a,s,r),l.return=a,a=l)}return i(a);case B:e:{for(c=r.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===r.containerInfo&&s.stateNode.implementation===r.implementation){n(a,s.sibling),(s=A(s,r.children||[])).return=a,a=s;break e}n(a,s);break}t(a,s),s=s.sibling}(s=Po(r,a.mode,l)).return=a,a=s}return i(a);case E:return e(a,s,(c=r._init)(r._payload),l)}if(te(r))return p(a,s,r,l);if(H(r))return g(a,s,r,l);fs(a,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==s&&6===s.tag?(n(a,s.sibling),(s=A(s,r)).return=a,a=s):(n(a,s),(s=Lo(r,a.mode,l)).return=a,a=s),i(a)):n(a,s)}}var ys=vs(!0),ws=vs(!1),Bs=bA(null),js=null,bs=null,Cs=null;function Ns(){Cs=bs=js=null}function Qs(e){var t=Bs.current;CA(Bs),e._currentValue=t}function Fs(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Us(e,t){js=e,Cs=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xi=!0),e.firstContext=null)}function Ss(e){var t=e._currentValue;if(Cs!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===js)throw Error(s(308));bs=e,js.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var ks=null;function Es(e){null===ks?ks=[e]:ks.push(e)}function _s(e,t,n,a){var A=t.interleaved;return null===A?(n.next=n,Es(t)):(n.next=A.next,A.next=n),t.interleaved=n,Is(e,a)}function Is(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Hs=!1;function Ts(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Ql)){var A=a.pending;return null===A?t.next=t:(t.next=A.next,A.next=t),a.pending=t,Is(e,n)}return null===(A=a.interleaved)?(t.next=t,Es(a)):(t.next=A.next,A.next=t),a.interleaved=t,Is(e,n)}function Os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,xt(e,n)}}function Rs(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var A=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var r={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?A=s=r:s=s.next=r,n=n.next}while(null!==n);null===s?A=s=t:s=s.next=t}else A=s=t;return n={baseState:a.baseState,firstBaseUpdate:A,lastBaseUpdate:s,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ms(e,t,n,a){var A=e.updateQueue;Hs=!1;var s=A.firstBaseUpdate,r=A.lastBaseUpdate,i=A.shared.pending;if(null!==i){A.shared.pending=null;var l=i,o=l.next;l.next=null,null===r?s=o:r.next=o,r=l;var c=e.alternate;null!==c&&((i=(c=c.updateQueue).lastBaseUpdate)!==r&&(null===i?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=l))}if(null!==s){var d=A.baseState;for(r=0,c=o=l=null,i=s;;){var u=i.lane,h=i.eventTime;if((a&u)===u){null!==c&&(c=c.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var m=e,p=i;switch(u=t,h=n,p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(h,d,u);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(u="function"===typeof(m=p.payload)?m.call(h,d,u):m)||void 0===u)break e;d=L({},d,u);break e;case 2:Hs=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(u=A.effects)?A.effects=[i]:u.push(i))}else h={eventTime:h,lane:u,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===c?(o=c=h,l=d):c=c.next=h,r|=u;if(null===(i=i.next)){if(null===(i=A.shared.pending))break;i=(u=i).next,u.next=null,A.lastBaseUpdate=u,A.shared.pending=null}}if(null===c&&(l=d),A.baseState=l,A.firstBaseUpdate=o,A.lastBaseUpdate=c,null!==(t=A.shared.interleaved)){A=t;do{r|=A.lane,A=A.next}while(A!==t)}else null===s&&(A.shared.lanes=0);Hl|=r,e.lanes=r,e.memoizedState=d}}function Ks(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],A=a.callback;if(null!==A){if(a.callback=null,a=n,"function"!==typeof A)throw Error(s(191,A));A.call(a)}}}var Gs={},Vs=bA(Gs),Ws=bA(Gs),Js=bA(Gs);function zs(e){if(e===Gs)throw Error(s(174));return e}function Ys(e,t){switch(NA(Js,t),NA(Ws,e),NA(Vs,Gs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}CA(Vs),NA(Vs,t)}function Xs(){CA(Vs),CA(Ws),CA(Js)}function qs(e){zs(Js.current);var t=zs(Vs.current),n=le(t,e.type);t!==n&&(NA(Ws,e),NA(Vs,n))}function Zs(e){Ws.current===e&&(CA(Vs),CA(Ws))}var $s=bA(0);function er(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tr=[];function nr(){for(var e=0;e<tr.length;e++)tr[e]._workInProgressVersionPrimary=null;tr.length=0}var ar=y.ReactCurrentDispatcher,Ar=y.ReactCurrentBatchConfig,sr=0,rr=null,ir=null,lr=null,or=!1,cr=!1,dr=0,ur=0;function hr(){throw Error(s(321))}function mr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ia(e[n],t[n]))return!1;return!0}function pr(e,t,n,a,A,r){if(sr=r,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ar.current=null===e||null===e.memoizedState?Zr:$r,e=n(a,A),cr){r=0;do{if(cr=!1,dr=0,25<=r)throw Error(s(301));r+=1,lr=ir=null,t.updateQueue=null,ar.current=ei,e=n(a,A)}while(cr)}if(ar.current=qr,t=null!==ir&&null!==ir.next,sr=0,lr=ir=rr=null,or=!1,t)throw Error(s(300));return e}function gr(){var e=0!==dr;return dr=0,e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lr?rr.memoizedState=lr=e:lr=lr.next=e,lr}function xr(){if(null===ir){var e=rr.alternate;e=null!==e?e.memoizedState:null}else e=ir.next;var t=null===lr?rr.memoizedState:lr.next;if(null!==t)lr=t,ir=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ir=e).memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},null===lr?rr.memoizedState=lr=e:lr=lr.next=e}return lr}function vr(e,t){return"function"===typeof t?t(e):t}function yr(e){var t=xr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=ir,A=a.baseQueue,r=n.pending;if(null!==r){if(null!==A){var i=A.next;A.next=r.next,r.next=i}a.baseQueue=A=r,n.pending=null}if(null!==A){r=A.next,a=a.baseState;var l=i=null,o=null,c=r;do{var d=c.lane;if((sr&d)===d)null!==o&&(o=o.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),a=c.hasEagerState?c.eagerState:e(a,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===o?(l=o=u,i=a):o=o.next=u,rr.lanes|=d,Hl|=d}c=c.next}while(null!==c&&c!==r);null===o?i=a:o.next=l,ia(a,t.memoizedState)||(xi=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=o,n.lastRenderedState=a}if(null!==(e=n.interleaved)){A=e;do{r=A.lane,rr.lanes|=r,Hl|=r,A=A.next}while(A!==e)}else null===A&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wr(e){var t=xr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,A=n.pending,r=t.memoizedState;if(null!==A){n.pending=null;var i=A=A.next;do{r=e(r,i.action),i=i.next}while(i!==A);ia(r,t.memoizedState)||(xi=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function Br(){}function jr(e,t){var n=rr,a=xr(),A=t(),r=!ia(a.memoizedState,A);if(r&&(a.memoizedState=A,xi=!0),a=a.queue,Hr(Nr.bind(null,n,a,e),[e]),a.getSnapshot!==t||r||null!==lr&&1&lr.memoizedState.tag){if(n.flags|=2048,Sr(9,Cr.bind(null,n,a,A,t),void 0,null),null===Fl)throw Error(s(349));0!==(30&sr)||br(n,t,A)}return A}function br(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cr(e,t,n,a){t.value=n,t.getSnapshot=a,Qr(t)&&Fr(e)}function Nr(e,t,n){return n(function(){Qr(t)&&Fr(e)})}function Qr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ia(e,n)}catch(a){return!0}}function Fr(e){var t=Is(e,1);null!==t&&to(t,e,1,-1)}function Ur(e){var t=fr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:e},t.queue=e,e=e.dispatch=Jr.bind(null,rr,e),[t.memoizedState,e]}function Sr(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function kr(){return xr().memoizedState}function Er(e,t,n,a){var A=fr();rr.flags|=e,A.memoizedState=Sr(1|t,n,void 0,void 0===a?null:a)}function _r(e,t,n,a){var A=xr();a=void 0===a?null:a;var s=void 0;if(null!==ir){var r=ir.memoizedState;if(s=r.destroy,null!==a&&mr(a,r.deps))return void(A.memoizedState=Sr(t,n,s,a))}rr.flags|=e,A.memoizedState=Sr(1|t,n,s,a)}function Ir(e,t){return Er(8390656,8,e,t)}function Hr(e,t){return _r(2048,8,e,t)}function Tr(e,t){return _r(4,2,e,t)}function Lr(e,t){return _r(4,4,e,t)}function Pr(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Dr(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_r(4,4,Pr.bind(null,t,e),n)}function Or(){}function Rr(e,t){var n=xr();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&mr(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Mr(e,t){var n=xr();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&mr(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Kr(e,t,n){return 0===(21&sr)?(e.baseState&&(e.baseState=!1,xi=!0),e.memoizedState=n):(ia(n,t)||(n=pt(),rr.lanes|=n,Hl|=n,e.baseState=!0),t)}function Gr(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var a=Ar.transition;Ar.transition={};try{e(!1),t()}finally{vt=n,Ar.transition=a}}function Vr(){return xr().memoizedState}function Wr(e,t,n){var a=eo(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},zr(e))Yr(t,n);else if(null!==(n=_s(e,t,n,a))){to(n,e,a,$l()),Xr(n,t,a)}}function Jr(e,t,n){var a=eo(e),A={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(zr(e))Yr(t,A);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var r=t.lastRenderedState,i=s(r,n);if(A.hasEagerState=!0,A.eagerState=i,ia(i,r)){var l=t.interleaved;return null===l?(A.next=A,Es(t)):(A.next=l.next,l.next=A),void(t.interleaved=A)}}catch(o){}null!==(n=_s(e,t,A,a))&&(to(n,e,a,A=$l()),Xr(n,t,a))}}function zr(e){var t=e.alternate;return e===rr||null!==t&&t===rr}function Yr(e,t){cr=or=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xr(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,xt(e,n)}}var qr={readContext:Ss,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},Zr={readContext:Ss,useCallback:function(e,t){return fr().memoizedState=[e,void 0===t?null:t],e},useContext:Ss,useEffect:Ir,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Er(4194308,4,Pr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Er(4194308,4,e,t)},useInsertionEffect:function(e,t){return Er(4,2,e,t)},useMemo:function(e,t){var n=fr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=fr();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Wr.bind(null,rr,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},fr().memoizedState=e},useState:Ur,useDebugValue:Or,useDeferredValue:function(e){return fr().memoizedState=e},useTransition:function(){var e=Ur(!1),t=e[0];return e=Gr.bind(null,e[1]),fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=rr,A=fr();if(As){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Fl)throw Error(s(349));0!==(30&sr)||br(a,t,n)}A.memoizedState=n;var r={value:n,getSnapshot:t};return A.queue=r,Ir(Nr.bind(null,a,r,e),[e]),a.flags|=2048,Sr(9,Cr.bind(null,a,r,n,t),void 0,null),n},useId:function(){var e=fr(),t=Fl.identifierPrefix;if(As){var n=qA;t=":"+t+"R"+(n=(XA&~(1<<32-rt(XA)-1)).toString(32)+n),0<(n=dr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ur++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$r={readContext:Ss,useCallback:Rr,useContext:Ss,useEffect:Hr,useImperativeHandle:Dr,useInsertionEffect:Tr,useLayoutEffect:Lr,useMemo:Mr,useReducer:yr,useRef:kr,useState:function(){return yr(vr)},useDebugValue:Or,useDeferredValue:function(e){return Kr(xr(),ir.memoizedState,e)},useTransition:function(){return[yr(vr)[0],xr().memoizedState]},useMutableSource:Br,useSyncExternalStore:jr,useId:Vr,unstable_isNewReconciler:!1},ei={readContext:Ss,useCallback:Rr,useContext:Ss,useEffect:Hr,useImperativeHandle:Dr,useInsertionEffect:Tr,useLayoutEffect:Lr,useMemo:Mr,useReducer:wr,useRef:kr,useState:function(){return wr(vr)},useDebugValue:Or,useDeferredValue:function(e){var t=xr();return null===ir?t.memoizedState=e:Kr(t,ir.memoizedState,e)},useTransition:function(){return[wr(vr)[0],xr().memoizedState]},useMutableSource:Br,useSyncExternalStore:jr,useId:Vr,unstable_isNewReconciler:!1};function ti(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ni(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&Me(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=$l(),A=eo(e),s=Ps(a,A);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,A))&&(to(t,e,A,a),Os(t,e,A))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=$l(),A=eo(e),s=Ps(a,A);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,A))&&(to(t,e,A,a),Os(t,e,A))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$l(),a=eo(e),A=Ps(n,a);A.tag=2,void 0!==t&&null!==t&&(A.callback=t),null!==(t=Ds(e,A,a))&&(to(t,e,a,n),Os(t,e,a))}};function Ai(e,t,n,a,A,s,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,r):!t.prototype||!t.prototype.isPureReactComponent||(!la(n,a)||!la(A,s))}function si(e,t,n){var a=!1,A=QA,s=t.contextType;return"object"===typeof s&&null!==s?s=Ss(s):(A=EA(t)?SA:FA.current,s=(a=null!==(a=t.contextTypes)&&void 0!==a)?kA(e,A):QA),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=A,e.__reactInternalMemoizedMaskedChildContext=s),t}function ri(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function ii(e,t,n,a){var A=e.stateNode;A.props=n,A.state=e.memoizedState,A.refs={},Ts(e);var s=t.contextType;"object"===typeof s&&null!==s?A.context=Ss(s):(s=EA(t)?SA:FA.current,A.context=kA(e,s)),A.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ni(e,t,s,n),A.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof A.getSnapshotBeforeUpdate||"function"!==typeof A.UNSAFE_componentWillMount&&"function"!==typeof A.componentWillMount||(t=A.state,"function"===typeof A.componentWillMount&&A.componentWillMount(),"function"===typeof A.UNSAFE_componentWillMount&&A.UNSAFE_componentWillMount(),t!==A.state&&ai.enqueueReplaceState(A,A.state,null),Ms(e,n,A,a),A.state=e.memoizedState),"function"===typeof A.componentDidMount&&(e.flags|=4194308)}function li(e,t){try{var n="",a=t;do{n+=R(a),a=a.return}while(a);var A=n}catch(s){A="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:A,digest:null}}function oi(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ci(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var di="function"===typeof WeakMap?WeakMap:Map;function ui(e,t,n){(n=Ps(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Kl||(Kl=!0,Gl=a),ci(0,t)},n}function hi(e,t,n){(n=Ps(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var A=t.value;n.payload=function(){return a(A)},n.callback=function(){ci(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ci(0,t),"function"!==typeof a&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mi(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new di;var A=new Set;a.set(t,A)}else void 0===(A=a.get(t))&&(A=new Set,a.set(t,A));A.has(n)||(A.add(n),e=Co.bind(null,e,t,n),t.then(e,e))}function pi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gi(e,t,n,a,A){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ps(-1,1)).tag=2,Ds(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=A,e)}var fi=y.ReactCurrentOwner,xi=!1;function vi(e,t,n,a){t.child=null===e?ws(t,null,n,a):ys(t,e.child,n,a)}function yi(e,t,n,a,A){n=n.render;var s=t.ref;return Us(t,A),a=pr(e,t,n,a,s,A),n=gr(),null===e||xi?(As&&n&&es(t),t.flags|=1,vi(e,t,a,A),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~A,Ki(e,t,A))}function wi(e,t,n,a,A){if(null===e){var s=n.type;return"function"!==typeof s||Eo(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Io(n.type,null,a,t,t.mode,A)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Bi(e,t,s,a,A))}if(s=e.child,0===(e.lanes&A)){var r=s.memoizedProps;if((n=null!==(n=n.compare)?n:la)(r,a)&&e.ref===t.ref)return Ki(e,t,A)}return t.flags|=1,(e=_o(s,a)).ref=t.ref,e.return=t,t.child=e}function Bi(e,t,n,a,A){if(null!==e){var s=e.memoizedProps;if(la(s,a)&&e.ref===t.ref){if(xi=!1,t.pendingProps=a=s,0===(e.lanes&A))return t.lanes=e.lanes,Ki(e,t,A);0!==(131072&e.flags)&&(xi=!0)}}return Ci(e,t,n,a,A)}function ji(e,t,n){var a=t.pendingProps,A=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},NA(El,kl),kl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,NA(El,kl),kl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==s?s.baseLanes:n,NA(El,kl),kl|=a}else null!==s?(a=s.baseLanes|n,t.memoizedState=null):a=n,NA(El,kl),kl|=a;return vi(e,t,A,n),t.child}function bi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ci(e,t,n,a,A){var s=EA(n)?SA:FA.current;return s=kA(t,s),Us(t,A),n=pr(e,t,n,a,s,A),a=gr(),null===e||xi?(As&&a&&es(t),t.flags|=1,vi(e,t,n,A),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~A,Ki(e,t,A))}function Ni(e,t,n,a,A){if(EA(n)){var s=!0;TA(t)}else s=!1;if(Us(t,A),null===t.stateNode)Mi(e,t),si(t,n,a),ii(t,n,a,A),a=!0;else if(null===e){var r=t.stateNode,i=t.memoizedProps;r.props=i;var l=r.context,o=n.contextType;"object"===typeof o&&null!==o?o=Ss(o):o=kA(t,o=EA(n)?SA:FA.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof r.getSnapshotBeforeUpdate;d||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(i!==a||l!==o)&&ri(t,r,a,o),Hs=!1;var u=t.memoizedState;r.state=u,Ms(t,a,r,A),l=t.memoizedState,i!==a||u!==l||UA.current||Hs?("function"===typeof c&&(ni(t,n,c,a),l=t.memoizedState),(i=Hs||Ai(t,n,i,a,u,l,o))?(d||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),r.props=a,r.state=l,r.context=o,a=i):("function"===typeof r.componentDidMount&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Ls(e,t),i=t.memoizedProps,o=t.type===t.elementType?i:ti(t.type,i),r.props=o,d=t.pendingProps,u=r.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ss(l):l=kA(t,l=EA(n)?SA:FA.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(i!==d||u!==l)&&ri(t,r,a,l),Hs=!1,u=t.memoizedState,r.state=u,Ms(t,a,r,A);var m=t.memoizedState;i!==d||u!==m||UA.current||Hs?("function"===typeof h&&(ni(t,n,h,a),m=t.memoizedState),(o=Hs||Ai(t,n,o,a,u,m,l)||!1)?(c||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(a,m,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(a,m,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),r.props=a,r.state=m,r.context=l,a=o):("function"!==typeof r.componentDidUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),a=!1)}return Qi(e,t,n,a,s,A)}function Qi(e,t,n,a,A,s){bi(e,t);var r=0!==(128&t.flags);if(!a&&!r)return A&&LA(t,n,!1),Ki(e,t,s);a=t.stateNode,fi.current=t;var i=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&r?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,i,s)):vi(e,t,i,s),t.memoizedState=a.state,A&&LA(t,n,!0),t.child}function Fi(e){var t=e.stateNode;t.pendingContext?IA(0,t.pendingContext,t.pendingContext!==t.context):t.context&&IA(0,t.context,!1),Ys(e,t.containerInfo)}function Ui(e,t,n,a,A){return hs(),ms(A),t.flags|=256,vi(e,t,n,a),t.child}var Si,ki,Ei,_i,Ii={dehydrated:null,treeContext:null,retryLane:0};function Hi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ti(e,t,n){var a,A=t.pendingProps,r=$s.current,i=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&r)),a?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(r|=1),NA($s,1&r),null===e)return os(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=A.children,e=A.fallback,i?(A=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&A)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=To(l,A,0,null),e=Ho(e,A,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Hi(n),t.memoizedState=Ii,e):Li(t,l));if(null!==(r=e.memoizedState)&&null!==(a=r.dehydrated))return function(e,t,n,a,A,r,i){if(n)return 256&t.flags?(t.flags&=-257,Pi(e,t,i,a=oi(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(r=a.fallback,A=t.mode,a=To({mode:"visible",children:a.children},A,0,null),(r=Ho(r,A,i,null)).flags|=2,a.return=t,r.return=t,a.sibling=r,t.child=a,0!==(1&t.mode)&&ys(t,e.child,null,i),t.child.memoizedState=Hi(i),t.memoizedState=Ii,r);if(0===(1&t.mode))return Pi(e,t,i,null);if("$!"===A.data){if(a=A.nextSibling&&A.nextSibling.dataset)var l=a.dgst;return a=l,Pi(e,t,i,a=oi(r=Error(s(419)),a,void 0))}if(l=0!==(i&e.childLanes),xi||l){if(null!==(a=Fl)){switch(i&-i){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}0!==(A=0!==(A&(a.suspendedLanes|i))?0:A)&&A!==r.retryLane&&(r.retryLane=A,Is(e,A),to(a,e,A,-1))}return po(),Pi(e,t,i,a=oi(Error(s(421))))}return"$?"===A.data?(t.flags|=128,t.child=e.child,t=Qo.bind(null,e),A._reactRetry=t,null):(e=r.treeContext,as=oA(A.nextSibling),ns=t,As=!0,ss=null,null!==e&&(JA[zA++]=XA,JA[zA++]=qA,JA[zA++]=YA,XA=e.id,qA=e.overflow,YA=t),t=Li(t,a.children),t.flags|=4096,t)}(e,t,l,A,a,r,n);if(i){i=A.fallback,l=t.mode,a=(r=e.child).sibling;var o={mode:"hidden",children:A.children};return 0===(1&l)&&t.child!==r?((A=t.child).childLanes=0,A.pendingProps=o,t.deletions=null):(A=_o(r,o)).subtreeFlags=14680064&r.subtreeFlags,null!==a?i=_o(a,i):(i=Ho(i,l,n,null)).flags|=2,i.return=t,A.return=t,A.sibling=i,t.child=A,A=i,i=t.child,l=null===(l=e.child.memoizedState)?Hi(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Ii,A}return e=(i=e.child).sibling,A=_o(i,{mode:"visible",children:A.children}),0===(1&t.mode)&&(A.lanes=n),A.return=t,A.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=A,t.memoizedState=null,A}function Li(e,t){return(t=To({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Pi(e,t,n,a){return null!==a&&ms(a),ys(t,e.child,null,n),(e=Li(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Di(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Fs(e.return,t,n)}function Oi(e,t,n,a,A){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:A}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=A)}function Ri(e,t,n){var a=t.pendingProps,A=a.revealOrder,s=a.tail;if(vi(e,t,a.children,n),0!==(2&(a=$s.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Di(e,n,t);else if(19===e.tag)Di(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(NA($s,a),0===(1&t.mode))t.memoizedState=null;else switch(A){case"forwards":for(n=t.child,A=null;null!==n;)null!==(e=n.alternate)&&null===er(e)&&(A=n),n=n.sibling;null===(n=A)?(A=t.child,t.child=null):(A=n.sibling,n.sibling=null),Oi(t,!1,A,n,s);break;case"backwards":for(n=null,A=t.child,t.child=null;null!==A;){if(null!==(e=A.alternate)&&null===er(e)){t.child=A;break}e=A.sibling,A.sibling=n,n=A,A=e}Oi(t,!0,n,null,s);break;case"together":Oi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ki(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Hl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=_o(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_o(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gi(e,t){if(!As)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Vi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var A=e.child;null!==A;)n|=A.lanes|A.childLanes,a|=14680064&A.subtreeFlags,a|=14680064&A.flags,A.return=e,A=A.sibling;else for(A=e.child;null!==A;)n|=A.lanes|A.childLanes,a|=A.subtreeFlags,a|=A.flags,A.return=e,A=A.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Wi(e,t,n){var a=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vi(t),null;case 1:case 17:return EA(t.type)&&_A(),Vi(t),null;case 3:return a=t.stateNode,Xs(),CA(UA),CA(FA),nr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(so(ss),ss=null))),ki(e,t),Vi(t),null;case 5:Zs(t);var A=zs(Js.current);if(n=t.type,null!==e&&null!=t.stateNode)Ei(e,t,n,a,A),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(s(166));return Vi(t),null}if(e=zs(Vs.current),ds(t)){a=t.stateNode,n=t.type;var r=t.memoizedProps;switch(a[uA]=t,a[hA]=r,e=0!==(1&t.mode),n){case"dialog":Da("cancel",a),Da("close",a);break;case"iframe":case"object":case"embed":Da("load",a);break;case"video":case"audio":for(A=0;A<Ha.length;A++)Da(Ha[A],a);break;case"source":Da("error",a);break;case"img":case"image":case"link":Da("error",a),Da("load",a);break;case"details":Da("toggle",a);break;case"input":X(a,r),Da("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!r.multiple},Da("invalid",a);break;case"textarea":Ae(a,r),Da("invalid",a)}for(var l in xe(n,r),A=null,r)if(r.hasOwnProperty(l)){var o=r[l];"children"===l?"string"===typeof o?a.textContent!==o&&(!0!==r.suppressHydrationWarning&&Za(a.textContent,o,e),A=["children",o]):"number"===typeof o&&a.textContent!==""+o&&(!0!==r.suppressHydrationWarning&&Za(a.textContent,o,e),A=["children",""+o]):i.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Da("scroll",a)}switch(n){case"input":W(a),$(a,r,!0);break;case"textarea":W(a),re(a);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(a.onclick=$a)}a=A,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===A.nodeType?A:A.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=l.createElement(n,{is:a.is}):(e=l.createElement(n),"select"===n&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,n),e[uA]=t,e[hA]=a,Si(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,a),n){case"dialog":Da("cancel",e),Da("close",e),A=a;break;case"iframe":case"object":case"embed":Da("load",e),A=a;break;case"video":case"audio":for(A=0;A<Ha.length;A++)Da(Ha[A],e);A=a;break;case"source":Da("error",e),A=a;break;case"img":case"image":case"link":Da("error",e),Da("load",e),A=a;break;case"details":Da("toggle",e),A=a;break;case"input":X(e,a),A=Y(e,a),Da("invalid",e);break;case"option":default:A=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},A=L({},a,{value:void 0}),Da("invalid",e);break;case"textarea":Ae(e,a),A=ae(e,a),Da("invalid",e)}for(r in xe(n,A),o=A)if(o.hasOwnProperty(r)){var c=o[r];"style"===r?ge(e,c):"dangerouslySetInnerHTML"===r?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===r?"string"===typeof c?("textarea"!==n||""!==c)&&ue(e,c):"number"===typeof c&&ue(e,""+c):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(i.hasOwnProperty(r)?null!=c&&"onScroll"===r&&Da("scroll",e):null!=c&&v(e,r,c,l))}switch(n){case"input":W(e),$(e,a,!1);break;case"textarea":W(e),re(e);break;case"option":null!=a.value&&e.setAttribute("value",""+G(a.value));break;case"select":e.multiple=!!a.multiple,null!=(r=a.value)?ne(e,!!a.multiple,r,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof A.onClick&&(e.onclick=$a)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vi(t),null;case 6:if(e&&null!=t.stateNode)_i(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(s(166));if(n=zs(Js.current),zs(Vs.current),ds(t)){if(a=t.stateNode,n=t.memoizedProps,a[uA]=t,(r=a.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Za(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Za(a.nodeValue,n,0!==(1&e.mode))}r&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[uA]=t,t.stateNode=a}return Vi(t),null;case 13:if(CA($s),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(As&&null!==as&&0!==(1&t.mode)&&0===(128&t.flags))us(),hs(),t.flags|=98560,r=!1;else if(r=ds(t),null!==a&&null!==a.dehydrated){if(null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[uA]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vi(t),r=!1}else null!==ss&&(so(ss),ss=null),r=!0;if(!r)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$s.current)?0===_l&&(_l=3):po())),null!==t.updateQueue&&(t.flags|=4),Vi(t),null);case 4:return Xs(),ki(e,t),null===e&&Ma(t.stateNode.containerInfo),Vi(t),null;case 10:return Qs(t.type._context),Vi(t),null;case 19:if(CA($s),null===(r=t.memoizedState))return Vi(t),null;if(a=0!==(128&t.flags),null===(l=r.rendering))if(a)Gi(r,!1);else{if(0!==_l||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=er(e))){for(t.flags|=128,Gi(r,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(r=n).flags&=14680066,null===(l=r.alternate)?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,e=l.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return NA($s,1&$s.current|2),t.child}e=e.sibling}null!==r.tail&&qe()>Rl&&(t.flags|=128,a=!0,Gi(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=er(l))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gi(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!As)return Vi(t),null}else 2*qe()-r.renderingStartTime>Rl&&1073741824!==n&&(t.flags|=128,a=!0,Gi(r,!1),t.lanes=4194304);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=qe(),t.sibling=null,n=$s.current,NA($s,a?1&n|2:1&n),t):(Vi(t),null);case 22:case 23:return co(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&kl)&&(Vi(t),6&t.subtreeFlags&&(t.flags|=8192)):Vi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ji(e,t){switch(ts(t),t.tag){case 1:return EA(t.type)&&_A(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),CA(UA),CA(FA),nr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(CA($s),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return CA($s),null;case 4:return Xs(),null;case 10:return Qs(t.type._context),null;case 22:case 23:return co(),null;default:return null}}Si=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ki=function(){},Ei=function(e,t,n,a){var A=e.memoizedProps;if(A!==a){e=t.stateNode,zs(Vs.current);var s,r=null;switch(n){case"input":A=Y(e,A),a=Y(e,a),r=[];break;case"select":A=L({},A,{value:void 0}),a=L({},a,{value:void 0}),r=[];break;case"textarea":A=ae(e,A),a=ae(e,a),r=[];break;default:"function"!==typeof A.onClick&&"function"===typeof a.onClick&&(e.onclick=$a)}for(c in xe(n,a),n=null,A)if(!a.hasOwnProperty(c)&&A.hasOwnProperty(c)&&null!=A[c])if("style"===c){var l=A[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(i.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in a){var o=a[c];if(l=null!=A?A[c]:void 0,a.hasOwnProperty(c)&&o!==l&&(null!=o||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||o&&o.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in o)o.hasOwnProperty(s)&&l[s]!==o[s]&&(n||(n={}),n[s]=o[s])}else n||(r||(r=[]),r.push(c,n)),n=o;else"dangerouslySetInnerHTML"===c?(o=o?o.__html:void 0,l=l?l.__html:void 0,null!=o&&l!==o&&(r=r||[]).push(c,o)):"children"===c?"string"!==typeof o&&"number"!==typeof o||(r=r||[]).push(c,""+o):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(i.hasOwnProperty(c)?(null!=o&&"onScroll"===c&&Da("scroll",e),r||l===o||(r=[])):(r=r||[]).push(c,o))}n&&(r=r||[]).push("style",n);var c=r;(t.updateQueue=c)&&(t.flags|=4)}},_i=function(e,t,n,a){n!==a&&(t.flags|=4)};var zi=!1,Yi=!1,Xi="function"===typeof WeakSet?WeakSet:Set,qi=null;function Zi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){bo(e,t,a)}else n.current=null}function $i(e,t,n){try{n()}catch(a){bo(e,t,a)}}var el=!1;function tl(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var A=a=a.next;do{if((A.tag&e)===e){var s=A.destroy;A.destroy=void 0,void 0!==s&&$i(t,n,s)}A=A.next}while(A!==a)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Al(e){var t=e.alternate;null!==t&&(e.alternate=null,Al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[uA],delete t[hA],delete t[pA],delete t[gA],delete t[fA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function rl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function il(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$a));else if(4!==a&&null!==(e=e.child))for(il(e,t,n),e=e.sibling;null!==e;)il(e,t,n),e=e.sibling}function ll(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var ol=null,cl=!1;function dl(e,t,n){for(n=n.child;null!==n;)ul(e,t,n),n=n.sibling}function ul(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(At,n)}catch(i){}switch(n.tag){case 5:Yi||Zi(n,t);case 6:var a=ol,A=cl;ol=null,dl(e,t,n),cl=A,null!==(ol=a)&&(cl?(e=ol,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ol.removeChild(n.stateNode));break;case 18:null!==ol&&(cl?(e=ol,n=n.stateNode,8===e.nodeType?lA(e.parentNode,n):1===e.nodeType&&lA(e,n),Mt(e)):lA(ol,n.stateNode));break;case 4:a=ol,A=cl,ol=n.stateNode.containerInfo,cl=!0,dl(e,t,n),ol=a,cl=A;break;case 0:case 11:case 14:case 15:if(!Yi&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){A=a=a.next;do{var s=A,r=s.destroy;s=s.tag,void 0!==r&&(0!==(2&s)||0!==(4&s))&&$i(n,t,r),A=A.next}while(A!==a)}dl(e,t,n);break;case 1:if(!Yi&&(Zi(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(i){bo(n,t,i)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Yi=(a=Yi)||null!==n.memoizedState,dl(e,t,n),Yi=a):dl(e,t,n);break;default:dl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xi),t.forEach(function(t){var a=Fo.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var A=n[a];try{var r=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:ol=l.stateNode,cl=!1;break e;case 3:case 4:ol=l.stateNode.containerInfo,cl=!0;break e}l=l.return}if(null===ol)throw Error(s(160));ul(r,i,A),ol=null,cl=!1;var o=A.alternate;null!==o&&(o.return=null),A.return=null}catch(c){bo(A,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}function pl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&a){try{tl(3,e,e.return),nl(3,e)}catch(g){bo(e,e.return,g)}try{tl(5,e,e.return)}catch(g){bo(e,e.return,g)}}break;case 1:ml(t,e),gl(e),512&a&&null!==n&&Zi(n,n.return);break;case 5:if(ml(t,e),gl(e),512&a&&null!==n&&Zi(n,n.return),32&e.flags){var A=e.stateNode;try{ue(A,"")}catch(g){bo(e,e.return,g)}}if(4&a&&null!=(A=e.stateNode)){var r=e.memoizedProps,i=null!==n?n.memoizedProps:r,l=e.type,o=e.updateQueue;if(e.updateQueue=null,null!==o)try{"input"===l&&"radio"===r.type&&null!=r.name&&q(A,r),ve(l,i);var c=ve(l,r);for(i=0;i<o.length;i+=2){var d=o[i],u=o[i+1];"style"===d?ge(A,u):"dangerouslySetInnerHTML"===d?de(A,u):"children"===d?ue(A,u):v(A,d,u,c)}switch(l){case"input":Z(A,r);break;case"textarea":se(A,r);break;case"select":var h=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!r.multiple;var m=r.value;null!=m?ne(A,!!r.multiple,m,!1):h!==!!r.multiple&&(null!=r.defaultValue?ne(A,!!r.multiple,r.defaultValue,!0):ne(A,!!r.multiple,r.multiple?[]:"",!1))}A[hA]=r}catch(g){bo(e,e.return,g)}}break;case 6:if(ml(t,e),gl(e),4&a){if(null===e.stateNode)throw Error(s(162));A=e.stateNode,r=e.memoizedProps;try{A.nodeValue=r}catch(g){bo(e,e.return,g)}}break;case 3:if(ml(t,e),gl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Mt(t.containerInfo)}catch(g){bo(e,e.return,g)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(A=e.child).flags&&(r=null!==A.memoizedState,A.stateNode.isHidden=r,!r||null!==A.alternate&&null!==A.alternate.memoizedState||(Ol=qe())),4&a&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Yi=(c=Yi)||d,ml(t,e),Yi=c):ml(t,e),gl(e),8192&a){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(qi=e,d=e.child;null!==d;){for(u=qi=d;null!==qi;){switch(m=(h=qi).child,h.tag){case 0:case 11:case 14:case 15:tl(4,h,h.return);break;case 1:Zi(h,h.return);var p=h.stateNode;if("function"===typeof p.componentWillUnmount){a=h,n=h.return;try{t=a,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){bo(a,n,g)}}break;case 5:Zi(h,h.return);break;case 22:if(null!==h.memoizedState){yl(u);continue}}null!==m?(m.return=h,qi=m):yl(u)}d=d.sibling}e:for(d=null,u=e;;){if(5===u.tag){if(null===d){d=u;try{A=u.stateNode,c?"function"===typeof(r=A.style).setProperty?r.setProperty("display","none","important"):r.display="none":(l=u.stateNode,i=void 0!==(o=u.memoizedProps.style)&&null!==o&&o.hasOwnProperty("display")?o.display:null,l.style.display=pe("display",i))}catch(g){bo(e,e.return,g)}}}else if(6===u.tag){if(null===d)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(g){bo(e,e.return,g)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:ml(t,e),gl(e),4&a&&hl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var a=n;break e}n=n.return}throw Error(s(160))}switch(a.tag){case 5:var A=a.stateNode;32&a.flags&&(ue(A,""),a.flags&=-33),ll(e,rl(e),A);break;case 3:case 4:var r=a.stateNode.containerInfo;il(e,rl(e),r);break;default:throw Error(s(161))}}catch(i){bo(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function fl(e,t,n){qi=e,xl(e,t,n)}function xl(e,t,n){for(var a=0!==(1&e.mode);null!==qi;){var A=qi,s=A.child;if(22===A.tag&&a){var r=null!==A.memoizedState||zi;if(!r){var i=A.alternate,l=null!==i&&null!==i.memoizedState||Yi;i=zi;var o=Yi;if(zi=r,(Yi=l)&&!o)for(qi=A;null!==qi;)l=(r=qi).child,22===r.tag&&null!==r.memoizedState?wl(A):null!==l?(l.return=r,qi=l):wl(A);for(;null!==s;)qi=s,xl(s,t,n),s=s.sibling;qi=A,zi=i,Yi=o}vl(e)}else 0!==(8772&A.subtreeFlags)&&null!==s?(s.return=A,qi=s):vl(e)}}function vl(e){for(;null!==qi;){var t=qi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yi||nl(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Yi)if(null===n)a.componentDidMount();else{var A=t.elementType===t.type?n.memoizedProps:ti(t.type,n.memoizedProps);a.componentDidUpdate(A,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;null!==r&&Ks(t,r,a);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ks(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var u=d.dehydrated;null!==u&&Mt(u)}}}break;default:throw Error(s(163))}Yi||512&t.flags&&al(t)}catch(h){bo(t,t.return,h)}}if(t===e){qi=null;break}if(null!==(n=t.sibling)){n.return=t.return,qi=n;break}qi=t.return}}function yl(e){for(;null!==qi;){var t=qi;if(t===e){qi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,qi=n;break}qi=t.return}}function wl(e){for(;null!==qi;){var t=qi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(l){bo(t,n,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var A=t.return;try{a.componentDidMount()}catch(l){bo(t,A,l)}}var s=t.return;try{al(t)}catch(l){bo(t,s,l)}break;case 5:var r=t.return;try{al(t)}catch(l){bo(t,r,l)}}}catch(l){bo(t,t.return,l)}if(t===e){qi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,qi=i;break}qi=t.return}}var Bl,jl=Math.ceil,bl=y.ReactCurrentDispatcher,Cl=y.ReactCurrentOwner,Nl=y.ReactCurrentBatchConfig,Ql=0,Fl=null,Ul=null,Sl=0,kl=0,El=bA(0),_l=0,Il=null,Hl=0,Tl=0,Ll=0,Pl=null,Dl=null,Ol=0,Rl=1/0,Ml=null,Kl=!1,Gl=null,Vl=null,Wl=!1,Jl=null,zl=0,Yl=0,Xl=null,ql=-1,Zl=0;function $l(){return 0!==(6&Ql)?qe():-1!==ql?ql:ql=qe()}function eo(e){return 0===(1&e.mode)?1:0!==(2&Ql)&&0!==Sl?Sl&-Sl:null!==ps.transition?(0===Zl&&(Zl=pt()),Zl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function to(e,t,n,a){if(50<Yl)throw Yl=0,Xl=null,Error(s(185));ft(e,n,a),0!==(2&Ql)&&e===Fl||(e===Fl&&(0===(2&Ql)&&(Tl|=n),4===_l&&ro(e,Sl)),no(e,a),1===n&&0===Ql&&0===(1&t.mode)&&(Rl=qe()+500,DA&&MA()))}function no(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,A=e.expirationTimes,s=e.pendingLanes;0<s;){var r=31-rt(s),i=1<<r,l=A[r];-1===l?0!==(i&n)&&0===(i&a)||(A[r]=ht(i,t)):l<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var a=ut(e,e===Fl?Sl:0);if(0===a)null!==n&&ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&ze(n),1===t)0===e.tag?function(e){DA=!0,RA(e)}(io.bind(null,e)):RA(io.bind(null,e)),rA(function(){0===(6&Ql)&&MA()}),n=null;else{switch(yt(a)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Uo(n,ao.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ao(e,t){if(ql=-1,Zl=0,0!==(6&Ql))throw Error(s(327));var n=e.callbackNode;if(Bo()&&e.callbackNode!==n)return null;var a=ut(e,e===Fl?Sl:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=go(e,a);else{t=a;var A=Ql;Ql|=2;var r=mo();for(Fl===e&&Sl===t||(Ml=null,Rl=qe()+500,uo(e,t));;)try{xo();break}catch(l){ho(e,l)}Ns(),bl.current=r,Ql=A,null!==Ul?t=0:(Fl=null,Sl=0,t=_l)}if(0!==t){if(2===t&&(0!==(A=mt(e))&&(a=A,t=Ao(e,A))),1===t)throw n=Il,uo(e,0),ro(e,a),no(e,qe()),n;if(6===t)ro(e,a);else{if(A=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var A=n[a],s=A.getSnapshot;A=A.value;try{if(!ia(s(),A))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(A)&&(2===(t=go(e,a))&&(0!==(r=mt(e))&&(a=r,t=Ao(e,r))),1===t))throw n=Il,uo(e,0),ro(e,a),no(e,qe()),n;switch(e.finishedWork=A,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:case 5:wo(e,Dl,Ml);break;case 3:if(ro(e,a),(130023424&a)===a&&10<(t=Ol+500-qe())){if(0!==ut(e,0))break;if(((A=e.suspendedLanes)&a)!==a){$l(),e.pingedLanes|=e.suspendedLanes&A;break}e.timeoutHandle=aA(wo.bind(null,e,Dl,Ml),t);break}wo(e,Dl,Ml);break;case 4:if(ro(e,a),(4194240&a)===a)break;for(t=e.eventTimes,A=-1;0<a;){var i=31-rt(a);r=1<<i,(i=t[i])>A&&(A=i),a&=~r}if(a=A,10<(a=(120>(a=qe()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*jl(a/1960))-a)){e.timeoutHandle=aA(wo.bind(null,e,Dl,Ml),a);break}wo(e,Dl,Ml);break;default:throw Error(s(329))}}}return no(e,qe()),e.callbackNode===n?ao.bind(null,e):null}function Ao(e,t){var n=Pl;return e.current.memoizedState.isDehydrated&&(uo(e,t).flags|=256),2!==(e=go(e,t))&&(t=Dl,Dl=n,null!==t&&so(t)),e}function so(e){null===Dl?Dl=e:Dl.push.apply(Dl,e)}function ro(e,t){for(t&=~Ll,t&=~Tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),a=1<<n;e[n]=-1,t&=~a}}function io(e){if(0!==(6&Ql))throw Error(s(327));Bo();var t=ut(e,0);if(0===(1&t))return no(e,qe()),null;var n=go(e,t);if(0!==e.tag&&2===n){var a=mt(e);0!==a&&(t=a,n=Ao(e,a))}if(1===n)throw n=Il,uo(e,0),ro(e,t),no(e,qe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wo(e,Dl,Ml),no(e,qe()),null}function lo(e,t){var n=Ql;Ql|=1;try{return e(t)}finally{0===(Ql=n)&&(Rl=qe()+500,DA&&MA())}}function oo(e){null!==Jl&&0===Jl.tag&&0===(6&Ql)&&Bo();var t=Ql;Ql|=1;var n=Nl.transition,a=vt;try{if(Nl.transition=null,vt=1,e)return e()}finally{vt=a,Nl.transition=n,0===(6&(Ql=t))&&MA()}}function co(){kl=El.current,CA(El)}function uo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,AA(n)),null!==Ul)for(n=Ul.return;null!==n;){var a=n;switch(ts(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&_A();break;case 3:Xs(),CA(UA),CA(FA),nr();break;case 5:Zs(a);break;case 4:Xs();break;case 13:case 19:CA($s);break;case 10:Qs(a.type._context);break;case 22:case 23:co()}n=n.return}if(Fl=e,Ul=e=_o(e.current,null),Sl=kl=t,_l=0,Il=null,Ll=Tl=Hl=0,Dl=Pl=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(a=(n=ks[t]).interleaved)){n.interleaved=null;var A=a.next,s=n.pending;if(null!==s){var r=s.next;s.next=A,a.next=r}n.pending=a}ks=null}return e}function ho(e,t){for(;;){var n=Ul;try{if(Ns(),ar.current=qr,or){for(var a=rr.memoizedState;null!==a;){var A=a.queue;null!==A&&(A.pending=null),a=a.next}or=!1}if(sr=0,lr=ir=rr=null,cr=!1,dr=0,Cl.current=null,null===n||null===n.return){_l=1,Il=t,Ul=null;break}e:{var r=e,i=n.return,l=n,o=t;if(t=Sl,l.flags|=32768,null!==o&&"object"===typeof o&&"function"===typeof o.then){var c=o,d=l,u=d.tag;if(0===(1&d.mode)&&(0===u||11===u||15===u)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=pi(i);if(null!==m){m.flags&=-257,gi(m,i,l,0,t),1&m.mode&&mi(r,c,t),o=c;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(o),t.updateQueue=g}else p.add(o);break e}if(0===(1&t)){mi(r,c,t),po();break e}o=Error(s(426))}else if(As&&1&l.mode){var f=pi(i);if(null!==f){0===(65536&f.flags)&&(f.flags|=256),gi(f,i,l,0,t),ms(li(o,l));break e}}r=o=li(o,l),4!==_l&&(_l=2),null===Pl?Pl=[r]:Pl.push(r),r=i;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t,Rs(r,ui(0,o,t));break e;case 1:l=o;var x=r.type,v=r.stateNode;if(0===(128&r.flags)&&("function"===typeof x.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Vl||!Vl.has(v)))){r.flags|=65536,t&=-t,r.lanes|=t,Rs(r,hi(r,l,t));break e}}r=r.return}while(null!==r)}yo(n)}catch(y){t=y,Ul===n&&null!==n&&(Ul=n=n.return);continue}break}}function mo(){var e=bl.current;return bl.current=qr,null===e?qr:e}function po(){0!==_l&&3!==_l&&2!==_l||(_l=4),null===Fl||0===(268435455&Hl)&&0===(268435455&Tl)||ro(Fl,Sl)}function go(e,t){var n=Ql;Ql|=2;var a=mo();for(Fl===e&&Sl===t||(Ml=null,uo(e,t));;)try{fo();break}catch(A){ho(e,A)}if(Ns(),Ql=n,bl.current=a,null!==Ul)throw Error(s(261));return Fl=null,Sl=0,_l}function fo(){for(;null!==Ul;)vo(Ul)}function xo(){for(;null!==Ul&&!Ye();)vo(Ul)}function vo(e){var t=Bl(e.alternate,e,kl);e.memoizedProps=e.pendingProps,null===t?yo(e):Ul=t,Cl.current=null}function yo(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wi(n,t,kl)))return void(Ul=n)}else{if(null!==(n=Ji(n,t)))return n.flags&=32767,void(Ul=n);if(null===e)return _l=6,void(Ul=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ul=t);Ul=t=e}while(null!==t);0===_l&&(_l=5)}function wo(e,t,n){var a=vt,A=Nl.transition;try{Nl.transition=null,vt=1,function(e,t,n,a){do{Bo()}while(null!==Jl);if(0!==(6&Ql))throw Error(s(327));n=e.finishedWork;var A=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var A=31-rt(n),s=1<<A;t[A]=0,a[A]=-1,e[A]=-1,n&=~s}}(e,r),e===Fl&&(Ul=Fl=null,Sl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wl||(Wl=!0,Uo(tt,function(){return Bo(),null})),r=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||r){r=Nl.transition,Nl.transition=null;var i=vt;vt=1;var l=Ql;Ql|=4,Cl.current=null,function(e,t){if(eA=Gt,ha(e=ua())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var A=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch(w){n=null;break e}var i=0,l=-1,o=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var m;u!==n||0!==A&&3!==u.nodeType||(l=i+A),u!==r||0!==a&&3!==u.nodeType||(o=i+a),3===u.nodeType&&(i+=u.nodeValue.length),null!==(m=u.firstChild);)h=u,u=m;for(;;){if(u===e)break t;if(h===n&&++c===A&&(l=i),h===r&&++d===a&&(o=i),null!==(m=u.nextSibling))break;h=(u=h).parentNode}u=m}n=-1===l||-1===o?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(tA={focusedElem:e,selectionRange:n},Gt=!1,qi=t;null!==qi;)if(e=(t=qi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,qi=e;else for(;null!==qi;){t=qi;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,f=p.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:ti(t.type,g),f);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(w){bo(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,qi=e;break}qi=t.return}p=el,el=!1}(e,n),pl(n,e),ma(tA),Gt=!!eA,tA=eA=null,e.current=n,fl(n,e,A),Xe(),Ql=l,vt=i,Nl.transition=r}else e.current=n;if(Wl&&(Wl=!1,Jl=e,zl=A),r=e.pendingLanes,0===r&&(Vl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(At,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),no(e,qe()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)A=t[n],a(A.value,{componentStack:A.stack,digest:A.digest});if(Kl)throw Kl=!1,e=Gl,Gl=null,e;0!==(1&zl)&&0!==e.tag&&Bo(),r=e.pendingLanes,0!==(1&r)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,MA()}(e,t,n,a)}finally{Nl.transition=A,vt=a}return null}function Bo(){if(null!==Jl){var e=yt(zl),t=Nl.transition,n=vt;try{if(Nl.transition=null,vt=16>e?16:e,null===Jl)var a=!1;else{if(e=Jl,Jl=null,zl=0,0!==(6&Ql))throw Error(s(331));var A=Ql;for(Ql|=4,qi=e.current;null!==qi;){var r=qi,i=r.child;if(0!==(16&qi.flags)){var l=r.deletions;if(null!==l){for(var o=0;o<l.length;o++){var c=l[o];for(qi=c;null!==qi;){var d=qi;switch(d.tag){case 0:case 11:case 15:tl(8,d,r)}var u=d.child;if(null!==u)u.return=d,qi=u;else for(;null!==qi;){var h=(d=qi).sibling,m=d.return;if(Al(d),d===c){qi=null;break}if(null!==h){h.return=m,qi=h;break}qi=m}}}var p=r.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var f=g.sibling;g.sibling=null,g=f}while(null!==g)}}qi=r}}if(0!==(2064&r.subtreeFlags)&&null!==i)i.return=r,qi=i;else e:for(;null!==qi;){if(0!==(2048&(r=qi).flags))switch(r.tag){case 0:case 11:case 15:tl(9,r,r.return)}var x=r.sibling;if(null!==x){x.return=r.return,qi=x;break e}qi=r.return}}var v=e.current;for(qi=v;null!==qi;){var y=(i=qi).child;if(0!==(2064&i.subtreeFlags)&&null!==y)y.return=i,qi=y;else e:for(i=v;null!==qi;){if(0!==(2048&(l=qi).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(B){bo(l,l.return,B)}if(l===i){qi=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,qi=w;break e}qi=l.return}}if(Ql=A,MA(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(At,e)}catch(B){}a=!0}return a}finally{vt=n,Nl.transition=t}}return!1}function jo(e,t,n){e=Ds(e,t=ui(0,t=li(n,t),1),1),t=$l(),null!==e&&(ft(e,1,t),no(e,t))}function bo(e,t,n){if(3===e.tag)jo(e,e,n);else for(;null!==t;){if(3===t.tag){jo(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Vl||!Vl.has(a))){t=Ds(t,e=hi(t,e=li(n,e),1),1),e=$l(),null!==t&&(ft(t,1,e),no(t,e));break}}t=t.return}}function Co(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=$l(),e.pingedLanes|=e.suspendedLanes&n,Fl===e&&(Sl&n)===n&&(4===_l||3===_l&&(130023424&Sl)===Sl&&500>qe()-Ol?uo(e,0):Ll|=n),no(e,t)}function No(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=$l();null!==(e=Is(e,t))&&(ft(e,t,n),no(e,n))}function Qo(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),No(e,n)}function Fo(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,A=e.memoizedState;null!==A&&(n=A.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}null!==a&&a.delete(t),No(e,n)}function Uo(e,t){return Je(e,t)}function So(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ko(e,t,n,a){return new So(e,t,n,a)}function Eo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _o(e,t){var n=e.alternate;return null===n?((n=ko(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Io(e,t,n,a,A,r){var i=2;if(a=e,"function"===typeof e)Eo(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case j:return Ho(n.children,A,r,t);case b:i=8,A|=8;break;case C:return(e=ko(12,n,t,2|A)).elementType=C,e.lanes=r,e;case U:return(e=ko(13,n,t,A)).elementType=U,e.lanes=r,e;case S:return(e=ko(19,n,t,A)).elementType=S,e.lanes=r,e;case _:return To(n,A,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:i=10;break e;case Q:i=9;break e;case F:i=11;break e;case k:i=14;break e;case E:i=16,a=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=ko(i,n,t,A)).elementType=e,t.type=a,t.lanes=r,t}function Ho(e,t,n,a){return(e=ko(7,e,a,t)).lanes=n,e}function To(e,t,n,a){return(e=ko(22,e,a,t)).elementType=_,e.lanes=n,e.stateNode={isHidden:!1},e}function Lo(e,t,n){return(e=ko(6,e,null,t)).lanes=n,e}function Po(e,t,n){return(t=ko(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Do(e,t,n,a,A){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=a,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Oo(e,t,n,a,A,s,r,i,l){return e=new Do(e,t,n,i,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=ko(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ts(s),e}function Ro(e){if(!e)return QA;e:{if(Me(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(EA(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(EA(n))return HA(e,n,t)}return t}function Mo(e,t,n,a,A,s,r,i,l){return(e=Oo(n,a,!0,e,0,s,0,i,l)).context=Ro(null),n=e.current,(s=Ps(a=$l(),A=eo(n))).callback=void 0!==t&&null!==t?t:null,Ds(n,s,A),e.current.lanes=A,ft(e,A,a),no(e,a),e}function Ko(e,t,n,a){var A=t.current,s=$l(),r=eo(A);return n=Ro(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ps(s,r)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Ds(A,t,r))&&(to(e,A,r,s),Os(e,A,r)),r}function Go(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vo(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wo(e,t){Vo(e,t),(e=e.alternate)&&Vo(e,t)}Bl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||UA.current)xi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xi=!1,function(e,t,n){switch(t.tag){case 3:Fi(t),hs();break;case 5:qs(t);break;case 1:EA(t.type)&&TA(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,A=t.memoizedProps.value;NA(Bs,a._currentValue),a._currentValue=A;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(NA($s,1&$s.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ti(e,t,n):(NA($s,1&$s.current),null!==(e=Ki(e,t,n))?e.sibling:null);NA($s,1&$s.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Ri(e,t,n);t.flags|=128}if(null!==(A=t.memoizedState)&&(A.rendering=null,A.tail=null,A.lastEffect=null),NA($s,$s.current),a)break;return null;case 22:case 23:return t.lanes=0,ji(e,t,n)}return Ki(e,t,n)}(e,t,n);xi=0!==(131072&e.flags)}else xi=!1,As&&0!==(1048576&t.flags)&&$A(t,WA,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Mi(e,t),e=t.pendingProps;var A=kA(t,FA.current);Us(t,n),A=pr(null,t,a,e,A,n);var r=gr();return t.flags|=1,"object"===typeof A&&null!==A&&"function"===typeof A.render&&void 0===A.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,EA(a)?(r=!0,TA(t)):r=!1,t.memoizedState=null!==A.state&&void 0!==A.state?A.state:null,Ts(t),A.updater=ai,t.stateNode=A,A._reactInternals=t,ii(t,a,e,n),t=Qi(null,t,a,!0,r,n)):(t.tag=0,As&&r&&es(t),vi(null,t,A,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Mi(e,t),e=t.pendingProps,a=(A=a._init)(a._payload),t.type=a,A=t.tag=function(e){if("function"===typeof e)return Eo(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===F)return 11;if(e===k)return 14}return 2}(a),e=ti(a,e),A){case 0:t=Ci(null,t,a,e,n);break e;case 1:t=Ni(null,t,a,e,n);break e;case 11:t=yi(null,t,a,e,n);break e;case 14:t=wi(null,t,a,ti(a.type,e),n);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,A=t.pendingProps,Ci(e,t,a,A=t.elementType===a?A:ti(a,A),n);case 1:return a=t.type,A=t.pendingProps,Ni(e,t,a,A=t.elementType===a?A:ti(a,A),n);case 3:e:{if(Fi(t),null===e)throw Error(s(387));a=t.pendingProps,A=(r=t.memoizedState).element,Ls(e,t),Ms(t,a,null,n);var i=t.memoizedState;if(a=i.element,r.isDehydrated){if(r={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Ui(e,t,a,n,A=li(Error(s(423)),t));break e}if(a!==A){t=Ui(e,t,a,n,A=li(Error(s(424)),t));break e}for(as=oA(t.stateNode.containerInfo.firstChild),ns=t,As=!0,ss=null,n=ws(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hs(),a===A){t=Ki(e,t,n);break e}vi(e,t,a,n)}t=t.child}return t;case 5:return qs(t),null===e&&os(t),a=t.type,A=t.pendingProps,r=null!==e?e.memoizedProps:null,i=A.children,nA(a,A)?i=null:null!==r&&nA(a,r)&&(t.flags|=32),bi(e,t),vi(e,t,i,n),t.child;case 6:return null===e&&os(t),null;case 13:return Ti(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ys(t,null,a,n):vi(e,t,a,n),t.child;case 11:return a=t.type,A=t.pendingProps,yi(e,t,a,A=t.elementType===a?A:ti(a,A),n);case 7:return vi(e,t,t.pendingProps,n),t.child;case 8:case 12:return vi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,A=t.pendingProps,r=t.memoizedProps,i=A.value,NA(Bs,a._currentValue),a._currentValue=i,null!==r)if(ia(r.value,i)){if(r.children===A.children&&!UA.current){t=Ki(e,t,n);break e}}else for(null!==(r=t.child)&&(r.return=t);null!==r;){var l=r.dependencies;if(null!==l){i=r.child;for(var o=l.firstContext;null!==o;){if(o.context===a){if(1===r.tag){(o=Ps(-1,n&-n)).tag=2;var c=r.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?o.next=o:(o.next=d.next,d.next=o),c.pending=o}}r.lanes|=n,null!==(o=r.alternate)&&(o.lanes|=n),Fs(r.return,n,t),l.lanes|=n;break}o=o.next}}else if(10===r.tag)i=r.type===t.type?null:r.child;else if(18===r.tag){if(null===(i=r.return))throw Error(s(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Fs(i,n,t),i=r.sibling}else i=r.child;if(null!==i)i.return=r;else for(i=r;null!==i;){if(i===t){i=null;break}if(null!==(r=i.sibling)){r.return=i.return,i=r;break}i=i.return}r=i}vi(e,t,A.children,n),t=t.child}return t;case 9:return A=t.type,a=t.pendingProps.children,Us(t,n),a=a(A=Ss(A)),t.flags|=1,vi(e,t,a,n),t.child;case 14:return A=ti(a=t.type,t.pendingProps),wi(e,t,a,A=ti(a.type,A),n);case 15:return Bi(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,A=t.pendingProps,A=t.elementType===a?A:ti(a,A),Mi(e,t),t.tag=1,EA(a)?(e=!0,TA(t)):e=!1,Us(t,n),si(t,a,A),ii(t,a,A,n),Qi(null,t,a,!0,e,n);case 19:return Ri(e,t,n);case 22:return ji(e,t,n)}throw Error(s(156,t.tag))};var Jo="function"===typeof reportError?reportError:function(e){console.error(e)};function zo(e){this._internalRoot=e}function Yo(e){this._internalRoot=e}function Xo(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function qo(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zo(){}function $o(e,t,n,a,A){var s=n._reactRootContainer;if(s){var r=s;if("function"===typeof A){var i=A;A=function(){var e=Go(r);i.call(e)}}Ko(t,r,e,A)}else r=function(e,t,n,a,A){if(A){if("function"===typeof a){var s=a;a=function(){var e=Go(r);s.call(e)}}var r=Mo(t,a,e,0,null,!1,0,"",Zo);return e._reactRootContainer=r,e[mA]=r.current,Ma(8===e.nodeType?e.parentNode:e),oo(),r}for(;A=e.lastChild;)e.removeChild(A);if("function"===typeof a){var i=a;a=function(){var e=Go(l);i.call(e)}}var l=Oo(e,0,!1,null,0,!1,0,"",Zo);return e._reactRootContainer=l,e[mA]=l.current,Ma(8===e.nodeType?e.parentNode:e),oo(function(){Ko(t,l,n,a)}),l}(n,t,e,A,a);return Go(r)}Yo.prototype.render=zo.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Ko(e,t,null,null)},Yo.prototype.unmount=zo.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;oo(function(){Ko(null,e,null,null)}),t[mA]=null}},Yo.prototype.unstable_scheduleHydration=function(e){if(e){var t=bt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_t.length&&0!==t&&t<_t[n].priority;n++);_t.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(xt(t,1|n),no(t,qe()),0===(6&Ql)&&(Rl=qe()+500,MA()))}break;case 13:oo(function(){var t=Is(e,1);if(null!==t){var n=$l();to(t,e,1,n)}}),Wo(e,1)}},Bt=function(e){if(13===e.tag){var t=Is(e,134217728);if(null!==t)to(t,e,134217728,$l());Wo(e,134217728)}},jt=function(e){if(13===e.tag){var t=eo(e),n=Is(e,t);if(null!==n)to(n,e,t,$l());Wo(e,t)}},bt=function(){return vt},Ct=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Be=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var A=wA(a);if(!A)throw Error(s(90));J(a),Z(a,A)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Fe=lo,Ue=oo;var ec={usingClientEntryPoint:!1,Events:[vA,yA,wA,Ne,Qe,lo]},tc={findFiberByHostInstance:xA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{At=ac.inject(nc),st=ac}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xo(t))throw Error(s(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:B,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xo(e))throw Error(s(299));var n=!1,a="",A=Jo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(A=t.onRecoverableError)),t=Oo(e,1,!1,null,0,n,0,a,A),e[mA]=t.current,Ma(8===e.nodeType?e.parentNode:e),new zo(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return oo(e)},t.hydrate=function(e,t,n){if(!qo(t))throw Error(s(200));return $o(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xo(e))throw Error(s(405));var a=null!=n&&n.hydratedSources||null,A=!1,r="",i=Jo;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(A=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Mo(t,null,e,1,null!=n?n:null,A,0,r,i),e[mA]=t.current,Ma(e),a)for(e=0;e<a.length;e++)A=(A=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,A]:t.mutableSourceEagerHydrationData.push(n,A);return new Yo(t)},t.render=function(e,t,n){if(!qo(t))throw Error(s(200));return $o(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!qo(e))throw Error(s(40));return!!e._reactRootContainer&&(oo(function(){$o(null,null,e,!1,function(){e._reactRootContainer=null,e[mA]=null})}),!0)},t.unstable_batchedUpdates=lo,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!qo(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return $o(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},740:e=>{"use strict";e.exports=function(e,t,n,a,A,s,r,i){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=[n,a,A,s,r,i],c=0;(l=new Error(t.replace(/%s/g,function(){return o[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(a){var A=t[a];if(void 0!==A)return A.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,A){if(1&A&&(a=this(a)),8&A)return a;if("object"===typeof a&&a){if(4&A&&a.__esModule)return a;if(16&A&&"function"===typeof a.then)return a}var s=Object.create(null);n.r(s);var r={};e=e||[null,t({}),t([]),t(t)];for(var i=2&A&&a;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>r[e]=()=>a[e]);return r.default=()=>a,n.d(s,r),s}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>zt,hasStandardBrowserEnv:()=>Xt,hasStandardBrowserWebWorkerEnv:()=>qt,navigator:()=>Yt,origin:()=>Zt});var t,a=n(43),A=n.t(a,2),s=n(391);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const i="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function o(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,a){return void 0===n&&(n=null),r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function u(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function m(e,n,a,A){void 0===A&&(A={});let{window:s=document.defaultView,v5Compat:o=!1}=A,h=s.history,m=t.Pop,p=null,g=f();function f(){return(h.state||{idx:null}).idx}function x(){m=t.Pop;let e=f(),n=null==e?null:e-g;g=e,p&&p({action:m,location:y.location,delta:n})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:u(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,h.replaceState(r({},h.state,{idx:g}),""));let y={get action(){return m},get location(){return e(s,h)},listen(e){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(i,x),p=e,()=>{s.removeEventListener(i,x),p=null}},createHref:e=>n(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){m=t.Push;let A=d(y.location,e,n);a&&a(A,e),g=f()+1;let r=c(A,g),i=y.createHref(A);try{h.pushState(r,"",i)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;s.location.assign(i)}o&&p&&p({action:m,location:y.location,delta:1})},replace:function(e,n){m=t.Replace;let A=d(y.location,e,n);a&&a(A,e),g=f();let s=c(A,g),r=y.createHref(A);h.replaceState(s,"",r),o&&p&&p({action:m,location:y.location,delta:0})},go:e=>h.go(e)};return y}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),f(e,t,n,!1)}function f(e,t,n,a){let A=k(("string"===typeof t?h(t):t).pathname||"/",n);if(null==A)return null;let s=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let r=null;for(let i=0;null==r&&i<s.length;++i){let e=S(A);r=F(s[i],e,a)}return r}function x(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let A=(e,A,s)=>{let r={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:A,route:e};r.relativePath.startsWith("/")&&(l(r.relativePath.startsWith(a),'Absolute route path "'+r.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),r.relativePath=r.relativePath.slice(a.length));let i=T([a,r.relativePath]),o=n.concat(r);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),x(e.children,t,o,i)),(null!=e.path||e.index)&&t.push({path:i,score:Q(i,e.index),routesMeta:o})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of v(e.path))A(e,t,a);else A(e,t)}),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,A=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===a.length)return A?[s,""]:[s];let r=v(a.join("/")),i=[];return i.push(...r.map(e=>""===e?s:[s,e].join("/"))),A&&i.push(...r),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const y=/^:[\w-]+$/,w=3,B=2,j=1,b=10,C=-2,N=e=>"*"===e;function Q(e,t){let n=e.split("/"),a=n.length;return n.some(N)&&(a+=C),t&&(a+=B),n.filter(e=>!N(e)).reduce((e,t)=>e+(y.test(t)?w:""===t?j:b),a)}function F(e,t,n){void 0===n&&(n=!1);let{routesMeta:a}=e,A={},s="/",r=[];for(let i=0;i<a.length;++i){let e=a[i],l=i===a.length-1,o="/"===s?t:t.slice(s.length)||"/",c=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},o),d=e.route;if(!c&&l&&n&&!a[a.length-1].route.index&&(c=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},o)),!c)return null;Object.assign(A,c.params),r.push({params:A,pathname:T([s,c.pathname]),pathnameBase:L(T([s,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(s=T([s,c.pathnameBase]))}return r}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);o("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],A="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),A+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?A+="\\/*$":""!==e&&"/"!==e&&(A+="(?:(?=\\/|$))");let s=new RegExp(A,t?void 0:"i");return[s,a]}(e.path,e.caseSensitive,e.end),A=t.match(n);if(!A)return null;let s=A[0],r=s.replace(/(.)\/+$/,"$1"),i=A.slice(1);return{params:a.reduce((e,t,n)=>{let{paramName:a,isOptional:A}=t;if("*"===a){let e=i[n]||"";r=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[n];return e[a]=A&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:r,pattern:e}}function S(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return o(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function k(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function E(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function _(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function I(e,t){let n=_(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function H(e,t,n,a){let A;void 0===a&&(a=!1),"string"===typeof e?A=h(e):(A=r({},e),l(!A.pathname||!A.pathname.includes("?"),E("?","pathname","search",A)),l(!A.pathname||!A.pathname.includes("#"),E("#","pathname","hash",A)),l(!A.search||!A.search.includes("#"),E("#","search","hash",A)));let s,i=""===e||""===A.pathname,o=i?"/":A.pathname;if(null==o)s=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;A.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:A=""}="string"===typeof e?h(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:P(a),hash:D(A)}}(A,s),d=o&&"/"!==o&&o.endsWith("/"),u=(i||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!u||(c.pathname+="/"),c}const T=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",D=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function O(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const R=["post","put","patch","delete"],M=(new Set(R),["get",...R]);new Set(M),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},K.apply(this,arguments)}const G=a.createContext(null);const V=a.createContext(null);const W=a.createContext(null);const J=a.createContext(null);const z=a.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=a.createContext(null);function X(){return null!=a.useContext(J)}function q(){return X()||l(!1),a.useContext(J).location}function Z(e){a.useContext(W).static||a.useLayoutEffect(e)}function $(){let{isDataRoute:e}=a.useContext(z);return e?function(){let{router:e}=ce(le.UseNavigateStable),t=ue(oe.UseNavigateStable),n=a.useRef(!1);Z(()=>{n.current=!0});let A=a.useCallback(function(a,A){void 0===A&&(A={}),n.current&&("number"===typeof a?e.navigate(a):e.navigate(a,K({fromRouteId:t},A)))},[e,t]);return A}():function(){X()||l(!1);let e=a.useContext(G),{basename:t,future:n,navigator:A}=a.useContext(W),{matches:s}=a.useContext(z),{pathname:r}=q(),i=JSON.stringify(I(s,n.v7_relativeSplatPath)),o=a.useRef(!1);Z(()=>{o.current=!0});let c=a.useCallback(function(n,a){if(void 0===a&&(a={}),!o.current)return;if("number"===typeof n)return void A.go(n);let s=H(n,JSON.parse(i),r,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:T([t,s.pathname])),(a.replace?A.replace:A.push)(s,a.state,a)},[t,A,i,r,e]);return c}()}function ee(){let{matches:e}=a.useContext(z),t=e[e.length-1];return t?t.params:{}}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:A}=a.useContext(W),{matches:s}=a.useContext(z),{pathname:r}=q(),i=JSON.stringify(I(s,A.v7_relativeSplatPath));return a.useMemo(()=>H(e,JSON.parse(i),r,"path"===n),[e,i,r,n])}function ne(e,n,A,s){X()||l(!1);let{navigator:r}=a.useContext(W),{matches:i}=a.useContext(z),o=i[i.length-1],c=o?o.params:{},d=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,m=q();if(n){var p;let e="string"===typeof n?h(n):n;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||l(!1),u=e}else u=m;let f=u.pathname||"/",x=f;if("/"!==d){let e=d.replace(/^\//,"").split("/");x="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=g(e,{pathname:x});let y=ie(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:T([d,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:T([d,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,A,s);return n&&y?a.createElement(J.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:t.Pop}},y):y}function ae(){let e=function(){var e;let t=a.useContext(Y),n=de(oe.UseRouteError),A=ue(oe.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[A]}(),t=O(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,A="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:A};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:s},n):null,null)}const Ae=a.createElement(ae,null);class se extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(z.Provider,{value:this.props.routeContext},a.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function re(e){let{routeContext:t,match:n,children:A}=e,s=a.useContext(G);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(z.Provider,{value:t},A)}function ie(e,t,n,A){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===A&&(A=null),null==e){var r;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(r=A)&&r.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,o=null==(s=n)?void 0:s.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||l(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,d=-1;if(n&&A&&A.v7_partialHydration)for(let a=0;a<i.length;a++){let e=i[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=a),e.route.id){let{loaderData:t,errors:a}=n,A=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||A){c=!0,i=d>=0?i.slice(0,d+1):[i[0]];break}}}return i.reduceRight((e,A,s)=>{let r,l=!1,u=null,h=null;var m;n&&(r=o&&A.route.id?o[A.route.id]:void 0,u=A.route.errorElement||Ae,c&&(d<0&&0===s?(m="route-fallback",!1||he[m]||(he[m]=!0),l=!0,h=null):d===s&&(l=!0,h=A.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,s+1)),g=()=>{let t;return t=r?u:l?h:A.route.Component?a.createElement(A.route.Component,null):A.route.element?A.route.element:e,a.createElement(re,{match:A,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(A.route.ErrorBoundary||A.route.errorElement||0===s)?a.createElement(se,{location:n.location,revalidation:n.revalidation,component:u,error:r,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),oe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oe||{});function ce(e){let t=a.useContext(G);return t||l(!1),t}function de(e){let t=a.useContext(V);return t||l(!1),t}function ue(e){let t=function(){let e=a.useContext(z);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const he={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}A.startTransition;function pe(e){let{to:t,replace:n,state:A,relative:s}=e;X()||l(!1);let{future:r,static:i}=a.useContext(W),{matches:o}=a.useContext(z),{pathname:c}=q(),d=$(),u=H(t,I(o,r.v7_relativeSplatPath),c,"path"===s),h=JSON.stringify(u);return a.useEffect(()=>d(JSON.parse(h),{replace:n,state:A,relative:s}),[d,h,s,n,A]),null}function ge(e){l(!1)}function fe(e){let{basename:n="/",children:A=null,location:s,navigationType:r=t.Pop,navigator:i,static:o=!1,future:c}=e;X()&&l(!1);let d=n.replace(/^\/*/,"/"),u=a.useMemo(()=>({basename:d,navigator:i,static:o,future:K({v7_relativeSplatPath:!1},c)}),[d,c,i,o]);"string"===typeof s&&(s=h(s));let{pathname:m="/",search:p="",hash:g="",state:f=null,key:x="default"}=s,v=a.useMemo(()=>{let e=k(m,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:f,key:x},navigationType:r}},[d,m,p,g,f,x,r]);return null==v?null:a.createElement(W.Provider,{value:u},a.createElement(J.Provider,{children:A,value:v}))}function xe(e){let{children:t,location:n}=e;return ne(ve(t),n)}new Promise(()=>{});a.Component;function ve(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,(e,A)=>{if(!a.isValidElement(e))return;let s=[...t,A];if(e.type===a.Fragment)return void n.push.apply(n,ve(e.props.children,s));e.type!==ge&&l(!1),e.props.index&&e.props.children&&l(!1);let r={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(r.children=ve(e.props.children,s)),n.push(r)}),n}var ye=n(950),we=n.t(ye,2);function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Be.apply(this,arguments)}function je(e,t){if(null==e)return{};var n,a,A={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(A[n]=e[n]);return A}function be(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(e=>[n,e]):[[n,a]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(_c){}new Map;const Ne=A.startTransition;we.flushSync,A.useId;function Qe(e){let{basename:t,children:n,future:A,window:s}=e,r=a.useRef();null==r.current&&(r.current=function(e){return void 0===e&&(e={}),m(function(e,t){let{pathname:n,search:a,hash:A}=e.location;return d("",{pathname:n,search:a,hash:A},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:u(t)},null,e)}({window:s,v5Compat:!0}));let i=r.current,[l,o]=a.useState({action:i.action,location:i.location}),{v7_startTransition:c}=A||{},h=a.useCallback(e=>{c&&Ne?Ne(()=>o(e)):o(e)},[o,c]);return a.useLayoutEffect(()=>i.listen(h),[i,h]),a.useEffect(()=>me(A),[A]),a.createElement(fe,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:A})}const Fe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ue=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Se=a.forwardRef(function(e,t){let n,{onClick:A,relative:s,reloadDocument:r,replace:i,state:o,target:c,to:d,preventScrollReset:h,viewTransition:m}=e,p=je(e,Ce),{basename:g}=a.useContext(W),f=!1;if("string"===typeof d&&Ue.test(d)&&(n=d,Fe))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=k(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:f=!0}catch(_c){}let x=function(e,t){let{relative:n}=void 0===t?{}:t;X()||l(!1);let{basename:A,navigator:s}=a.useContext(W),{hash:r,pathname:i,search:o}=te(e,{relative:n}),c=i;return"/"!==A&&(c="/"===i?A:T([A,i])),s.createHref({pathname:c,search:o,hash:r})}(d,{relative:s}),v=function(e,t){let{target:n,replace:A,state:s,preventScrollReset:r,relative:i,viewTransition:l}=void 0===t?{}:t,o=$(),c=q(),d=te(e,{relative:i});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==A?A:u(c)===u(d);o(e,{replace:n,state:s,preventScrollReset:r,relative:i,viewTransition:l})}},[c,o,d,A,s,n,e,r,i,l])}(d,{replace:i,state:o,target:c,preventScrollReset:h,relative:s,viewTransition:m});return a.createElement("a",Be({},p,{href:n||x,onClick:f||r?A:function(e){A&&A(e),e.defaultPrevented||v(e)},ref:t,target:c}))});var ke,Ee;function _e(e){let t=a.useRef(be(e)),n=a.useRef(!1),A=q(),s=a.useMemo(()=>function(e,t){let n=be(e);return t&&t.forEach((e,a)=>{n.has(a)||t.getAll(a).forEach(e=>{n.append(a,e)})}),n}(A.search,n.current?null:t.current),[A.search]),r=$(),i=a.useCallback((e,t)=>{const a=be("function"===typeof e?e(s):e);n.current=!0,r("?"+a,t)},[r,s]);return[s,i]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ke||(ke={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ee||(Ee={}));const Ie=(e,t)=>{localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t))},He=()=>!!localStorage.getItem("token");var Te=n(579);const Le=function(e){let{onToggleAssistant:t,onToggleCoach:n,assistantOpen:a,coachOpen:A,taskCounts:s={}}=e;const r=q(),i=$(),l=e=>r.pathname===e,o=e=>e&&0!==e?(0,Te.jsxs)("span",{className:"nav-badge",children:["(",e,")"]}):null;return(0,Te.jsx)("nav",{className:"navigation",children:(0,Te.jsxs)("div",{className:"nav-container",children:[(0,Te.jsxs)("div",{className:"nav-links",children:[(0,Te.jsx)(Se,{to:"/dashboard",className:"nav-link ".concat(l("/dashboard")?"active":""),children:"Dashboard"}),(0,Te.jsxs)(Se,{to:"/leads",className:"nav-link ".concat(l("/leads")?"active":""),children:["Leads ",o(s.leads)]}),(0,Te.jsxs)(Se,{to:"/loans",className:"nav-link ".concat(l("/loans")?"active":""),children:["Active Loans ",o(s.loans)]}),(0,Te.jsxs)(Se,{to:"/portfolio",className:"nav-link ".concat(l("/portfolio")?"active":""),children:["Portfolio ",o(s.portfolio)]}),(0,Te.jsxs)(Se,{to:"/tasks",className:"nav-link ".concat(l("/tasks")?"active":""),children:["Tasks ",o(s.tasks)]}),(0,Te.jsx)(Se,{to:"/calendar",className:"nav-link ".concat(l("/calendar")?"active":""),children:"Calendar"}),(0,Te.jsx)(Se,{to:"/scorecard",className:"nav-link ".concat(l("/scorecard")?"active":""),children:"Scorecard"}),(0,Te.jsxs)(Se,{to:"/referral-partners",className:"nav-link ".concat(l("/referral-partners")?"active":""),children:["Partners ",o(s.partners)]}),(0,Te.jsx)(Se,{to:"/ai-underwriter",className:"nav-link ".concat(l("/ai-underwriter")?"active":""),children:"AI Underwriter"})]}),(0,Te.jsxs)("div",{className:"nav-actions",children:[(0,Te.jsx)(Se,{to:"/apply",className:"nav-link application-link ".concat(l("/apply")?"active":""),title:"Buyer Application",children:"\ud83d\udcdd Application"}),(0,Te.jsx)("button",{className:"nav-link coach-link ".concat(A?"active":""),onClick:n,children:"\ud83c\udfc6 Coach"}),(0,Te.jsx)(Se,{to:"/settings",className:"settings-link ".concat(l("/settings")?"active":""),title:"Settings",children:"\u2699\ufe0f"}),(0,Te.jsx)("button",{className:"logout-btn",onClick:()=>{window.confirm("Are you sure you want to log out?")&&(localStorage.removeItem("token"),localStorage.removeItem("user"),i("/login"))},title:"Logout",children:"\ud83d\udeaa Logout"})]})]})})};function Pe(e,t){return function(){return e.apply(t,arguments)}}const{toString:De}=Object.prototype,{getPrototypeOf:Oe}=Object,{iterator:Re,toStringTag:Me}=Symbol,Ke=(Ge=Object.create(null),e=>{const t=De.call(e);return Ge[t]||(Ge[t]=t.slice(8,-1).toLowerCase())});var Ge;const Ve=e=>(e=e.toLowerCase(),t=>Ke(t)===e),We=e=>t=>typeof t===e,{isArray:Je}=Array,ze=We("undefined");function Ye(e){return null!==e&&!ze(e)&&null!==e.constructor&&!ze(e.constructor)&&Ze(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Xe=Ve("ArrayBuffer");const qe=We("string"),Ze=We("function"),$e=We("number"),et=e=>null!==e&&"object"===typeof e,tt=e=>{if("object"!==Ke(e))return!1;const t=Oe(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Me in e)&&!(Re in e)},nt=Ve("Date"),at=Ve("File"),At=Ve("Blob"),st=Ve("FileList"),rt=Ve("URLSearchParams"),[it,lt,ot,ct]=["ReadableStream","Request","Response","Headers"].map(Ve);function dt(e,t){let n,a,{allOwnKeys:A=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Je(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Ye(e))return;const a=A?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let r;for(n=0;n<s;n++)r=a[n],t.call(null,e[r],r,e)}}function ut(e,t){if(Ye(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a,A=n.length;for(;A-- >0;)if(a=n[A],t===a.toLowerCase())return a;return null}const ht="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,mt=e=>!ze(e)&&e!==ht;const pt=(gt="undefined"!==typeof Uint8Array&&Oe(Uint8Array),e=>gt&&e instanceof gt);var gt;const ft=Ve("HTMLFormElement"),xt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),vt=Ve("RegExp"),yt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};dt(n,(n,A)=>{let s;!1!==(s=t(n,A,e))&&(a[A]=s||n)}),Object.defineProperties(e,a)};const wt=Ve("AsyncFunction"),Bt=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),a=[],ht.addEventListener("message",e=>{let{source:t,data:A}=e;t===ht&&A===n&&a.length&&a.shift()()},!1),e=>{a.push(e),ht.postMessage(n,"*")}):e=>setTimeout(e);var n,a})("function"===typeof setImmediate,Ze(ht.postMessage)),jt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ht):"undefined"!==typeof process&&process.nextTick||Bt,bt={isArray:Je,isArrayBuffer:Xe,isBuffer:Ye,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ze(e.append)&&("formdata"===(t=Ke(e))||"object"===t&&Ze(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Xe(e.buffer),t},isString:qe,isNumber:$e,isBoolean:e=>!0===e||!1===e,isObject:et,isPlainObject:tt,isEmptyObject:e=>{if(!et(e)||Ye(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(_c){return!1}},isReadableStream:it,isRequest:lt,isResponse:ot,isHeaders:ct,isUndefined:ze,isDate:nt,isFile:at,isBlob:At,isRegExp:vt,isFunction:Ze,isStream:e=>et(e)&&Ze(e.pipe),isURLSearchParams:rt,isTypedArray:pt,isFileList:st,forEach:dt,merge:function e(){const{caseless:t,skipUndefined:n}=mt(this)&&this||{},a={},A=(A,s)=>{const r=t&&ut(a,s)||s;tt(a[r])&&tt(A)?a[r]=e(a[r],A):tt(A)?a[r]=e({},A):Je(A)?a[r]=A.slice():n&&ze(A)||(a[r]=A)};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&dt(arguments[s],A);return a},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return dt(t,(t,a)=>{n&&Ze(t)?e[a]=Pe(t,n):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let A,s,r;const i={};if(t=t||{},null==e)return t;do{for(A=Object.getOwnPropertyNames(e),s=A.length;s-- >0;)r=A[s],a&&!a(r,e,t)||i[r]||(t[r]=e[r],i[r]=!0);e=!1!==n&&Oe(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Ke,kindOfTest:Ve,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(Je(e))return e;let t=e.length;if(!$e(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Re]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:ft,hasOwnProperty:xt,hasOwnProp:xt,reduceDescriptors:yt,freezeMethods:e=>{yt(e,(t,n)=>{if(Ze(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];Ze(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach(e=>{n[e]=!0})};return Je(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ut,global:ht,isContextDefined:mt,isSpecCompliantForm:function(e){return!!(e&&Ze(e.append)&&"FormData"===e[Me]&&e[Re])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(et(e)){if(t.indexOf(e)>=0)return;if(Ye(e))return e;if(!("toJSON"in e)){t[a]=e;const A=Je(e)?[]:{};return dt(e,(e,t)=>{const s=n(e,a+1);!ze(s)&&(A[t]=s)}),t[a]=void 0,A}}return e};return n(e,0)},isAsyncFn:wt,isThenable:e=>e&&(et(e)||Ze(e))&&Ze(e.then)&&Ze(e.catch),setImmediate:Bt,asap:jt,isIterable:e=>null!=e&&Ze(e[Re])};function Ct(e,t,n,a,A){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),A&&(this.response=A,this.status=A.status?A.status:null)}bt.inherits(Ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:bt.toJSONObject(this.config),code:this.code,status:this.status}}});const Nt=Ct.prototype,Qt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Qt[e]={value:e}}),Object.defineProperties(Ct,Qt),Object.defineProperty(Nt,"isAxiosError",{value:!0}),Ct.from=(e,t,n,a,A,s)=>{const r=Object.create(Nt);bt.toFlatObject(e,r,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const i=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Ct.call(r,i,l,n,a,A),e&&null==r.cause&&Object.defineProperty(r,"cause",{value:e,configurable:!0}),r.name=e&&e.name||"Error",s&&Object.assign(r,s),r};const Ft=Ct;function Ut(e){return bt.isPlainObject(e)||bt.isArray(e)}function St(e){return bt.endsWith(e,"[]")?e.slice(0,-2):e}function kt(e,t,n){return e?e.concat(t).map(function(e,t){return e=St(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Et=bt.toFlatObject(bt,{},null,function(e){return/^is[A-Z]/.test(e)});const _t=function(e,t,n){if(!bt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=bt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!bt.isUndefined(t[e])})).metaTokens,A=n.visitor||o,s=n.dots,r=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&bt.isSpecCompliantForm(t);if(!bt.isFunction(A))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(bt.isDate(e))return e.toISOString();if(bt.isBoolean(e))return e.toString();if(!i&&bt.isBlob(e))throw new Ft("Blob is not supported. Use a Buffer instead.");return bt.isArrayBuffer(e)||bt.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function o(e,n,A){let i=e;if(e&&!A&&"object"===typeof e)if(bt.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(bt.isArray(e)&&function(e){return bt.isArray(e)&&!e.some(Ut)}(e)||(bt.isFileList(e)||bt.endsWith(n,"[]"))&&(i=bt.toArray(e)))return n=St(n),i.forEach(function(e,a){!bt.isUndefined(e)&&null!==e&&t.append(!0===r?kt([n],a,s):null===r?n:n+"[]",l(e))}),!1;return!!Ut(e)||(t.append(kt(A,n,s),l(e)),!1)}const c=[],d=Object.assign(Et,{defaultVisitor:o,convertValue:l,isVisitable:Ut});if(!bt.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!bt.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+a.join("."));c.push(n),bt.forEach(n,function(n,s){!0===(!(bt.isUndefined(n)||null===n)&&A.call(t,n,bt.isString(s)?s.trim():s,a,d))&&e(n,a?a.concat(s):[s])}),c.pop()}}(e),t};function It(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Ht(e,t){this._pairs=[],e&&_t(e,this,t)}const Tt=Ht.prototype;Tt.append=function(e,t){this._pairs.push([e,t])},Tt.toString=function(e){const t=e?function(t){return e.call(this,t,It)}:It;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Lt=Ht;function Pt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Dt(e,t,n){if(!t)return e;const a=n&&n.encode||Pt;bt.isFunction(n)&&(n={serialize:n});const A=n&&n.serialize;let s;if(s=A?A(t,n):bt.isURLSearchParams(t)?t.toString():new Lt(t,n).toString(a),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Ot=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){bt.forEach(this.handlers,function(t){null!==t&&e(t)})}},Rt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}function Kt(e){var t=function(e,t){if("object"!=Mt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Mt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mt(t)?t:t+""}function Gt(e,t,n){return(t=Kt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach(function(t){Gt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Jt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Lt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},zt="undefined"!==typeof window&&"undefined"!==typeof document,Yt="object"===typeof navigator&&navigator||void 0,Xt=zt&&(!Yt||["ReactNative","NativeScript","NS"].indexOf(Yt.product)<0),qt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Zt=zt&&window.location.href||"http://localhost",$t=Wt(Wt({},e),Jt);const en=function(e){function t(e,n,a,A){let s=e[A++];if("__proto__"===s)return!0;const r=Number.isFinite(+s),i=A>=e.length;if(s=!s&&bt.isArray(a)?a.length:s,i)return bt.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!r;a[s]&&bt.isObject(a[s])||(a[s]=[]);return t(e,n,a[s],A)&&bt.isArray(a[s])&&(a[s]=function(e){const t={},n=Object.keys(e);let a;const A=n.length;let s;for(a=0;a<A;a++)s=n[a],t[s]=e[s];return t}(a[s])),!r}if(bt.isFormData(e)&&bt.isFunction(e.entries)){const n={};return bt.forEachEntry(e,(e,a)=>{t(function(e){return bt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,n,0)}),n}return null};const tn={transitional:Rt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,A=bt.isObject(e);A&&bt.isHTMLForm(e)&&(e=new FormData(e));if(bt.isFormData(e))return a?JSON.stringify(en(e)):e;if(bt.isArrayBuffer(e)||bt.isBuffer(e)||bt.isStream(e)||bt.isFile(e)||bt.isBlob(e)||bt.isReadableStream(e))return e;if(bt.isArrayBufferView(e))return e.buffer;if(bt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(A){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return _t(e,new $t.classes.URLSearchParams,Wt({visitor:function(e,t,n,a){return $t.isNode&&bt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=bt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return _t(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return A||a?(t.setContentType("application/json",!1),function(e,t,n){if(bt.isString(e))try{return(t||JSON.parse)(e),bt.trim(e)}catch(_c){if("SyntaxError"!==_c.name)throw _c}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||tn.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(bt.isResponse(e)||bt.isReadableStream(e))return e;if(e&&bt.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(_c){if(n){if("SyntaxError"===_c.name)throw Ft.from(_c,Ft.ERR_BAD_RESPONSE,this,null,this.response);throw _c}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$t.classes.FormData,Blob:$t.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};bt.forEach(["delete","get","head","post","put","patch"],e=>{tn.headers[e]={}});const nn=tn,an=bt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),An=Symbol("internals");function sn(e){return e&&String(e).trim().toLowerCase()}function rn(e){return!1===e||null==e?e:bt.isArray(e)?e.map(rn):String(e)}function ln(e,t,n,a,A){return bt.isFunction(a)?a.call(this,t,n):(A&&(t=n),bt.isString(t)?bt.isString(a)?-1!==t.indexOf(a):bt.isRegExp(a)?a.test(t):void 0:void 0)}class on{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function A(e,t,n){const A=sn(t);if(!A)throw new Error("header name must be a non-empty string");const s=bt.findKey(a,A);(!s||void 0===a[s]||!0===n||void 0===n&&!1!==a[s])&&(a[s||t]=rn(e))}const s=(e,t)=>bt.forEach(e,(e,n)=>A(e,n,t));if(bt.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(bt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,a,A;return e&&e.split("\n").forEach(function(e){A=e.indexOf(":"),n=e.substring(0,A).trim().toLowerCase(),a=e.substring(A+1).trim(),!n||t[n]&&an[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t})(e),t);else if(bt.isObject(e)&&bt.isIterable(e)){let n,a,A={};for(const t of e){if(!bt.isArray(t))throw TypeError("Object iterator must return a key-value pair");A[a=t[0]]=(n=A[a])?bt.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(A,t)}else null!=e&&A(t,e,n);return this}get(e,t){if(e=sn(e)){const n=bt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(bt.isFunction(t))return t.call(this,e,n);if(bt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=sn(e)){const n=bt.findKey(this,e);return!(!n||void 0===this[n]||t&&!ln(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function A(e){if(e=sn(e)){const A=bt.findKey(n,e);!A||t&&!ln(0,n[A],A,t)||(delete n[A],a=!0)}}return bt.isArray(e)?e.forEach(A):A(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const A=t[n];e&&!ln(0,this[A],A,e,!0)||(delete this[A],a=!0)}return a}normalize(e){const t=this,n={};return bt.forEach(this,(a,A)=>{const s=bt.findKey(n,A);if(s)return t[s]=rn(a),void delete t[A];const r=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(A):String(A).trim();r!==A&&delete t[A],t[r]=rn(a),n[r]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return bt.forEach(this,(n,a)=>{null!=n&&!1!==n&&(t[a]=e&&bt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),A=1;A<n;A++)a[A-1]=arguments[A];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[An]=this[An]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=sn(e);t[a]||(!function(e,t){const n=bt.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(e,n,A){return this[a].call(this,t,e,n,A)},configurable:!0})})}(n,e),t[a]=!0)}return bt.isArray(e)?e.forEach(a):a(e),this}}on.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),bt.reduceDescriptors(on.prototype,(e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}}),bt.freezeMethods(on);const cn=on;function dn(e,t){const n=this||nn,a=t||n,A=cn.from(a.headers);let s=a.data;return bt.forEach(e,function(e){s=e.call(n,s,A.normalize(),t?t.status:void 0)}),A.normalize(),s}function un(e){return!(!e||!e.__CANCEL__)}function hn(e,t,n){Ft.call(this,null==e?"canceled":e,Ft.ERR_CANCELED,t,n),this.name="CanceledError"}bt.inherits(hn,Ft,{__CANCEL__:!0});const mn=hn;function pn(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new Ft("Request failed with status code "+n.status,[Ft.ERR_BAD_REQUEST,Ft.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const gn=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let A,s=0,r=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),o=a[r];A||(A=l),n[s]=i,a[s]=l;let c=r,d=0;for(;c!==s;)d+=n[c++],c%=e;if(s=(s+1)%e,s===r&&(r=(r+1)%e),l-A<t)return;const u=o&&l-o;return u?Math.round(1e3*d/u):void 0}};const fn=function(e,t){let n,a,A=0,s=1e3/t;const r=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();A=s,n=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-A;for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];t>=s?r(l,e):(n=l,a||(a=setTimeout(()=>{a=null,r(n)},s-t)))},()=>n&&r(n)]},xn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const A=gn(50,250);return fn(n=>{const s=n.loaded,r=n.lengthComputable?n.total:void 0,i=s-a,l=A(i);a=s;e({loaded:s,total:r,progress:r?s/r:void 0,bytes:i,rate:l||void 0,estimated:l&&r&&s<=r?(r-s)/l:void 0,event:n,lengthComputable:null!=r,[t?"download":"upload"]:!0})},n)},vn=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},yn=e=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return bt.asap(()=>e(...n))},wn=$t.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,$t.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL($t.origin),$t.navigator&&/(msie|trident)/i.test($t.navigator.userAgent)):()=>!0,Bn=$t.hasStandardBrowserEnv?{write(e,t,n,a,A,s,r){if("undefined"===typeof document)return;const i=["".concat(e,"=").concat(encodeURIComponent(t))];bt.isNumber(n)&&i.push("expires=".concat(new Date(n).toUTCString())),bt.isString(a)&&i.push("path=".concat(a)),bt.isString(A)&&i.push("domain=".concat(A)),!0===s&&i.push("secure"),bt.isString(r)&&i.push("SameSite=".concat(r)),document.cookie=i.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function jn(e,t,n){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const bn=e=>e instanceof cn?Wt({},e):e;function Cn(e,t){t=t||{};const n={};function a(e,t,n,a){return bt.isPlainObject(e)&&bt.isPlainObject(t)?bt.merge.call({caseless:a},e,t):bt.isPlainObject(t)?bt.merge({},t):bt.isArray(t)?t.slice():t}function A(e,t,n,A){return bt.isUndefined(t)?bt.isUndefined(e)?void 0:a(void 0,e,0,A):a(e,t,0,A)}function s(e,t){if(!bt.isUndefined(t))return a(void 0,t)}function r(e,t){return bt.isUndefined(t)?bt.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function i(n,A,s){return s in t?a(n,A):s in e?a(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:i,headers:(e,t,n)=>A(bn(e),bn(t),0,!0)};return bt.forEach(Object.keys(Wt(Wt({},e),t)),function(a){const s=l[a]||A,r=s(e[a],t[a],a);bt.isUndefined(r)&&s!==i||(n[a]=r)}),n}const Nn=e=>{const t=Cn({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:A,xsrfCookieName:s,headers:r,auth:i}=t;if(t.headers=r=cn.from(r),t.url=Dt(jn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&r.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),bt.isFormData(n))if($t.hasStandardBrowserEnv||$t.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if(bt.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,a]=e;t.includes(n.toLowerCase())&&r.set(n,a)})}if($t.hasStandardBrowserEnv&&(a&&bt.isFunction(a)&&(a=a(t)),a||!1!==a&&wn(t.url))){const e=A&&s&&Bn.read(s);e&&r.set(A,e)}return t},Qn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const a=Nn(e);let A=a.data;const s=cn.from(a.headers).normalize();let r,i,l,o,c,{responseType:d,onUploadProgress:u,onDownloadProgress:h}=a;function m(){o&&o(),c&&c(),a.cancelToken&&a.cancelToken.unsubscribe(r),a.signal&&a.signal.removeEventListener("abort",r)}let p=new XMLHttpRequest;function g(){if(!p)return;const a=cn.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());pn(function(e){t(e),m()},function(e){n(e),m()},{data:d&&"text"!==d&&"json"!==d?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:a,config:e,request:p}),p=null}p.open(a.method.toUpperCase(),a.url,!0),p.timeout=a.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(n(new Ft("Request aborted",Ft.ECONNABORTED,e,p)),p=null)},p.onerror=function(t){const a=t&&t.message?t.message:"Network Error",A=new Ft(a,Ft.ERR_NETWORK,e,p);A.event=t||null,n(A),p=null},p.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const A=a.transitional||Rt;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new Ft(t,A.clarifyTimeoutError?Ft.ETIMEDOUT:Ft.ECONNABORTED,e,p)),p=null},void 0===A&&s.setContentType(null),"setRequestHeader"in p&&bt.forEach(s.toJSON(),function(e,t){p.setRequestHeader(t,e)}),bt.isUndefined(a.withCredentials)||(p.withCredentials=!!a.withCredentials),d&&"json"!==d&&(p.responseType=a.responseType),h&&([l,c]=xn(h,!0),p.addEventListener("progress",l)),u&&p.upload&&([i,o]=xn(u),p.upload.addEventListener("progress",i),p.upload.addEventListener("loadend",o)),(a.cancelToken||a.signal)&&(r=t=>{p&&(n(!t||t.type?new mn(null,e,p):t),p.abort(),p=null)},a.cancelToken&&a.cancelToken.subscribe(r),a.signal&&(a.signal.aborted?r():a.signal.addEventListener("abort",r)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);f&&-1===$t.protocols.indexOf(f)?n(new Ft("Unsupported protocol "+f+":",Ft.ERR_BAD_REQUEST,e)):p.send(A||null)})},Fn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const A=function(e){if(!n){n=!0,r();const t=e instanceof Error?e:this.reason;a.abort(t instanceof Ft?t:new mn(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,A(new Ft("timeout ".concat(t," of ms exceeded"),Ft.ETIMEDOUT))},t);const r=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(A):e.removeEventListener("abort",A)}),e=null)};e.forEach(e=>e.addEventListener("abort",A));const{signal:i}=a;return i.unsubscribe=()=>bt.asap(r),i}};function Un(e,t){this.v=e,this.k=t}function Sn(e){return function(){return new kn(e.apply(this,arguments))}}function kn(e){var t,n;function a(t,n){try{var s=e[t](n),r=s.value,i=r instanceof Un;Promise.resolve(i?r.v:r).then(function(n){if(i){var l="return"===t?"return":"next";if(!r.k||n.done)return a(l,n);n=e[l](n).value}A(s.done?"return":"normal",n)},function(e){a("throw",e)})}catch(e){A("throw",e)}}function A(e,A){switch(e){case"return":t.resolve({value:A,done:!0});break;case"throw":t.reject(A);break;default:t.resolve({value:A,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,A){return new Promise(function(s,r){var i={key:e,arg:A,resolve:s,reject:r,next:null};n?n=n.next=i:(t=n=i,a(e,A))})},"function"!=typeof e.return&&(this.return=void 0)}function En(e){return new Un(e,0)}function _n(e){var t={},n=!1;function a(t,a){return n=!0,a=new Promise(function(n){n(e[t](a))}),{done:!1,value:new Un(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):a("return",e)}),t}function In(e){var t,n,a,A=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);A--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new Hn(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function Hn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Hn=function(e){this.s=e,this.n=e.next},Hn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Hn(e)}kn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},kn.prototype.next=function(e){return this._invoke("next",e)},kn.prototype.throw=function(e){return this._invoke("throw",e)},kn.prototype.return=function(e){return this._invoke("return",e)};const Tn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,A=0;for(;A<n;)a=A+t,yield e.slice(A,a),A=a},Ln=function(){var e=Sn(function*(e,t){var n,a=!1,A=!1;try{for(var s,r=In(Pn(e));a=!(s=yield En(r.next())).done;a=!1){const e=s.value;yield*_n(In(Tn(e,t)))}}catch(i){A=!0,n=i}finally{try{a&&null!=r.return&&(yield En(r.return()))}finally{if(A)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Pn=function(){var e=Sn(function*(e){if(e[Symbol.asyncIterator])return void(yield*_n(In(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield En(t.read());if(e)break;yield n}}finally{yield En(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Dn=(e,t,n,a)=>{const A=Ln(e,t);let s,r=0,i=e=>{s||(s=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await A.next();if(t)return i(),void e.close();let s=a.byteLength;if(n){let e=r+=s;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw i(t),t}},cancel:e=>(i(e),A.return())},{highWaterMark:2})},{isFunction:On}=bt,Rn=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(bt.global),{ReadableStream:Mn,TextEncoder:Kn}=bt.global,Gn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return!!e(...n)}catch(_c){return!1}},Vn=e=>{e=bt.merge.call({skipUndefined:!0},Rn,e);const{fetch:t,Request:n,Response:a}=e,A=t?On(t):"function"===typeof fetch,s=On(n),r=On(a);if(!A)return!1;const i=A&&On(Mn),l=A&&("function"===typeof Kn?(o=new Kn,e=>o.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var o;const c=s&&i&&Gn(()=>{let e=!1;const t=new n($t.origin,{body:new Mn,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=r&&i&&Gn(()=>bt.isReadableStream(new a("").body)),u={stream:d&&(e=>e.body)};A&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!u[e]&&(u[e]=(t,n)=>{let a=t&&t[e];if(a)return a.call(t);throw new Ft("Response type '".concat(e,"' is not supported"),Ft.ERR_NOT_SUPPORT,n)})});const h=async(e,t)=>{const a=bt.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(bt.isBlob(e))return e.size;if(bt.isSpecCompliantForm(e)){const t=new n($t.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return bt.isArrayBufferView(e)||bt.isArrayBuffer(e)?e.byteLength:(bt.isURLSearchParams(e)&&(e+=""),bt.isString(e)?(await l(e)).byteLength:void 0)})(t):a};return async e=>{let{url:A,method:r,data:i,signal:l,cancelToken:o,timeout:m,onDownloadProgress:p,onUploadProgress:g,responseType:f,headers:x,withCredentials:v="same-origin",fetchOptions:y}=Nn(e),w=t||fetch;f=f?(f+"").toLowerCase():"text";let B=Fn([l,o&&o.toAbortSignal()],m),j=null;const b=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let C;try{if(g&&c&&"get"!==r&&"head"!==r&&0!==(C=await h(x,i))){let e,t=new n(A,{method:"POST",body:i,duplex:"half"});if(bt.isFormData(i)&&(e=t.headers.get("content-type"))&&x.setContentType(e),t.body){const[e,n]=vn(C,xn(yn(g)));i=Dn(t.body,65536,e,n)}}bt.isString(v)||(v=v?"include":"omit");const t=s&&"credentials"in n.prototype,l=Wt(Wt({},y),{},{signal:B,method:r.toUpperCase(),headers:x.normalize().toJSON(),body:i,duplex:"half",credentials:t?v:void 0});j=s&&new n(A,l);let o=await(s?w(j,y):w(A,l));const m=d&&("stream"===f||"response"===f);if(d&&(p||m&&b)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=o[t]});const t=bt.toFiniteNumber(o.headers.get("content-length")),[n,A]=p&&vn(t,xn(yn(p),!0))||[];o=new a(Dn(o.body,65536,n,()=>{A&&A(),b&&b()}),e)}f=f||"text";let N=await u[bt.findKey(u,f)||"text"](o,e);return!m&&b&&b(),await new Promise((t,n)=>{pn(t,n,{data:N,headers:cn.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:j})})}catch(N){if(b&&b(),N&&"TypeError"===N.name&&/Load failed|fetch/i.test(N.message))throw Object.assign(new Ft("Network Error",Ft.ERR_NETWORK,e,j),{cause:N.cause||N});throw Ft.from(N,N&&N.code,e,j)}}},Wn=new Map,Jn=e=>{let t=e&&e.env||{};const{fetch:n,Request:a,Response:A}=t,s=[a,A,n];let r,i,l=s.length,o=Wn;for(;l--;)r=s[l],i=o.get(r),void 0===i&&o.set(r,i=l?new Map:Vn(t)),o=i;return i},zn=(Jn(),{http:null,xhr:Qn,fetch:{get:Jn}});bt.forEach(zn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(_c){}Object.defineProperty(e,"adapterName",{value:t})}});const Yn=e=>"- ".concat(e),Xn=e=>bt.isFunction(e)||null===e||!1===e;const qn={getAdapter:function(e,t){e=bt.isArray(e)?e:[e];const{length:n}=e;let a,A;const s={};for(let r=0;r<n;r++){let n;if(a=e[r],A=a,!Xn(a)&&(A=zn[(n=String(a)).toLowerCase()],void 0===A))throw new Ft("Unknown adapter '".concat(n,"'"));if(A&&(bt.isFunction(A)||(A=A.get(t))))break;s[n||"#"+r]=A}if(!A){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Yn).join("\n"):" "+Yn(e[0]):"as no adapter specified";throw new Ft("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return A},adapters:zn};function Zn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new mn(null,e)}function $n(e){Zn(e),e.headers=cn.from(e.headers),e.data=dn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return qn.getAdapter(e.adapter||nn.adapter,e)(e).then(function(t){return Zn(e),t.data=dn.call(e,e.transformResponse,t),t.headers=cn.from(t.headers),t},function(t){return un(t)||(Zn(e),t&&t.response&&(t.response.data=dn.call(e,e.transformResponse,t.response),t.response.headers=cn.from(t.response.headers))),Promise.reject(t)})}const ea="1.13.2",ta={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ta[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const na={};ta.transitional=function(e,t,n){function a(e,t){return"[Axios v"+ea+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,A,s)=>{if(!1===e)throw new Ft(a(A," has been removed"+(t?" in "+t:"")),Ft.ERR_DEPRECATED);return t&&!na[A]&&(na[A]=!0,console.warn(a(A," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,A,s)}},ta.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const aa={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Ft("options must be an object",Ft.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let A=a.length;for(;A-- >0;){const s=a[A],r=t[s];if(r){const t=e[s],n=void 0===t||r(t,s,e);if(!0!==n)throw new Ft("option "+s+" must be "+n,Ft.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Ft("Unknown option "+s,Ft.ERR_BAD_OPTION)}},validators:ta},Aa=aa.validators;class sa{constructor(e){this.defaults=e||{},this.interceptors={request:new Ot,response:new Ot}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(_c){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Cn(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:A}=t;void 0!==n&&aa.assertOptions(n,{silentJSONParsing:Aa.transitional(Aa.boolean),forcedJSONParsing:Aa.transitional(Aa.boolean),clarifyTimeoutError:Aa.transitional(Aa.boolean)},!1),null!=a&&(bt.isFunction(a)?t.paramsSerializer={serialize:a}:aa.assertOptions(a,{encode:Aa.function,serialize:Aa.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),aa.assertOptions(t,{baseUrl:Aa.spelling("baseURL"),withXsrfToken:Aa.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=A&&bt.merge(A.common,A[t.method]);A&&bt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete A[e]}),t.headers=cn.concat(s,A);const r=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))});const l=[];let o;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let c,d=0;if(!i){const e=[$n.bind(this),void 0];for(e.unshift(...r),e.push(...l),c=e.length,o=Promise.resolve(t);d<c;)o=o.then(e[d++],e[d++]);return o}c=r.length;let u=t;for(;d<c;){const e=r[d++],t=r[d++];try{u=e(u)}catch(h){t.call(this,h);break}}try{o=$n.call(this,u)}catch(h){return Promise.reject(h)}for(d=0,c=l.length;d<c;)o=o.then(l[d++],l[d++]);return o}getUri(e){return Dt(jn((e=Cn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}bt.forEach(["delete","get","head","options"],function(e){sa.prototype[e]=function(t,n){return this.request(Cn(n||{},{method:e,url:t,data:(n||{}).data}))}}),bt.forEach(["post","put","patch"],function(e){function t(t){return function(n,a,A){return this.request(Cn(A||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}sa.prototype[e]=t(),sa.prototype[e+"Form"]=t(!0)});const ra=sa;class ia{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{n.subscribe(e),t=e}).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e(function(e,a,A){n.reason||(n.reason=new mn(e,a,A),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ia(function(t){e=t}),cancel:e}}}const la=ia;const oa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(oa).forEach(e=>{let[t,n]=e;oa[n]=t});const ca=oa;const da=function e(t){const n=new ra(t),a=Pe(ra.prototype.request,n);return bt.extend(a,ra.prototype,n,{allOwnKeys:!0}),bt.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(Cn(t,n))},a}(nn);da.Axios=ra,da.CanceledError=mn,da.CancelToken=la,da.isCancel=un,da.VERSION=ea,da.toFormData=_t,da.AxiosError=Ft,da.Cancel=da.CanceledError,da.all=function(e){return Promise.all(e)},da.spread=function(e){return function(t){return e.apply(null,t)}},da.isAxiosError=function(e){return bt.isObject(e)&&!0===e.isAxiosError},da.mergeConfig=Cn,da.AxiosHeaders=cn,da.formToJSON=e=>en(bt.isHTMLForm(e)?new FormData(e):e),da.getAdapter=qn.getAdapter,da.HttpStatusCode=ca,da.default=da;const ua=da,ha=(window.location.hostname.includes("vercel.app"),"https://mortgage-crm-production-7a9a.up.railway.app"),ma=ua.create({baseURL:ha,headers:{"Content-Type":"application/json"}});ma.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),ma.interceptors.response.use(e=>e,e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)});const pa=async(e,t)=>{const n=new FormData;n.append("username",e),n.append("password",t);return(await ua.post("".concat(ha,"/token"),n)).data},ga=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await ma.get("/api/v1/leads/",{params:e})).data},fa=async e=>(await ma.get("/api/v1/leads/".concat(e))).data,xa=async e=>(await ma.post("/api/v1/leads/",e)).data,va=async(e,t)=>(await ma.patch("/api/v1/leads/".concat(e),t)).data,ya=async e=>{await ma.delete("/api/v1/leads/".concat(e))},wa=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await ma.get("/api/v1/loans/",{params:e})).data},Ba=async e=>(await ma.get("/api/v1/loans/".concat(e))).data,ja=async e=>{try{console.log("Creating loan with data:",e),console.log("API Base URL:",ha),console.log("Auth token exists:",!!localStorage.getItem("token"));const t=await ma.post("/api/v1/loans/",e);return console.log("Loan created successfully:",t.data),t.data}catch(l){var t,n,a,A,s,r,i;if(console.error("Loan creation error details:",{status:null===(t=l.response)||void 0===t?void 0:t.status,statusText:null===(n=l.response)||void 0===n?void 0:n.statusText,data:null===(a=l.response)||void 0===a?void 0:a.data,message:l.message,config:{url:null===(A=l.config)||void 0===A?void 0:A.url,method:null===(s=l.config)||void 0===s?void 0:s.method,baseURL:null===(r=l.config)||void 0===r?void 0:r.baseURL}}),405===(null===(i=l.response)||void 0===i?void 0:i.status)){console.log("Retrying without trailing slash...");try{const t=await ma.post("/api/v1/loans",e);return console.log("Retry successful:",t.data),t.data}catch(o){throw console.error("Retry also failed:",o),o}}throw l}},ba=async(e,t)=>(await ma.patch("/api/v1/loans/".concat(e),t)).data,Ca=async e=>{await ma.delete("/api/v1/loans/".concat(e))},Na=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await ma.get("/api/v1/referral-partners/",{params:e})).data},Qa=async e=>(await ma.get("/api/v1/referral-partners/".concat(e))).data,Fa=async e=>(await ma.post("/api/v1/referral-partners/",e)).data,Ua=async e=>{await ma.delete("/api/v1/referral-partners/".concat(e))},Sa=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await ma.get("/api/v1/mum-clients/",{params:e})).data},ka=async e=>(await ma.get("/api/v1/mum-clients/".concat(e))).data,Ea=async e=>(await ma.post("/api/v1/mum-clients/",e)).data,_a=async(e,t)=>(await ma.patch("/api/v1/mum-clients/".concat(e),t)).data,Ia=async e=>{await ma.delete("/api/v1/mum-clients/".concat(e))},Ha=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await ma.get("/api/v1/activities/",{params:e})).data},Ta=async e=>(await ma.post("/api/v1/activities/",e)).data,La=async()=>(await ma.get("/api/v1/analytics/scorecard")).data,Pa=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(await ma.post("/api/v1/ai/chat",{message:e,lead_id:t.lead_id,loan_id:t.loan_id,context:t.metadata})).data},Da=async()=>(await ma.get("/api/v1/ai/suggestions")).data,Oa=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await ma.get("/api/v1/conversations",{params:e})).data},Ra=async e=>(await ma.post("/api/v1/conversations/",e)).data,Ma=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await ma.get("/api/v1/portfolio/",{params:e})).data},Ka=async()=>(await ma.get("/api/v1/portfolio/stats")).data,Ga=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await ma.get("/api/v1/calendar/events",{params:e})).data},Va=async e=>(await ma.post("/api/v1/calendar/events",e)).data,Wa=async e=>{await ma.delete("/api/v1/calendar/events/".concat(e))},Ja=async e=>(await ma.get("/api/v1/process-templates/?role_name=".concat(encodeURIComponent(e)))).data,za=async()=>(await ma.get("/api/v1/process-templates/roles")).data,Ya=async e=>(await ma.post("/api/v1/process-templates/",e)).data,Xa=async(e,t)=>(await ma.patch("/api/v1/process-templates/".concat(e),t)).data,qa=async e=>{await ma.delete("/api/v1/process-templates/".concat(e))},Za=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?"/api/v1/process-templates/analyze-efficiency?role_name=".concat(encodeURIComponent(e)):"/api/v1/process-templates/analyze-efficiency";return(await ma.post(t)).data},$a=async()=>(await ma.post("/api/v1/process-templates/seed-defaults")).data,eA=async e=>{const t=new FormData;for(const n of e)t.append("files",n);return(await ma.post("/api/v1/onboarding/parse-documents-upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data},tA=async()=>(await ma.get("/api/v1/onboarding/roles")).data,nA=async()=>(await ma.get("/api/v1/onboarding/milestones")).data,aA=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="/api/v1/onboarding/tasks";const a=new URLSearchParams;e&&a.append("role_id",e),t&&a.append("milestone_id",t),a.toString()&&(n+="?".concat(a.toString()));return(await ma.get(n)).data},AA=async(e,t)=>(await ma.patch("/api/v1/onboarding/tasks/".concat(e),t)).data,sA=async()=>(await ma.get("/api/v1/team/members")).data,rA=async e=>(await ma.get("/api/v1/team/members/".concat(e))).data,iA=async e=>(await ma.post("/api/v1/team/members",e)).data,lA=async(e,t)=>(await ma.patch("/api/v1/team/members/".concat(e),t)).data,oA=async e=>{await ma.delete("/api/v1/team/members/".concat(e))},cA=async e=>(await ma.post("/api/v1/team/members/".concat(e,"/impersonate"))).data,dA=async e=>(await ma.post("/api/v1/calendly/connect",{api_key:e})).data,uA=async()=>(await ma.get("/api/v1/calendly/event-types")).data,hA=async()=>(await ma.get("/api/v1/calendly/calendar-mappings")).data,mA=async e=>(await ma.delete("/api/v1/calendly/calendar-mappings/".concat(e))).data,pA=async e=>(await ma.post("/api/v1/recallai/connect",{api_key:e})).data,gA=async()=>(await ma.get("/api/v1/recallai/status")).data,fA=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(await ma.post("/api/v1/recallai/start-recording",{meeting_url:e,lead_id:t,loan_id:n})).data};const xA=function(e){let{isOpen:t,onClose:n,context:A={}}=e;const[s,r]=(0,a.useState)([{id:1,role:"assistant",content:"Hello! I'm your AI assistant. I can help you with lead management, task automation, scheduling, and more. How can I assist you today?",timestamp:(new Date).toISOString()}]),[i,l]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{t&&(A.lead_id||A.loan_id)&&d()},[t,A.lead_id,A.loan_id]);const d=async()=>{try{const e={};A.lead_id&&(e.lead_id=A.lead_id),A.loan_id&&(e.loan_id=A.loan_id);const t=await Oa(e);if(t.length>0){const e=t.map(e=>({id:e.id,role:e.role,content:"user"===e.role?e.message:e.response,timestamp:e.created_at}));r(e)}}catch(e){console.error("Failed to load conversations:",e)}},u=async e=>{if(e.preventDefault(),!i.trim()||o)return;const t={id:Date.now(),role:"user",content:i,timestamp:(new Date).toISOString()};r([...s,t]),l(""),c(!0);try{const e=await Pa(i,A),t={id:Date.now()+1,role:"assistant",content:e.response,timestamp:(new Date).toISOString()};r(e=>[...e,t])}catch(n){console.error("AI chat error:",n);const e={id:Date.now()+1,role:"assistant",content:"Sorry, I encountered an error. Please make sure the OpenAI API key is configured in the backend.",timestamp:(new Date).toISOString()};r(t=>[...t,e])}finally{c(!1)}};return t?(0,Te.jsxs)("div",{className:"ai-assistant",children:[(0,Te.jsxs)("div",{className:"ai-assistant-header",children:[(0,Te.jsx)("h3",{children:"AI Assistant"}),(0,Te.jsx)("button",{className:"close-button",onClick:n,children:"\xd7"})]}),(0,Te.jsx)("div",{className:"ai-assistant-messages",children:s.map(e=>(0,Te.jsxs)("div",{className:"message ".concat("user"===e.role?"message-user":"message-assistant"),children:[(0,Te.jsx)("div",{className:"message-content",children:e.content}),(0,Te.jsx)("div",{className:"message-timestamp",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},e.id))}),(0,Te.jsxs)("form",{className:"ai-assistant-input",onSubmit:u,children:[(0,Te.jsx)("textarea",{value:i,onChange:e=>l(e.target.value),placeholder:"Ask me anything...",rows:3,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),u(e))}}),(0,Te.jsx)("button",{type:"submit",className:"send-button",disabled:!i.trim(),children:"Send"})]})]}):null},vA=e=>{let{isOpen:t,onClose:n}=e;const[A,s]=(0,a.useState)(null),[r,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(!1);if(!t)return null;const m=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(!0),s(e),o(null);try{const n=await fetch("".concat("https://mortgage-crm-production-7a9a.up.railway.app","/api/v1/coach"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({mode:e,message:t})});if(!n.ok)throw new Error("Coach unavailable");const a=await n.json();o(a)}catch(n){console.error("Coach error:",n);const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n={daily_briefing:{mode:e,response:"Good morning. Here's what matters today:\n\n1. You have 3 deals stuck in underwriting for 10+ days. These need immediate attention.\n2. 5 new leads from yesterday are uncontacted. First response time is critical.\n3. Your pipeline conversion rate is down 12% this month. Focus on qualification.\n\nProcess beats chaos. Execute on these priorities before checking email.",priorities:[{priority:1,category:"Pipeline",urgency:"HIGH",action:"Contact 3 deals stuck in underwriting - push for resolution"},{priority:2,category:"Leads",urgency:"HIGH",action:"Reach out to 5 new leads from yesterday within 1 hour"},{priority:3,category:"Conversion",urgency:"MEDIUM",action:"Review qualification process - identify weak points"}],metrics:{pipeline_health:"needs_attention",total_bottlenecks:3,overdue_tasks:5}},pipeline_audit:{mode:e,response:"Pipeline audit complete. Here's what's broken:\n\nYou have deals dying in underwriting because you're not following up. Every day a deal sits is money evaporating.\n\nYour lead response time averages 4.2 hours. Industry standard is under 5 minutes. You're losing deals before you even know they exist.\n\nFix the process. Stop firefighting.",action_items:["Fix John Smith deal - stuck 15 days in underwriting","Fix Sarah Johnson deal - stuck 12 days in processing","Fix Mike Williams deal - stuck 10 days in appraisal"],metrics:{pipeline_health:"needs_attention",total_bottlenecks:8,overdue_tasks:12}},focus_reset:{mode:e,response:"Stop. Breathe. Refocus.\n\nRight now, you're scattered. Here's your reset:\n\n1. Close all tabs except your CRM\n2. Put phone on Do Not Disturb for 90 minutes\n3. Pick ONE priority from your list\n4. Work ONLY on that until complete\n\nDistraction is the enemy of excellence. You know what needs to be done. Do it.",priorities:[{priority:1,category:"Focus",urgency:"HIGH",action:"Block 90 minutes - complete one high-priority task"}]},priority_guidance:{mode:e,response:"Here's what you should do next:\n\n1. Handle the hot lead from this morning - 800K purchase, pre-approved, ready to move\n2. Follow up on the 3 deals in underwriting\n3. Return calls to yesterday's inquiries\n\nEverything else is noise. These three actions will move your business forward today.",priorities:[{priority:1,category:"Hot Lead",urgency:"HIGH",action:"Contact $800K purchase lead - strike while hot"},{priority:2,category:"Pipeline",urgency:"HIGH",action:"Push 3 underwriting deals forward"},{priority:3,category:"Follow-up",urgency:"MEDIUM",action:"Return yesterday's inquiry calls"}]},accountability:{mode:e,response:"Performance review:\n\nLoans closed this month: Below target\nLead response time: Needs improvement\nPipeline conversion: Declining\n\nYou're capable of better. The numbers don't lie. Either raise your standards or accept mediocrity.\n\nWhich will it be?",metrics:{pipeline_health:"needs_attention",total_bottlenecks:5,overdue_tasks:8}},tough_love:{mode:e,response:"Let's be honest:\n\nYou're busy, but are you productive? Being busy answering emails isn't the same as closing deals.\n\nYou have leads going cold because 'you'll call them later.' Later is why you're not hitting your goals.\n\nYou know exactly what needs to be done. Stop making excuses and execute.",action_items:["Stop checking email every 5 minutes","Block time for actual revenue-generating activities","Follow up on cold leads from this week","Update your CRM - it's 3 days behind"]},teach_process:{mode:e,response:"Systems thinking 101:\n\nElite performers don't rely on motivation. They build systems that work even on bad days.\n\nYour system should be:\n1. Lead comes in \u2192 Response within 5 minutes \u2192 Qualification script\n2. Deal in pipeline \u2192 Daily check-in \u2192 Move forward or kill it\n3. Week ends \u2192 Review metrics \u2192 Adjust process\n\nProcess creates consistency. Consistency creates results.",action_items:["Document your lead response process","Create daily pipeline review habit (15 min)","Set up weekly metrics review (Friday 4pm)","Build templates for common scenarios"]},tactical_advice:{mode:e,response:t?"Here's my take on your question:\n\n".concat(t,"\n\nThe answer depends on your specific situation, but generally: Focus on the highest-leverage activity. What will move the needle most? Do that first."):"Ask me a specific question and I'll give you tactical guidance.",action_items:t?["Apply this guidance to your situation","Take action within 24 hours"]:[]}};return n[e]||n.daily_briefing}(e,t);o(a)}finally{i(!1)}};return r?(0,Te.jsxs)("div",{className:"coach-corner",children:[(0,Te.jsxs)("div",{className:"coach-header",children:[(0,Te.jsx)("h2",{children:"\ud83c\udfc6 The Process Coach"}),(0,Te.jsx)("button",{className:"close-button",onClick:n,children:"\xd7"})]}),(0,Te.jsxs)("div",{className:"coach-loading",children:[(0,Te.jsx)("div",{className:"loading-spinner"}),(0,Te.jsx)("p",{children:"Coach analyzing your pipeline..."})]})]}):l?(0,Te.jsxs)("div",{className:"coach-corner",children:[(0,Te.jsxs)("div",{className:"coach-header",children:[(0,Te.jsx)("h2",{children:"\ud83c\udfc6 The Process Coach"}),(0,Te.jsxs)("div",{className:"coach-header-actions",children:[(0,Te.jsx)("button",{className:"btn-back",onClick:()=>o(null),children:"\u2190 Back"}),(0,Te.jsx)("button",{className:"close-button",onClick:n,children:"\xd7"})]})]}),(0,Te.jsxs)("div",{className:"coach-response-container",children:[(0,Te.jsx)("div",{className:"coach-mode-badge",children:A.replace("_"," ").toUpperCase()}),(0,Te.jsx)("div",{className:"coach-message",children:l.response.split("\n").map((e,t)=>(0,Te.jsx)("p",{children:e},t))}),l.priorities&&l.priorities.length>0&&(0,Te.jsxs)("div",{className:"priorities-section",children:[(0,Te.jsx)("h3",{children:"Priority Actions"}),l.priorities.map((e,t)=>(0,Te.jsxs)("div",{className:"priority-item urgency-".concat(e.urgency.toLowerCase()),children:[(0,Te.jsxs)("div",{className:"priority-header",children:[(0,Te.jsxs)("span",{className:"priority-number",children:["#",e.priority]}),(0,Te.jsx)("span",{className:"priority-category",children:e.category}),(0,Te.jsx)("span",{className:"urgency-badge ".concat(e.urgency.toLowerCase()),children:e.urgency})]}),(0,Te.jsx)("div",{className:"priority-action",children:e.action})]},t))]}),l.action_items&&l.action_items.length>0&&(0,Te.jsxs)("div",{className:"action-items-section",children:[(0,Te.jsx)("h3",{children:"Action Items"}),(0,Te.jsx)("ul",{children:l.action_items.map((e,t)=>(0,Te.jsx)("li",{children:e},t))})]}),l.metrics&&(0,Te.jsxs)("div",{className:"metrics-section",children:[(0,Te.jsxs)("div",{className:"metric-card",children:[(0,Te.jsx)("span",{className:"metric-label",children:"Pipeline Health"}),(0,Te.jsx)("span",{className:"metric-value health-".concat(l.metrics.pipeline_health),children:"good"===l.metrics.pipeline_health?"\u2705 Good":"\u26a0\ufe0f Needs Attention"})]}),(0,Te.jsxs)("div",{className:"metric-card",children:[(0,Te.jsx)("span",{className:"metric-label",children:"Bottlenecks"}),(0,Te.jsx)("span",{className:"metric-value",children:l.metrics.total_bottlenecks})]}),(0,Te.jsxs)("div",{className:"metric-card",children:[(0,Te.jsx)("span",{className:"metric-label",children:"Overdue Tasks"}),(0,Te.jsx)("span",{className:"metric-value",children:l.metrics.overdue_tasks})]})]})]})]}):(0,Te.jsxs)("div",{className:"coach-corner",children:[(0,Te.jsxs)("div",{className:"coach-header",children:[(0,Te.jsx)("h2",{children:"\ud83c\udfc6 The Process Coach"}),(0,Te.jsx)("button",{className:"close-button",onClick:n,children:"\xd7"})]}),(0,Te.jsx)("p",{className:"coach-subtitle",children:"Elite Performance Guidance for Mortgage Professionals"}),(0,Te.jsxs)("div",{className:"coach-intro",children:[(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Philosophy:"})," Process over outcome. Standards over feelings. Execution over excuses."]}),(0,Te.jsx)("p",{children:"Select a coaching mode below:"})]}),(0,Te.jsx)("div",{className:"coach-modes-grid",children:[{id:"daily_briefing",label:"Daily Briefing",icon:"\ud83d\udccb",description:"Get your top 3 priorities for today"},{id:"pipeline_audit",label:"Pipeline Audit",icon:"\ud83d\udd0d",description:"Identify bottlenecks and stalled deals"},{id:"focus_reset",label:"Focus Reset",icon:"\ud83c\udfaf",description:"Get back on track when scattered"},{id:"priority_guidance",label:"What Should I Do Next?",icon:"\u2753",description:"Priority decision guidance"},{id:"accountability",label:"Accountability Review",icon:"\ud83d\udcca",description:"Review your performance"},{id:"tough_love",label:"Tough Love Mode",icon:"\ud83d\udcaa",description:"Call out inefficiencies directly"},{id:"teach_process",label:"Teach Me The Process",icon:"\ud83d\udcda",description:"Learn systems thinking and execution"},{id:"tactical_advice",label:"Ask a Question",icon:"\ud83d\udcac",description:"Get specific tactical advice"}].map(e=>(0,Te.jsxs)("button",{className:"coach-mode-button",onClick:()=>{"tactical_advice"===e.id?h(!0):m(e.id)},children:[(0,Te.jsx)("div",{className:"mode-icon",children:e.icon}),(0,Te.jsx)("div",{className:"mode-label",children:e.label}),(0,Te.jsx)("div",{className:"mode-description",children:e.description})]},e.id))}),u&&(0,Te.jsx)("div",{className:"custom-input-modal",children:(0,Te.jsxs)("div",{className:"modal-content",children:[(0,Te.jsx)("h3",{children:"Ask The Coach"}),(0,Te.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:"What's your question? Be specific.",rows:"4"}),(0,Te.jsxs)("div",{className:"modal-actions",children:[(0,Te.jsx)("button",{className:"btn-secondary",onClick:()=>{h(!1),d("")},children:"Cancel"}),(0,Te.jsx)("button",{className:"btn-primary",onClick:()=>{c.trim()?(m("tactical_advice",c),h(!1),d("")):alert("Please enter your question")},children:"Get Guidance"})]})]})}),(0,Te.jsxs)("div",{className:"coach-quick-actions",children:[(0,Te.jsx)("button",{className:"quick-action-btn",onClick:()=>m("daily_briefing"),children:"Give Me My Priorities"}),(0,Te.jsx)("button",{className:"quick-action-btn",onClick:()=>m("pipeline_audit"),children:"Fix My Pipeline"}),(0,Te.jsx)("button",{className:"quick-action-btn",onClick:()=>m("focus_reset"),children:"Reset My Focus"})]})]})},yA=e=>{let{onDismiss:t}=e;const n=$();return(0,Te.jsx)("div",{className:"onboarding-prompt",children:(0,Te.jsxs)("div",{className:"onboarding-prompt-content",children:[(0,Te.jsx)("div",{className:"onboarding-prompt-icon",children:"\ud83d\ude80"}),(0,Te.jsxs)("div",{className:"onboarding-prompt-text",children:[(0,Te.jsx)("h3",{children:"Welcome to your Mortgage CRM!"}),(0,Te.jsx)("p",{children:"Let's get you set up with our onboarding wizard. We'll help you configure your team, processes, integrations, and AI assistant in just a few minutes."})]}),(0,Te.jsxs)("div",{className:"onboarding-prompt-actions",children:[(0,Te.jsx)("button",{className:"btn-start-onboarding",onClick:()=>{n("/onboarding")},children:"Start Setup"}),(0,Te.jsx)("button",{className:"btn-dismiss",onClick:t,children:"Remind Me Later"})]})]})})};var wA=n(239),BA=n.n(wA);class jA extends a.Component{constructor(e){super(e),this.captureScreenshot=async()=>{try{return(await BA()(document.body,{allowTaint:!0,useCORS:!0,logging:!1,width:window.innerWidth,height:window.innerHeight})).toDataURL("image/png")}catch(e){return console.error("Screenshot capture failed:",e),null}},this.handleAutoFix=async()=>{this.setState({isFixing:!0,fixStatus:"Preparing error analysis..."});let e=this.state.screenshot;if(!e){if(this.setState({fixStatus:"Capturing screenshot..."}),e=await this.captureScreenshot(),!e)return void this.setState({fixStatus:"Failed to capture screenshot",isFixing:!1});this.setState({screenshot:e})}this.setState({fixStatus:"Sending error details to AI...",fixAttempts:this.state.fixAttempts+1});try{var t,n,a;const A=localStorage.getItem("token"),s=window.location.hostname.includes("vercel.app")?"https://mortgage-crm-production-7a9a.up.railway.app":"http://localhost:8000",r=await fetch("".concat(s,"/api/v1/auto-fix-error"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(A)},body:JSON.stringify({error_message:(null===(t=this.state.error)||void 0===t?void 0:t.toString())||"Unknown error",error_stack:(null===(n=this.state.error)||void 0===n?void 0:n.stack)||"",component_stack:(null===(a=this.state.errorInfo)||void 0===a?void 0:a.componentStack)||"",screenshot:e,attempt_number:this.state.fixAttempts,url:window.location.href,user_agent:navigator.userAgent})}),i=await r.json();i.success?this.setState({fixStatus:i.message,aiAnalysis:i.analysis,fixRecommendation:i.recommendation,fixStrategy:i.fix_strategy,filesAffected:i.files_affected,confidence:i.confidence,isFixing:!1}):this.setState({fixStatus:"Fix attempt ".concat(this.state.fixAttempts," failed: ").concat(i.message),isFixing:!1})}catch(A){console.error("Auto-fix failed:",A),this.setState({fixStatus:"Error communicating with AI: ".concat(A.message),isFixing:!1})}},this.state={hasError:!1,error:null,errorInfo:null,isFixing:!1,fixStatus:"",fixAttempts:0,screenshot:null,aiAnalysis:null,fixRecommendation:"",fixStrategy:"",filesAffected:[],confidence:""}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t);const n=window.__preErrorScreenshot;n?(console.log("Using pre-captured screenshot"),this.setState({error:e,errorInfo:t,screenshot:n}),window.__preErrorScreenshot=null):this.setState({error:e,errorInfo:t})}render(){var e,t,n;return this.state.hasError?(0,Te.jsx)("div",{className:"error-boundary-container",children:(0,Te.jsxs)("div",{className:"error-boundary-content",children:[(0,Te.jsxs)("div",{className:"error-boundary-header",children:[(0,Te.jsx)("h1",{children:"\u26a0\ufe0f Something went wrong"}),(0,Te.jsx)("p",{className:"error-boundary-subtitle",children:"An error has been detected in the application"})]}),(0,Te.jsxs)("div",{className:"error-boundary-details",children:[(0,Te.jsxs)("div",{className:"error-message",children:[(0,Te.jsx)("strong",{children:"Error:"})," ",null===(e=this.state.error)||void 0===e?void 0:e.toString()]}),(null===(t=this.state.error)||void 0===t?void 0:t.stack)&&(0,Te.jsxs)("details",{className:"error-stack",children:[(0,Te.jsx)("summary",{children:"Stack Trace"}),(0,Te.jsx)("pre",{children:this.state.error.stack})]}),(null===(n=this.state.errorInfo)||void 0===n?void 0:n.componentStack)&&(0,Te.jsxs)("details",{className:"error-component-stack",children:[(0,Te.jsx)("summary",{children:"Component Stack"}),(0,Te.jsx)("pre",{children:this.state.errorInfo.componentStack})]})]}),(0,Te.jsxs)("div",{className:"error-boundary-actions",children:[(0,Te.jsx)("button",{className:"btn-auto-fix",onClick:this.handleAutoFix,disabled:this.state.isFixing,children:this.state.isFixing?"\ud83e\udd16 AI is fixing...":"\ud83e\udd16 Auto-Fix with AI"}),(0,Te.jsx)("button",{className:"btn-reload",onClick:()=>window.location.reload(),disabled:this.state.isFixing,children:"\ud83d\udd04 Reload Page"}),(0,Te.jsx)("button",{className:"btn-dismiss",onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),disabled:this.state.isFixing,children:"\u2715 Dismiss"})]}),this.state.fixStatus&&(0,Te.jsxs)("div",{className:"fix-status ".concat(this.state.isFixing?"fixing":""),children:[this.state.fixStatus,this.state.fixAttempts>1&&(0,Te.jsxs)("span",{className:"fix-attempts",children:[" (Attempt ",this.state.fixAttempts,")"]})]}),this.state.screenshot&&(0,Te.jsxs)("details",{className:"error-screenshot",children:[(0,Te.jsx)("summary",{children:"Screenshot Captured"}),(0,Te.jsx)("img",{src:this.state.screenshot,alt:"Error screenshot"})]}),this.state.aiAnalysis&&(0,Te.jsxs)("div",{className:"ai-analysis-results",children:[(0,Te.jsx)("h3",{children:"\ud83e\udd16 AI Analysis Results"}),(0,Te.jsx)("div",{className:"analysis-section",children:(0,Te.jsxs)("div",{className:"analysis-badge",children:["Confidence: ",(0,Te.jsx)("strong",{children:this.state.confidence})]})}),this.state.aiAnalysis.root_cause&&(0,Te.jsxs)("div",{className:"analysis-section",children:[(0,Te.jsx)("h4",{children:"\ud83d\udd0d Root Cause"}),(0,Te.jsx)("p",{children:this.state.aiAnalysis.root_cause})]}),this.state.fixStrategy&&(0,Te.jsxs)("div",{className:"analysis-section",children:[(0,Te.jsx)("h4",{children:"\ud83d\udca1 Fix Strategy"}),(0,Te.jsx)("p",{children:this.state.fixStrategy})]}),this.state.filesAffected&&this.state.filesAffected.length>0&&(0,Te.jsxs)("div",{className:"analysis-section",children:[(0,Te.jsx)("h4",{children:"\ud83d\udcc1 Files Affected"}),(0,Te.jsx)("ul",{children:this.state.filesAffected.map((e,t)=>(0,Te.jsx)("li",{children:(0,Te.jsx)("code",{children:e})},t))})]}),this.state.fixRecommendation&&(0,Te.jsxs)("div",{className:"analysis-section recommendation",children:[(0,Te.jsx)("h4",{children:"\u26a0\ufe0f Recommendation"}),(0,Te.jsx)("p",{children:this.state.fixRecommendation})]}),(0,Te.jsx)("div",{className:"analysis-section",children:(0,Te.jsx)("small",{style:{color:"#666"},children:"\ud83d\udca1 Tip: Share this analysis with your development team to quickly resolve the issue."})})]})]})}):this.props.children}}const bA=jA;const CA=function(){const[e,t]=(0,a.useState)(!1);if(e)throw new Error('TEST ERROR: This is a simulated error to test the AI error handler. Click the "Auto-Fix with AI" button to see the AI analysis.');return(0,Te.jsx)("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"15px 25px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.4)",cursor:"pointer"},onClick:async()=>{try{console.log("Capturing screenshot before error...");const e=(await BA()(document.body,{allowTaint:!0,useCORS:!0,logging:!1,width:window.innerWidth,height:window.innerHeight})).toDataURL("image/png");window.__preErrorScreenshot=e,console.log("Screenshot captured and stored!"),setTimeout(()=>{t(!0)},100)}catch(e){console.error("Failed to capture screenshot:",e),t(!0)}},title:"Click to test the AI error handler",children:(0,Te.jsx)("span",{style:{color:"white",fontWeight:"600",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:"\ud83e\uddea Test Error Handler"})})};const NA=function(){const e=$(),[t,n]=(0,a.useState)([]),[A,s]=(0,a.useState)(!0);(0,a.useEffect)(()=>{r()},[]);const r=async()=>{try{const e=await ua.get("".concat("https://mortgage-crm-production-7a9a.up.railway.app","/api/v1/plans"));n(e.data.plans)}catch(e){console.error("Failed to load plans:",e),n([{key:"professional",name:"Professional",price_monthly:199,features:["Up to 15 team members","Unlimited leads","Advanced AI assistant","Priority support"]}])}finally{s(!1)}},i=function(){e("/register?plan=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"professional"))};return(0,Te.jsxs)("div",{className:"landing-page",children:[(0,Te.jsx)("nav",{className:"landing-nav",children:(0,Te.jsxs)("div",{className:"landing-nav-container",children:[(0,Te.jsxs)("div",{className:"landing-logo",children:[(0,Te.jsx)("span",{className:"logo-icon",children:"\ud83c\udfe0"}),(0,Te.jsx)("span",{className:"logo-text",children:"Mortgage CRM"})]}),(0,Te.jsxs)("div",{className:"landing-nav-actions",children:[(0,Te.jsx)("button",{className:"btn-login",onClick:()=>e("/login"),children:"Log In"}),(0,Te.jsx)("button",{className:"btn-signup",onClick:()=>i("professional"),children:"Sign Up"})]})]})}),(0,Te.jsx)("section",{className:"hero-section",children:(0,Te.jsxs)("div",{className:"hero-content",children:[(0,Te.jsx)("h1",{className:"hero-title",children:"AI-Powered Mortgage CRM"}),(0,Te.jsx)("p",{className:"hero-subtitle",children:"Transform your mortgage business with intelligent automation, seamless integrations, and data-driven insights"}),(0,Te.jsxs)("div",{className:"hero-cta",children:[(0,Te.jsx)("button",{className:"btn-primary-large",onClick:()=>i("professional"),children:"Start Free Trial"}),(0,Te.jsx)("button",{className:"btn-secondary-large",onClick:()=>document.getElementById("features").scrollIntoView({behavior:"smooth"}),children:"Learn More"})]}),(0,Te.jsx)("p",{className:"hero-note",children:"14-day free trial \u2022 No credit card required"})]})}),(0,Te.jsxs)("section",{id:"features",className:"features-section",children:[(0,Te.jsx)("h2",{children:"Everything You Need to Scale Your Business"}),(0,Te.jsxs)("div",{className:"features-grid",children:[(0,Te.jsxs)("div",{className:"feature-card",children:[(0,Te.jsx)("div",{className:"feature-icon",children:"\ud83e\udd16"}),(0,Te.jsx)("h3",{children:"AI Assistant"}),(0,Te.jsx)("p",{children:"Intelligent copilot that automates tasks, prioritizes leads, and provides actionable insights"})]}),(0,Te.jsxs)("div",{className:"feature-card",children:[(0,Te.jsx)("div",{className:"feature-icon",children:"\ud83d\udcca"}),(0,Te.jsx)("h3",{children:"Pipeline Management"}),(0,Te.jsx)("p",{children:"Track leads from first contact to funded loan with automated status updates"})]}),(0,Te.jsxs)("div",{className:"feature-card",children:[(0,Te.jsx)("div",{className:"feature-icon",children:"\ud83d\udd17"}),(0,Te.jsx)("h3",{children:"Seamless Integrations"}),(0,Te.jsx)("p",{children:"Connect with Microsoft Teams, Outlook, SMS, and calendar for unified communication"})]}),(0,Te.jsxs)("div",{className:"feature-card",children:[(0,Te.jsx)("div",{className:"feature-icon",children:"\u26a1"}),(0,Te.jsx)("h3",{children:"Task Automation"}),(0,Te.jsx)("p",{children:"AI-driven task creation and assignment based on pipeline triggers and deadlines"})]}),(0,Te.jsxs)("div",{className:"feature-card",children:[(0,Te.jsx)("div",{className:"feature-icon",children:"\ud83d\udce7"}),(0,Te.jsx)("h3",{children:"Email Intelligence"}),(0,Te.jsx)("p",{children:"Automatically parse emails to update CRM status and create follow-up tasks"})]}),(0,Te.jsxs)("div",{className:"feature-card",children:[(0,Te.jsx)("div",{className:"feature-icon",children:"\ud83d\udcc8"}),(0,Te.jsx)("h3",{children:"Advanced Analytics"}),(0,Te.jsx)("p",{children:"Comprehensive scorecards, conversion metrics, and performance tracking"})]}),(0,Te.jsxs)("div",{className:"feature-card",children:[(0,Te.jsx)("div",{className:"feature-icon",children:"\ud83d\udcac"}),(0,Te.jsx)("h3",{children:"SMS & Notifications"}),(0,Te.jsx)("p",{children:"Automated text messages for client updates, reminders, and status changes"})]}),(0,Te.jsxs)("div",{className:"feature-card",children:[(0,Te.jsx)("div",{className:"feature-icon",children:"\ud83c\udfaf"}),(0,Te.jsx)("h3",{children:"Custom Workflows"}),(0,Te.jsx)("p",{children:"AI generates workflows tailored to your team structure and processes"})]})]})]}),(0,Te.jsxs)("section",{className:"pricing-section",children:[(0,Te.jsx)("h2",{children:"Simple, Transparent Pricing"}),(0,Te.jsx)("p",{className:"pricing-subtitle",children:"Choose the plan that fits your business"}),A?(0,Te.jsx)("div",{className:"loading",children:"Loading plans..."}):(0,Te.jsx)("div",{className:"pricing-grid",children:t.map(e=>(0,Te.jsxs)("div",{className:"pricing-card ".concat("professional"===e.key?"featured":""),children:["professional"===e.key&&(0,Te.jsx)("div",{className:"popular-badge",children:"Most Popular"}),(0,Te.jsx)("h3",{className:"plan-name",children:e.name}),(0,Te.jsxs)("div",{className:"plan-price",children:[(0,Te.jsxs)("span",{className:"price-amount",children:["$",e.price_monthly]}),(0,Te.jsx)("span",{className:"price-period",children:"/month"})]}),(0,Te.jsx)("ul",{className:"plan-features",children:e.features.map((e,t)=>(0,Te.jsxs)("li",{children:[(0,Te.jsx)("span",{className:"feature-check",children:"\u2713"}),e]},t))}),(0,Te.jsx)("button",{className:"btn-plan ".concat("professional"===e.key?"btn-plan-featured":""),onClick:()=>i(e.key),children:"Get Started"}),(0,Te.jsx)("p",{className:"plan-trial",children:"14-day free trial included"})]},e.key))})]}),(0,Te.jsxs)("section",{className:"testimonials-section",children:[(0,Te.jsx)("h2",{children:"Trusted by Top Mortgage Professionals"}),(0,Te.jsxs)("div",{className:"testimonials-grid",children:[(0,Te.jsxs)("div",{className:"testimonial-card",children:[(0,Te.jsx)("p",{className:"testimonial-text",children:'"This CRM has completely transformed how we manage our pipeline. The AI assistant saves us 10+ hours per week on administrative tasks."'}),(0,Te.jsxs)("div",{className:"testimonial-author",children:[(0,Te.jsx)("strong",{children:"Sarah Johnson"}),(0,Te.jsx)("span",{children:"Senior Loan Officer, ABC Lending"})]})]}),(0,Te.jsxs)("div",{className:"testimonial-card",children:[(0,Te.jsx)("p",{className:"testimonial-text",children:'"The email intelligence feature is a game-changer. No more manual data entry - everything updates automatically."'}),(0,Te.jsxs)("div",{className:"testimonial-author",children:[(0,Te.jsx)("strong",{children:"Michael Chen"}),(0,Te.jsx)("span",{children:"Branch Manager, XYZ Mortgage"})]})]}),(0,Te.jsxs)("div",{className:"testimonial-card",children:[(0,Te.jsx)("p",{className:"testimonial-text",children:'"We\'ve seen a 40% increase in conversion rates since implementing this system. The analytics are incredibly powerful."'}),(0,Te.jsxs)("div",{className:"testimonial-author",children:[(0,Te.jsx)("strong",{children:"Emily Davis"}),(0,Te.jsx)("span",{children:"Regional Director, Premier Home Loans"})]})]})]})]}),(0,Te.jsxs)("section",{className:"cta-section",children:[(0,Te.jsx)("h2",{children:"Ready to Transform Your Business?"}),(0,Te.jsx)("p",{children:"Join hundreds of mortgage professionals using AI to close more loans"}),(0,Te.jsx)("button",{className:"btn-primary-large",onClick:()=>i("professional"),children:"Start Your Free Trial"}),(0,Te.jsx)("p",{className:"cta-note",children:"No credit card required \u2022 Setup in minutes"})]}),(0,Te.jsxs)("footer",{className:"landing-footer",children:[(0,Te.jsxs)("div",{className:"footer-content",children:[(0,Te.jsxs)("div",{className:"footer-section",children:[(0,Te.jsx)("h4",{children:"Mortgage CRM"}),(0,Te.jsx)("p",{children:"AI-powered CRM for mortgage professionals"})]}),(0,Te.jsxs)("div",{className:"footer-section",children:[(0,Te.jsx)("h4",{children:"Product"}),(0,Te.jsxs)("ul",{children:[(0,Te.jsx)("li",{children:"Features"}),(0,Te.jsx)("li",{children:"Pricing"}),(0,Te.jsx)("li",{children:"Integrations"}),(0,Te.jsx)("li",{children:"Security"})]})]}),(0,Te.jsxs)("div",{className:"footer-section",children:[(0,Te.jsx)("h4",{children:"Support"}),(0,Te.jsxs)("ul",{children:[(0,Te.jsx)("li",{children:"Documentation"}),(0,Te.jsx)("li",{children:"Help Center"}),(0,Te.jsx)("li",{children:"Contact Us"})]})]}),(0,Te.jsxs)("div",{className:"footer-section",children:[(0,Te.jsx)("h4",{children:"Company"}),(0,Te.jsxs)("ul",{children:[(0,Te.jsx)("li",{children:"About"}),(0,Te.jsx)("li",{children:"Blog"}),(0,Te.jsx)("li",{children:"Privacy Policy"}),(0,Te.jsx)("li",{children:"Terms of Service"})]})]})]}),(0,Te.jsx)("div",{className:"footer-bottom",children:(0,Te.jsx)("p",{children:"\xa9 2025 Mortgage CRM. All rights reserved."})})]})]})},QA="https://mortgage-crm-production-7a9a.up.railway.app";const FA=function(){var e;const t=$(),[n]=_e(),A=n.get("plan")||"professional",[s,r]=(0,a.useState)({email:"",password:"",confirmPassword:"",full_name:"",company_name:"",phone:"",plan:A}),[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(""),[h,m]=(0,a.useState)(1);(0,a.useEffect)(()=>{p()},[]);const p=async()=>{try{const e=await ua.get("".concat(QA,"/api/v1/plans"));l(e.data.plans)}catch(d){console.error("Failed to load plans:",d)}},g=e=>{const{name:t,value:n}=e.target;r(e=>Wt(Wt({},e),{},{[t]:n})),u("")},f=()=>{if(!s.email||!s.password||!s.confirmPassword||!s.full_name)return u("Please fill in all required fields"),!1;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)?s.password.length<8?(u("Password must be at least 8 characters long"),!1):s.password===s.confirmPassword||(u("Passwords do not match"),!1):(u("Please enter a valid email address"),!1)},x=()=>!!s.company_name||(u("Company name is required"),!1),v=()=>{1===h&&f()?m(2):2===h&&x()&&m(3)},y=()=>{m(e=>e-1),u("")},w=i.find(e=>e.key===s.plan)||{name:"Professional",price_monthly:199,features:[]};return(0,Te.jsx)("div",{className:"registration-page",children:(0,Te.jsxs)("div",{className:"registration-container",children:[(0,Te.jsxs)("div",{className:"registration-form-section",children:[(0,Te.jsxs)("div",{className:"registration-header",children:[(0,Te.jsx)("h1",{children:"Create Your Account"}),(0,Te.jsx)("p",{children:"Start your 14-day free trial today"})]}),(0,Te.jsxs)("div",{className:"progress-steps",children:[(0,Te.jsxs)("div",{className:"progress-step ".concat(h>=1?"active":""),children:[(0,Te.jsx)("div",{className:"step-number",children:h>1?"\u2713":"1"}),(0,Te.jsx)("div",{className:"step-label",children:"Account"})]}),(0,Te.jsx)("div",{className:"progress-line"}),(0,Te.jsxs)("div",{className:"progress-step ".concat(h>=2?"active":""),children:[(0,Te.jsx)("div",{className:"step-number",children:h>2?"\u2713":"2"}),(0,Te.jsx)("div",{className:"step-label",children:"Company"})]}),(0,Te.jsx)("div",{className:"progress-line"}),(0,Te.jsxs)("div",{className:"progress-step ".concat(h>=3?"active":""),children:[(0,Te.jsx)("div",{className:"step-number",children:"3"}),(0,Te.jsx)("div",{className:"step-label",children:"Confirm"})]})]}),d&&(0,Te.jsx)("div",{className:"error-message",children:d}),(0,Te.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),f()&&x()){c(!0),u("");try{const e=await ua.post("".concat(QA,"/api/v1/register"),{email:s.email,password:s.password,full_name:s.full_name,company_name:s.company_name||"",phone:s.phone||"",plan:s.plan||"professional"});if(e.data&&e.data.access_token){const n=e.data.access_token,a={id:e.data.user_id,email:e.data.email,full_name:e.data.full_name||s.full_name};localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(a)),t("/dashboard")}else{if(!e.data||!e.data.message)throw new Error("Unexpected response from server");t("/verify-email-sent",{state:{email:s.email,message:e.data.message}})}}catch(d){console.error("Registration failed:",d);let t="Registration failed. Please try again.";var n;if(d.response)if(400===d.response.status)t=(null===(n=d.response.data)||void 0===n?void 0:n.detail)||"Invalid registration data. Please check your information.";else if(500===d.response.status){var a;t=(null===(a=d.response.data)||void 0===a?void 0:a.detail)||"Server error. Please try again later."}else{var A;t=(null===(A=d.response.data)||void 0===A?void 0:A.detail)||t}else d.request&&(t="Unable to connect to server. Please check your internet connection.");u(t)}finally{c(!1)}}},className:"registration-form",children:[1===h&&(0,Te.jsxs)("div",{className:"form-step",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Full Name *"}),(0,Te.jsx)("input",{type:"text",name:"full_name",value:s.full_name,onChange:g,placeholder:"John Smith",required:!0})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Email Address *"}),(0,Te.jsx)("input",{type:"email",name:"email",value:s.email,onChange:g,placeholder:"john@company.com",required:!0})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Password *"}),(0,Te.jsx)("input",{type:"password",name:"password",value:s.password,onChange:g,placeholder:"Minimum 8 characters",required:!0})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Confirm Password *"}),(0,Te.jsx)("input",{type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:g,placeholder:"Re-enter your password",required:!0})]}),(0,Te.jsx)("button",{type:"button",className:"btn-next",onClick:v,children:"Continue"})]}),2===h&&(0,Te.jsxs)("div",{className:"form-step",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Company Name *"}),(0,Te.jsx)("input",{type:"text",name:"company_name",value:s.company_name,onChange:g,placeholder:"ABC Mortgage Company",required:!0})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Phone Number"}),(0,Te.jsx)("input",{type:"tel",name:"phone",value:s.phone,onChange:g,placeholder:"(555) 123-4567"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Select Plan *"}),(0,Te.jsx)("select",{name:"plan",value:s.plan,onChange:g,required:!0,children:i.map(e=>(0,Te.jsxs)("option",{value:e.key,children:[e.name," - $",e.price_monthly,"/month"]},e.key))})]}),(0,Te.jsxs)("div",{className:"form-buttons",children:[(0,Te.jsx)("button",{type:"button",className:"btn-back",onClick:y,children:"Back"}),(0,Te.jsx)("button",{type:"button",className:"btn-next",onClick:v,children:"Continue"})]})]}),3===h&&(0,Te.jsxs)("div",{className:"form-step",children:[(0,Te.jsxs)("div",{className:"confirmation-summary",children:[(0,Te.jsx)("h3",{children:"Review Your Information"}),(0,Te.jsxs)("div",{className:"summary-section",children:[(0,Te.jsx)("h4",{children:"Account"}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Name:"})," ",s.full_name]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Email:"})," ",s.email]})]}),(0,Te.jsxs)("div",{className:"summary-section",children:[(0,Te.jsx)("h4",{children:"Company"}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Company:"})," ",s.company_name]}),s.phone&&(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Phone:"})," ",s.phone]})]}),(0,Te.jsxs)("div",{className:"summary-section",children:[(0,Te.jsx)("h4",{children:"Subscription"}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Plan:"})," ",w.name]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Price:"})," $",w.price_monthly,"/month"]}),(0,Te.jsx)("p",{className:"trial-note",children:"14-day free trial included"})]}),(0,Te.jsx)("div",{className:"terms-notice",children:(0,Te.jsx)("p",{children:"By creating an account, you agree to our Terms of Service and Privacy Policy. You can cancel anytime during your trial period at no charge."})})]}),(0,Te.jsxs)("div",{className:"form-buttons",children:[(0,Te.jsx)("button",{type:"button",className:"btn-back",onClick:y,children:"Back"}),(0,Te.jsx)("button",{type:"submit",className:"btn-submit",disabled:o,children:o?"Creating Account...":"Create Account"})]})]})]}),(0,Te.jsx)("div",{className:"registration-footer",children:(0,Te.jsxs)("p",{children:["Already have an account?"," ",(0,Te.jsx)("a",{href:"/login",className:"login-link",children:"Sign In"})]})})]}),(0,Te.jsx)("div",{className:"registration-summary-section",children:(0,Te.jsxs)("div",{className:"plan-summary-card",children:[(0,Te.jsx)("h3",{children:"Your Selected Plan"}),(0,Te.jsxs)("div",{className:"plan-details",children:[(0,Te.jsx)("h2",{children:w.name}),(0,Te.jsxs)("div",{className:"plan-price",children:[(0,Te.jsxs)("span",{className:"price-amount",children:["$",w.price_monthly]}),(0,Te.jsx)("span",{className:"price-period",children:"/month"})]}),(0,Te.jsx)("div",{className:"trial-badge",children:"14-Day Free Trial"}),(0,Te.jsx)("ul",{className:"plan-features-list",children:null===(e=w.features)||void 0===e?void 0:e.map((e,t)=>(0,Te.jsxs)("li",{children:[(0,Te.jsx)("span",{className:"check-icon",children:"\u2713"}),e]},t))})]}),(0,Te.jsxs)("div",{className:"billing-info",children:[(0,Te.jsx)("p",{children:(0,Te.jsx)("strong",{children:"What happens next:"})}),(0,Te.jsxs)("ol",{children:[(0,Te.jsx)("li",{children:"Verify your email address"}),(0,Te.jsx)("li",{children:"Complete onboarding wizard"}),(0,Te.jsx)("li",{children:"Start your 14-day free trial"}),(0,Te.jsx)("li",{children:"You'll be charged after trial ends"})]})]})]})})]})})};const UA=function(){var e;const t=q(),n=$(),a=(null===(e=t.state)||void 0===e?void 0:e.email)||"";return(0,Te.jsx)("div",{className:"verification-sent-page",children:(0,Te.jsxs)("div",{className:"verification-card",children:[(0,Te.jsx)("div",{className:"success-icon",children:"\u2709\ufe0f"}),(0,Te.jsx)("h1",{children:"Check Your Email"}),(0,Te.jsxs)("p",{className:"main-message",children:["We've sent a verification link to ",(0,Te.jsx)("strong",{children:a})]}),(0,Te.jsx)("p",{className:"instructions",children:"Click the link in the email to verify your account and complete your registration."}),(0,Te.jsxs)("div",{className:"info-box",children:[(0,Te.jsx)("h3",{children:"What's Next?"}),(0,Te.jsxs)("ol",{children:[(0,Te.jsx)("li",{children:"Check your email inbox (and spam folder)"}),(0,Te.jsx)("li",{children:"Click the verification link"}),(0,Te.jsx)("li",{children:"Complete the onboarding wizard"}),(0,Te.jsx)("li",{children:"Start your 14-day free trial"})]})]}),(0,Te.jsxs)("div",{className:"help-section",children:[(0,Te.jsx)("p",{children:"Didn't receive the email?"}),(0,Te.jsx)("button",{className:"btn-resend",children:"Resend Verification Email"})]}),(0,Te.jsx)("button",{className:"btn-back-home",onClick:()=>n("/"),children:"Back to Home"})]})})};const SA=function(){const[e,t]=(0,a.useState)(""),[n,A]=(0,a.useState)(""),[s,r]=(0,a.useState)(""),[i,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),h=$();return(0,Te.jsx)("div",{className:"login-container",children:(0,Te.jsxs)("div",{className:"login-box",children:[(0,Te.jsxs)("div",{className:"login-header",children:[(0,Te.jsx)("h1",{children:"Mortgage CRM"}),(0,Te.jsx)("p",{children:"Agentic AI Platform"})]}),(0,Te.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),r(""),l(!0),console.log("Attempting login with:",e);try{const t=await pa(e,n);console.log("Login successful:",t),Ie(t.access_token,t.user),h("/dashboard")}catch(s){var a,A;console.error("Login error:",s),console.error("Error response:",s.response);const e=(null===(a=s.response)||void 0===a||null===(A=a.data)||void 0===A?void 0:A.detail)||s.message||"Login failed. Please check your credentials and try again.";r(e)}finally{l(!1)}},className:"login-form",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Te.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your email",required:!0,disabled:i})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Te.jsx)("input",{id:"password",type:"password",value:n,onChange:e=>A(e.target.value),placeholder:"Enter your password",required:!0,disabled:i})]}),s&&(0,Te.jsx)("div",{className:"error-message",children:s}),(0,Te.jsxs)("div",{className:"verification-options",children:[(0,Te.jsxs)("label",{className:"checkbox-label",children:[(0,Te.jsx)("input",{type:"checkbox",checked:o,onChange:e=>c(e.target.checked),disabled:i}),(0,Te.jsx)("span",{children:"I am a human"})]}),(0,Te.jsxs)("label",{className:"checkbox-label",children:[(0,Te.jsx)("input",{type:"checkbox",checked:d,onChange:e=>u(e.target.checked),disabled:i}),(0,Te.jsx)("span",{children:"Remember me"})]})]}),(0,Te.jsx)("button",{type:"submit",className:"btn-primary",disabled:i||!o,children:i?"Logging in...":"Login"}),(0,Te.jsx)("div",{className:"divider",children:"OR"}),(0,Te.jsx)("button",{type:"button",className:"btn-quick-test",onClick:async()=>{r(""),l(!0);try{const e=await pa("demo@example.com","demo123");Ie(e.access_token,e.user),h("/dashboard")}catch(e){r("Quick test login failed. Please try again or contact support."),console.error("Quick login error:",e)}finally{l(!1)}},disabled:i,children:"\ud83d\ude80 Quick Test Login (Auto-creates demo account)"})]}),(0,Te.jsxs)("div",{className:"login-footer",children:[(0,Te.jsxs)("p",{children:["Need an account? ",(0,Te.jsx)("a",{href:"/register",children:"Sign up here"})]}),(0,Te.jsxs)("div",{className:"demo-credentials",children:[(0,Te.jsx)("p",{className:"note",children:(0,Te.jsx)("strong",{children:"Demo Credentials:"})}),(0,Te.jsx)("p",{className:"note",children:"Email: demo@example.com"}),(0,Te.jsx)("p",{className:"note",children:"Password: demo123"})]})]})]})})},kA=e=>{var t,n,A,s,r;let{onComplete:i,onSkip:l}=e;const[o,c]=(0,a.useState)(1),[d,u]=(0,a.useState)(0),[h,m]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null),[f,x]=(0,a.useState)(null),[v,y]=(0,a.useState)({username:"",password:"",apiKey:""}),[w,B]=(0,a.useState)(null),[j,b]=(0,a.useState)(!1),[C,N]=(0,a.useState)(null),[Q,F]=(0,a.useState)(null),[U,S]=(0,a.useState)(null),[k,E]=(0,a.useState)(!1),[_,I]=(0,a.useState)({role_title:"",role_name:"",responsibilities:"",skills_required:[],key_activities:[]}),[H,T]=(0,a.useState)([]),[L,P]=(0,a.useState)({sopFiles:[],fileRoles:[],processTree:null,extractedRoles:[],extractedTasks:[],extractedMilestones:[],teamName:"",members:[{firstName:"",lastName:"",email:"",phone:"",role:""}],manager:"",timezone:"America/Los_Angeles",milestones:[],calendly:{connected:!1,eventTypes:[]},email:{provider:null,connected:!1,mailboxes:[]},telephony:{provider:null,phoneNumbers:[]},quietHours:{start:"08:00",end:"20:00"},maxRetries:3,maxDailyAttempts:5,dncAccepted:!1,recordingPolicy:{},agentName:"Samantha",voiceProfile:"elevenlabs-default",identityLine:"",purposePrompts:{},escalationNumber:"",testsPassed:{callTest:!1,emailTest:!1}}),D=["Loan Officer","Loan Processor","Underwriter","Closer","Post-Closer","Sales Manager","Operations Manager","Loan Officer Assistant","Junior Processor","Senior Processor","Transaction Coordinator"];(0,a.useEffect)(()=>{(async()=>{try{const[e,t,n,a]=await Promise.all([tA().catch(()=>[]),nA().catch(()=>[]),aA().catch(()=>[]),sA().catch(()=>[])]);a.length>0&&T(a),(e.length>0||t.length>0||n.length>0)&&P(a=>Wt(Wt({},a),{},{extractedRoles:e,extractedMilestones:t,extractedTasks:n,processTree:null}))}catch(e){console.error("Error loading existing onboarding data:",e)}})()},[]);const O=async()=>{try{if(L.processTree&&L.milestones.length>0){const e=Wt(Wt({},L.processTree),{},{milestonesData:L.milestones});localStorage.setItem("onboardingProcessTree",JSON.stringify(e))}const e=localStorage.getItem("token"),t="https://mortgage-crm-production-7a9a.up.railway.app";await fetch("".concat(t,"/api/v1/onboarding/complete"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(L)}),i&&i()}catch(e){console.error("Failed to complete onboarding:",e),i&&i()}},R=(e,t)=>{P(n=>Wt(Wt({},n),{},{[e]:t}))},M=()=>{P(e=>Wt(Wt({},e),{},{members:[...e.members,{firstName:"",lastName:"",email:"",phone:"",role:""}]}))},K=(e,t,n)=>{P(a=>{const A=[...a.members];return A[e][t]=n,Wt(Wt({},a),{},{members:A})})},G=e=>{const t=Array.from(e.target.files);V(t)},V=e=>{const t=e.filter(e=>{const t="."+e.name.split(".").pop().toLowerCase();return[".pdf",".docx",".xlsx",".csv",".doc",".xls",".txt"].includes(t)?!(e.size>52428800)||(alert("".concat(e.name,": File too large. Maximum size is 50MB.")),!1):(alert("".concat(e.name,": Invalid file type. Please upload PDF, DOCX, XLSX, or CSV files.")),!1)}),n=L.sopFiles||[],a=L.fileRoles||[],A=[...n,...t],s=[...a,...t.map(()=>"")];A.length>10?(alert("Maximum ".concat(10," files allowed. Only adding first ").concat(10-n.length," files.")),P(e=>Wt(Wt({},e),{},{sopFiles:A.slice(0,10),fileRoles:s.slice(0,10)}))):P(e=>Wt(Wt({},e),{},{sopFiles:A,fileRoles:s}))},W=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]},J=e=>{e.preventDefault(),e.stopPropagation()},z=e=>{e.preventDefault(),e.stopPropagation();const t=Array.from(e.dataTransfer.files);V(t)},Y=async()=>{m(!0);try{const e=await eA(L.sopFiles),t=e.milestones.map((t,n)=>{const a=e.tasks.filter(e=>e.milestone_id===t.id).map(t=>{const n=e.roles.find(e=>e.id===t.role_id);return{name:t.task_name,owner:(null===n||void 0===n?void 0:n.role_title)||"Unassigned",sla:t.sla||24,slaUnit:t.sla_unit||"hours",aiAuto:t.ai_automatable||!1}});return{name:t.name,tasks:a}}),n=e.summary.total_tasks;P(a=>Wt(Wt({},a),{},{milestones:t,extractedRoles:e.roles,extractedTasks:e.tasks,extractedMilestones:e.milestones,processTree:{generated:!0,milestones:e.summary.total_milestones,tasks:n,roles:e.summary.total_roles}})),m(!1),c(2)}catch(e){console.error("Error parsing documents:",e),m(!1),alert("Failed to parse documents. Please try again.");const t=[{name:"New Lead",tasks:[{name:"Log lead in CRM",owner:"Concierge",sla:15,slaUnit:"hours",aiAuto:!0},{name:"Initial contact via phone/email",owner:"Concierge",sla:2,slaUnit:"hours",aiAuto:!0},{name:"Send welcome email with company overview",owner:"Concierge",sla:1,slaUnit:"hours",aiAuto:!0},{name:"Schedule discovery call",owner:"Loan Officer",sla:24,slaUnit:"hours",aiAuto:!0},{name:"Conduct needs assessment call",owner:"Loan Officer",sla:48,slaUnit:"hours",aiAuto:!1},{name:"Send pre-qualification questionnaire",owner:"Concierge",sla:4,slaUnit:"hours",aiAuto:!0},{name:"Review pre-qualification responses",owner:"Loan Officer",sla:24,slaUnit:"hours",aiAuto:!1},{name:"Request credit pull authorization",owner:"Loan Officer",sla:24,slaUnit:"hours",aiAuto:!0},{name:"Pull credit report",owner:"Loan Officer",sla:12,slaUnit:"hours",aiAuto:!1},{name:"Analyze credit report",owner:"Loan Officer",sla:24,slaUnit:"hours",aiAuto:!1},{name:"Review credit disputes if needed",owner:"Loan Officer",sla:48,slaUnit:"hours",aiAuto:!1},{name:"Request income documentation preview",owner:"Loan Officer",sla:24,slaUnit:"hours",aiAuto:!0},{name:"Provide initial loan estimate",owner:"Loan Officer",sla:3,slaUnit:"days",aiAuto:!1},{name:"Send product comparison sheet",owner:"Loan Officer",sla:24,slaUnit:"hours",aiAuto:!0},{name:"Schedule product selection meeting",owner:"Concierge",sla:2,slaUnit:"days",aiAuto:!0},{name:"Assign to loan team",owner:"Loan Officer",sla:12,slaUnit:"hours",aiAuto:!1}]},{name:"Application",tasks:[{name:"Send application portal link",owner:"Concierge",sla:2,slaUnit:"hours",aiAuto:!0},{name:"Provide application tutorial video",owner:"Concierge",sla:1,slaUnit:"hours",aiAuto:!0},{name:"Monitor application progress",owner:"Concierge",sla:24,slaUnit:"hours",aiAuto:!0},{name:"Send application completion reminders",owner:"Concierge",sla:48,slaUnit:"hours",aiAuto:!0},{name:"Review completed application",owner:"Loan Officer",sla:12,slaUnit:"hours",aiAuto:!1},{name:"Verify application accuracy",owner:"Processor",sla:24,slaUnit:"hours",aiAuto:!1},{name:"Request missing application information",owner:"Processor",sla:12,slaUnit:"hours",aiAuto:!0},{name:"Generate initial disclosures",owner:"Processor",sla:24,slaUnit:"hours",aiAuto:!1},{name:"Send initial disclosures to borrower",owner:"Processor",sla:3,slaUnit:"days",aiAuto:!0},{name:"Confirm disclosure receipt",owner:"Concierge",sla:1,slaUnit:"days",aiAuto:!0},{name:"Log intent to proceed",owner:"Processor",sla:24,slaUnit:"hours",aiAuto:!1},{name:"Lock interest rate if requested",owner:"Loan Officer",sla:4,slaUnit:"hours",aiAuto:!1},{name:"Send rate lock confirmation",owner:"Concierge",sla:2,slaUnit:"hours",aiAuto:!0},{name:"Create initial document checklist",owner:"Processor",sla:24,slaUnit:"hours",aiAuto:!0},{name:"Send document request to borrower",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!0}]},{name:"Processing",tasks:[{name:"Review all uploaded documents",owner:"Processor",sla:24,slaUnit:"hours",aiAuto:!1},{name:"Verify income documents (paystubs)",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!1},{name:"Verify employment (VOE)",owner:"Processor",sla:2,slaUnit:"days",aiAuto:!1},{name:"Request W2s for past 2 years",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!0},{name:"Request tax returns if self-employed",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!0},{name:"Verify asset accounts (bank statements)",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!1},{name:"Source large deposits if needed",owner:"Processor",sla:2,slaUnit:"days",aiAuto:!1},{name:"Review gift funds documentation",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!1},{name:"Order appraisal",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!1},{name:"Collect appraisal fee",owner:"Processor",sla:24,slaUnit:"hours",aiAuto:!1},{name:"Schedule appraisal appointment",owner:"Processor",sla:2,slaUnit:"days",aiAuto:!0},{name:"Monitor appraisal status",owner:"Processor",sla:5,slaUnit:"days",aiAuto:!0},{name:"Review appraisal report",owner:"Loan Officer",sla:24,slaUnit:"hours",aiAuto:!1},{name:"Share appraisal with borrower",owner:"Processor",sla:24,slaUnit:"hours",aiAuto:!0},{name:"Order title search",owner:"Processor",sla:2,slaUnit:"days",aiAuto:!1},{name:"Review preliminary title report",owner:"Processor",sla:3,slaUnit:"days",aiAuto:!1},{name:"Clear title exceptions if needed",owner:"Processor",sla:5,slaUnit:"days",aiAuto:!1},{name:"Order homeowners insurance",owner:"Processor",sla:3,slaUnit:"days",aiAuto:!0},{name:"Verify insurance coverage amounts",owner:"Processor",sla:2,slaUnit:"days",aiAuto:!1},{name:"Obtain mortgage insurance quote if needed",owner:"Processor",sla:2,slaUnit:"days",aiAuto:!1},{name:"Request HOA documents if applicable",owner:"Processor",sla:3,slaUnit:"days",aiAuto:!0},{name:"Review HOA budget and bylaws",owner:"Processor",sla:2,slaUnit:"days",aiAuto:!1},{name:"Order flood certification",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!1},{name:"Order flood insurance if required",owner:"Processor",sla:2,slaUnit:"days",aiAuto:!0},{name:"Prepare file for underwriting",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!1},{name:"Complete loan application package",owner:"Processor",sla:2,slaUnit:"days",aiAuto:!1}]},{name:"Underwriting",tasks:[{name:"Submit file to underwriter",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!1},{name:"Confirm underwriter assignment",owner:"Processor",sla:12,slaUnit:"hours",aiAuto:!1},{name:"Monitor underwriting queue",owner:"Processor",sla:24,slaUnit:"hours",aiAuto:!0},{name:"Receive initial underwriting decision",owner:"Processor",sla:3,slaUnit:"days",aiAuto:!1},{name:"Review underwriting conditions",owner:"Loan Officer",sla:12,slaUnit:"hours",aiAuto:!1},{name:"Explain conditions to borrower",owner:"Loan Officer",sla:24,slaUnit:"hours",aiAuto:!1},{name:"Request additional documentation for conditions",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!0},{name:"Review updated bank statements",owner:"Processor",sla:24,slaUnit:"hours",aiAuto:!1},{name:"Obtain updated paystub",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!0},{name:"Request letter of explanation if needed",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!0},{name:"Verify employment again (72hr prior to close)",owner:"Processor",sla:3,slaUnit:"days",aiAuto:!1},{name:"Clear PTD conditions",owner:"Processor",sla:2,slaUnit:"days",aiAuto:!1},{name:"Submit cleared conditions to UW",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!1},{name:"Receive final approval",owner:"Processor",sla:2,slaUnit:"days",aiAuto:!1},{name:"Review final approval conditions",owner:"Loan Officer",sla:12,slaUnit:"hours",aiAuto:!1},{name:"Notify borrower of approval",owner:"Loan Officer",sla:4,slaUnit:"hours",aiAuto:!0},{name:"Order final title update",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!1}]},{name:"Clear to Close",tasks:[{name:"Receive clear to close from UW",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!1},{name:"Notify loan team of CTC",owner:"Processor",sla:2,slaUnit:"hours",aiAuto:!0},{name:"Request final Closing Disclosure figures",owner:"Processor",sla:12,slaUnit:"hours",aiAuto:!1},{name:"Prepare Closing Disclosure",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!1},{name:"Send initial CD to borrower",owner:"Processor",sla:4,slaUnit:"hours",aiAuto:!0},{name:"Confirm CD receipt and review",owner:"Concierge",sla:24,slaUnit:"hours",aiAuto:!0},{name:"Wait 3-day CD review period",owner:"Processor",sla:3,slaUnit:"days",aiAuto:!1},{name:"Coordinate closing date/time with title",owner:"Processor",sla:2,slaUnit:"days",aiAuto:!1},{name:"Coordinate with borrower schedule",owner:"Concierge",sla:1,slaUnit:"days",aiAuto:!0},{name:"Confirm closing appointment",owner:"Concierge",sla:24,slaUnit:"hours",aiAuto:!0},{name:"Send closing location details",owner:"Concierge",sla:48,slaUnit:"hours",aiAuto:!0},{name:"Verify wiring instructions if needed",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!1},{name:"Send pre-closing checklist to borrower",owner:"Processor",sla:2,slaUnit:"days",aiAuto:!0},{name:"Verify final insurance binder",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!1},{name:"Order final verification of employment",owner:"Processor",sla:3,slaUnit:"days",aiAuto:!1},{name:"Perform final credit check",owner:"Processor",sla:2,slaUnit:"days",aiAuto:!1},{name:"Send final figures to title company",owner:"Processor",sla:24,slaUnit:"hours",aiAuto:!1},{name:"Review final CD for accuracy",owner:"Loan Officer",sla:12,slaUnit:"hours",aiAuto:!1},{name:"Send final CD if changes occurred",owner:"Processor",sla:24,slaUnit:"hours",aiAuto:!0}]},{name:"Closing",tasks:[{name:"Send closing package to title",owner:"Processor",sla:2,slaUnit:"days",aiAuto:!1},{name:"Review closing package for accuracy",owner:"Processor",sla:24,slaUnit:"hours",aiAuto:!1},{name:"Send closing reminder to borrower",owner:"Concierge",sla:24,slaUnit:"hours",aiAuto:!0},{name:"Verify borrower has required IDs",owner:"Concierge",sla:24,slaUnit:"hours",aiAuto:!0},{name:"Verify cash to close amount",owner:"Processor",sla:12,slaUnit:"hours",aiAuto:!1},{name:"Confirm wire/cashier check instructions",owner:"Processor",sla:24,slaUnit:"hours",aiAuto:!0},{name:"Monitor closing appointment",owner:"Processor",sla:4,slaUnit:"hours",aiAuto:!1},{name:"Receive signed closing documents",owner:"Processor",sla:24,slaUnit:"hours",aiAuto:!1},{name:"Review closing documents for completeness",owner:"Processor",sla:12,slaUnit:"hours",aiAuto:!1},{name:"Submit docs for funding approval",owner:"Processor",sla:24,slaUnit:"hours",aiAuto:!1},{name:"Receive funding approval",owner:"Processor",sla:1,slaUnit:"days",aiAuto:!1},{name:"Wire funds to title company",owner:"Processor",sla:4,slaUnit:"hours",aiAuto:!1},{name:"Confirm funding with title",owner:"Processor",sla:12,slaUnit:"hours",aiAuto:!1},{name:"Notify borrower of successful funding",owner:"Loan Officer",sla:4,slaUnit:"hours",aiAuto:!0},{name:"Send congratulations package",owner:"Concierge",sla:1,slaUnit:"days",aiAuto:!0},{name:"Request closing gift preference",owner:"Concierge",sla:2,slaUnit:"days",aiAuto:!0},{name:"Send closing gift",owner:"Concierge",sla:5,slaUnit:"days",aiAuto:!1}]},{name:"Post-Close",tasks:[{name:"Archive loan file",owner:"Processor",sla:3,slaUnit:"days",aiAuto:!1},{name:"Upload to investor portal if sold",owner:"Processor",sla:5,slaUnit:"days",aiAuto:!1},{name:"Send welcome to servicing email",owner:"Concierge",sla:7,slaUnit:"days",aiAuto:!0},{name:"Provide servicing contact info",owner:"Concierge",sla:7,slaUnit:"days",aiAuto:!0},{name:"7-day check-in call",owner:"Concierge",sla:7,slaUnit:"days",aiAuto:!0},{name:"Request Google review",owner:"Concierge",sla:10,slaUnit:"days",aiAuto:!0},{name:"Request Zillow review",owner:"Concierge",sla:10,slaUnit:"days",aiAuto:!0},{name:"Add to referral partner list",owner:"Loan Officer",sla:14,slaUnit:"days",aiAuto:!1},{name:"30-day check-in call",owner:"Loan Officer",sla:30,slaUnit:"days",aiAuto:!0},{name:"Send first mortgage statement guide",owner:"Concierge",sla:30,slaUnit:"days",aiAuto:!0},{name:"Schedule quarterly check-in",owner:"Concierge",sla:60,slaUnit:"days",aiAuto:!0},{name:"Add to birthday calendar",owner:"Concierge",sla:7,slaUnit:"days",aiAuto:!0},{name:"Add to home anniversary calendar",owner:"Concierge",sla:7,slaUnit:"days",aiAuto:!0}]},{name:"Client for Life",tasks:[{name:"Send quarterly market update",owner:"Concierge",sla:90,slaUnit:"days",aiAuto:!0},{name:"Monitor for refinance opportunities",owner:"Loan Officer",sla:180,slaUnit:"days",aiAuto:!0},{name:"Send home anniversary card",owner:"Concierge",sla:365,slaUnit:"days",aiAuto:!0},{name:"Send birthday card/gift",owner:"Concierge",sla:365,slaUnit:"days",aiAuto:!0},{name:"Annual financial review invitation",owner:"Concierge",sla:330,slaUnit:"days",aiAuto:!0},{name:"Conduct annual review call",owner:"Loan Officer",sla:365,slaUnit:"days",aiAuto:!1},{name:"Review for equity opportunities",owner:"Loan Officer",sla:365,slaUnit:"days",aiAuto:!1},{name:"Send holiday greetings",owner:"Concierge",sla:365,slaUnit:"days",aiAuto:!0},{name:"Check for life changes (marriage, kids, etc)",owner:"Loan Officer",sla:180,slaUnit:"days",aiAuto:!1},{name:"Send home maintenance tips",owner:"Concierge",sla:120,slaUnit:"days",aiAuto:!0},{name:"Provide property value updates",owner:"Loan Officer",sla:180,slaUnit:"days",aiAuto:!0},{name:"Request referrals gently",owner:"Loan Officer",sla:90,slaUnit:"days",aiAuto:!1}]}],n=t.reduce((e,t)=>e+t.tasks.length,0);P(e=>Wt(Wt({},e),{},{milestones:t,processTree:{generated:!0,milestones:t.length,tasks:n,roles:5}})),m(!1)}},X=()=>{P(e=>{const t=[...e.milestones,{name:"New Milestone",tasks:[]}];return u(t.length-1),Wt(Wt({},e),{},{milestones:t})})},q=(e,t,n,a)=>{P(A=>{const s=[...A.milestones];return s[e].tasks[t][n]=a,Wt(Wt({},A),{},{milestones:s})})},Z=()=>{S(null)},$=(e,t)=>{S(n=>Wt(Wt({},n),{},{[e]:t}))},ee=()=>{I({role_title:"",role_name:"",responsibilities:"",skills_required:[],key_activities:[]}),E(!0)},te=()=>{E(!1)},ne=()=>{var e;return(0,Te.jsxs)("div",{className:"step-content",children:[(0,Te.jsxs)("div",{className:"step-header",children:[(0,Te.jsx)("div",{className:"step-icon",children:"\ud83d\udc65"}),(0,Te.jsx)("h2",{children:"Review Roles & Responsibilities"}),(0,Te.jsxs)("p",{className:"step-description",children:["AI has identified ",(null===(e=L.extractedRoles)||void 0===e?void 0:e.length)||0," roles from your process documents. Review each role and their responsibilities."]})]}),(0,Te.jsx)("div",{className:"roles-review-container",children:L.extractedRoles&&L.extractedRoles.length>0?L.extractedRoles.map((e,t)=>(0,Te.jsxs)("div",{className:"role-card",children:[(0,Te.jsxs)("div",{className:"role-header",children:[(0,Te.jsx)("div",{className:"role-number",children:t+1}),(0,Te.jsxs)("div",{className:"role-info",children:[(0,Te.jsx)("h3",{children:e.role_title}),(0,Te.jsx)("span",{className:"role-badge",children:e.role_name})]})]}),(0,Te.jsxs)("div",{className:"role-details",children:[(0,Te.jsxs)("div",{className:"detail-section",children:[(0,Te.jsx)("h4",{children:"Responsibilities"}),(0,Te.jsx)("p",{children:e.responsibilities})]}),e.skills_required&&e.skills_required.length>0&&(0,Te.jsxs)("div",{className:"detail-section",children:[(0,Te.jsx)("h4",{children:"Required Skills"}),(0,Te.jsx)("div",{className:"skills-list",children:e.skills_required.map((e,t)=>(0,Te.jsx)("span",{className:"skill-tag",children:e},t))})]}),e.key_activities&&e.key_activities.length>0&&(0,Te.jsxs)("div",{className:"detail-section",children:[(0,Te.jsx)("h4",{children:"Key Activities"}),(0,Te.jsx)("ul",{className:"activities-list",children:e.key_activities.map((e,t)=>(0,Te.jsx)("li",{children:e},t))})]})]})]},e.id)):(0,Te.jsx)("div",{className:"no-roles-message",children:(0,Te.jsx)("p",{children:"No roles have been extracted yet. Please go back to Step 1 and generate the process tree."})})})]})},ae=()=>{var e,t;const n={};return null===(e=L.extractedRoles)||void 0===e||e.forEach(e=>{var t;n[e.id]={role:e,tasks:(null===(t=L.extractedTasks)||void 0===t?void 0:t.filter(t=>t.role_id===e.id))||[]}}),(0,Te.jsxs)("div",{className:"step-content",children:[(0,Te.jsxs)("div",{className:"step-header",children:[(0,Te.jsx)("div",{className:"step-icon",children:"\ud83d\udccb"}),(0,Te.jsx)("h2",{children:"Review Tasks by Role"}),(0,Te.jsxs)("p",{className:"step-description",children:["Review all ",(null===(t=L.extractedTasks)||void 0===t?void 0:t.length)||0," tasks organized by role. Click any task to edit, reassign, or view details."]}),(0,Te.jsx)("button",{className:"btn-add-role",onClick:ee,children:"+ Add New Role"})]}),(0,Te.jsx)("div",{className:"tasks-by-role-container",children:Object.values(n).map(e=>{let{role:t,tasks:n}=e;return(0,Te.jsxs)("div",{className:"role-tasks-section",children:[(0,Te.jsxs)("div",{className:"role-tasks-header",children:[(0,Te.jsx)("h3",{children:t.role_title}),(0,Te.jsxs)("span",{className:"tasks-count",children:[n.length," tasks"]})]}),(0,Te.jsx)("div",{className:"tasks-grid",children:n.map((e,t)=>{var n;const a=null===(n=L.extractedMilestones)||void 0===n?void 0:n.find(t=>t.id===e.milestone_id),A=null===H||void 0===H?void 0:H.find(t=>t.id===e.assigned_user_id);return(0,Te.jsxs)("div",{className:"task-review-card clickable",onClick:()=>(e=>{S(Wt(Wt({},e),{},{tempRoleId:e.role_id,tempUserId:null}))})(e),children:[(0,Te.jsxs)("div",{className:"task-review-header",children:[(0,Te.jsx)("span",{className:"task-number",children:t+1}),(0,Te.jsx)("h4",{children:e.task_name})]}),e.task_description&&(0,Te.jsx)("p",{className:"task-description",children:e.task_description}),(0,Te.jsxs)("div",{className:"task-meta-info",children:[a&&(0,Te.jsxs)("span",{className:"meta-badge milestone-badge",children:["\ud83d\udccd ",a.name]}),A&&(0,Te.jsxs)("span",{className:"meta-badge user-badge",children:["\ud83d\udc64 ",A.full_name||A.email]}),e.estimated_duration&&(0,Te.jsxs)("span",{className:"meta-badge time-badge",children:["\u23f1\ufe0f ",e.estimated_duration," min"]}),e.sla&&(0,Te.jsxs)("span",{className:"meta-badge sla-badge",children:["\u23f0 SLA: ",e.sla," ",e.sla_unit]}),e.ai_automatable&&(0,Te.jsx)("span",{className:"meta-badge ai-badge",children:"\ud83e\udd16 AI Automatable"})]})]},e.id)})}),0===n.length&&(0,Te.jsx)("p",{className:"no-tasks-message",children:"No tasks assigned to this role yet."})]},t.id)})})]})},Ae=()=>(0,Te.jsxs)("div",{className:"step-content",children:[(0,Te.jsxs)("div",{className:"step-header",children:[(0,Te.jsx)("div",{className:"step-icon",children:"\ud83d\udc65"}),(0,Te.jsx)("h2",{children:"Team & Roles"}),(0,Te.jsx)("p",{className:"step-description",children:L.processTree?"Set up your team members - you'll assign them to the ".concat(L.processTree.tasks," generated tasks in the next step"):"Set up your team members and assign roles"})]}),(0,Te.jsxs)("div",{className:"form-section",children:[(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Timezone"}),(0,Te.jsxs)("select",{value:L.timezone,onChange:e=>R("timezone",e.target.value),className:"input-field",children:[(0,Te.jsx)("option",{value:"America/Los_Angeles",children:"Pacific Time"}),(0,Te.jsx)("option",{value:"America/Denver",children:"Mountain Time"}),(0,Te.jsx)("option",{value:"America/Chicago",children:"Central Time"}),(0,Te.jsx)("option",{value:"America/New_York",children:"Eastern Time"})]})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Team Members"}),L.members.map((e,t)=>(0,Te.jsxs)("div",{className:"member-row",children:[(0,Te.jsx)("input",{type:"text",placeholder:"First Name",value:e.firstName,onChange:e=>K(t,"firstName",e.target.value),className:"input-field input-sm"}),(0,Te.jsx)("input",{type:"text",placeholder:"Last Name",value:e.lastName,onChange:e=>K(t,"lastName",e.target.value),className:"input-field input-sm"}),(0,Te.jsx)("input",{type:"email",placeholder:"Email",value:e.email,onChange:e=>K(t,"email",e.target.value),className:"input-field input-md"}),(0,Te.jsx)("input",{type:"tel",placeholder:"Phone",value:e.phone,onChange:e=>K(t,"phone",e.target.value),className:"input-field input-sm"}),(0,Te.jsxs)("select",{value:e.role,onChange:e=>K(t,"role",e.target.value),className:"input-field input-md",children:[(0,Te.jsx)("option",{value:"",children:"Select Role"}),(0,Te.jsx)("option",{value:"president",children:"President"}),(0,Te.jsx)("option",{value:"regional_manager",children:"Regional Manager"}),(0,Te.jsx)("option",{value:"area_manager",children:"Area Manager"}),(0,Te.jsx)("option",{value:"sales_manager",children:"Sales Manager"}),(0,Te.jsx)("option",{value:"team_leader",children:"Team Leader"}),(0,Te.jsx)("option",{value:"loan_officer",children:"Loan Officer"}),(0,Te.jsx)("option",{value:"executive_assistant",children:"Executive Assistant"}),(0,Te.jsx)("option",{value:"production_assistant_1",children:"Production Assistant 1"}),(0,Te.jsx)("option",{value:"production_assistant_2",children:"Production Assistant 2"}),(0,Te.jsx)("option",{value:"application_analysis",children:"Application Analysis"}),(0,Te.jsx)("option",{value:"concierge",children:"Concierge"}),(0,Te.jsx)("option",{value:"processor",children:"Processor"}),(0,Te.jsx)("option",{value:"processing_manager",children:"Processing Manager"}),(0,Te.jsx)("option",{value:"processing_assistant",children:"Processing Assistant"}),(0,Te.jsx)("option",{value:"closer",children:"Closer"}),(0,Te.jsx)("option",{value:"funder",children:"Funder"}),(0,Te.jsx)("option",{value:"underwriter",children:"Underwriter"})]}),t>0&&(0,Te.jsx)("button",{onClick:()=>(e=>{P(t=>Wt(Wt({},t),{},{members:t.members.filter((t,n)=>n!==e)}))})(t),className:"btn-remove",children:"\xd7"})]},t)),(0,Te.jsx)("button",{onClick:M,className:"btn-add-member",children:"+ Add Member"})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Manager"}),(0,Te.jsxs)("select",{value:L.manager,onChange:e=>R("manager",e.target.value),className:"input-field",children:[(0,Te.jsx)("option",{value:"",children:"Select Manager"}),L.members.map((e,t)=>e.email&&(0,Te.jsxs)("option",{value:e.email,children:[e.firstName," ",e.lastName," (",e.email,")"]},t))]})]})]}),(0,Te.jsxs)("div",{className:"validation-requirements",children:[(0,Te.jsx)("p",{children:"\u2713 At least one team member required"}),(0,Te.jsx)("p",{children:"\u2713 All emails must be unique and valid"})]})]}),se=()=>(0,Te.jsxs)("div",{className:"step-content",children:[(0,Te.jsxs)("div",{className:"step-header",children:[(0,Te.jsx)("div",{className:"step-icon",children:"\ud83d\udcc4"}),(0,Te.jsx)("h2",{children:"Upload Your Process Documents"}),(0,Te.jsx)("p",{className:"step-description",children:"Upload your SOPs first - AI will generate ALL tasks and workflows to assign to your team"})]}),(0,Te.jsxs)("div",{className:"form-section",children:[(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Upload Process Documents"}),(0,Te.jsx)("p",{className:"field-hint",children:"PDFs, DOCX, XLSX, CSV of your SOPs (Lead \u2192 Loan \u2192 Post-Close)"}),(0,Te.jsxs)("div",{className:"file-upload-area",onDragOver:J,onDrop:z,children:[(0,Te.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.docx,.doc,.xlsx,.xls,.csv,.txt",onChange:G,className:"file-input",id:"sop-upload"}),(0,Te.jsxs)("label",{htmlFor:"sop-upload",className:"file-upload-label",children:[(0,Te.jsx)("div",{className:"upload-icon",children:"\ud83d\udcce"}),(0,Te.jsx)("div",{className:"upload-text",children:"Click to upload or drag and drop"}),(0,Te.jsx)("div",{className:"upload-hint",children:"PDF, DOCX, XLSX, CSV, TXT (max 10 files, 50MB each)"})]})]}),L.sopFiles&&L.sopFiles.length>0&&(0,Te.jsxs)("div",{className:"uploaded-files",children:[(0,Te.jsxs)("div",{className:"files-header",children:[(0,Te.jsxs)("h4",{children:[L.sopFiles.length," file",1!==L.sopFiles.length?"s":""," uploaded"]}),(0,Te.jsx)("button",{className:"btn-clear-all",onClick:()=>R("sopFiles",[]),children:"Clear all"})]}),L.sopFiles.map((e,t)=>(0,Te.jsxs)("div",{className:"file-item",children:[(0,Te.jsx)("div",{className:"file-icon",children:e.name.endsWith(".pdf")?"\ud83d\udcd5":e.name.endsWith(".docx")||e.name.endsWith(".doc")?"\ud83d\udcd8":e.name.endsWith(".xlsx")||e.name.endsWith(".xls")?"\ud83d\udcd7":e.name.endsWith(".csv")?"\ud83d\udcca":"\ud83d\udcc4"}),(0,Te.jsxs)("div",{className:"file-info",children:[(0,Te.jsx)("div",{className:"file-name",children:e.name}),(0,Te.jsx)("div",{className:"file-size",children:W(e.size)})]}),(0,Te.jsxs)("select",{className:"file-role-select",value:L.fileRoles[t]||"",onChange:e=>((e,t)=>{const n=[...L.fileRoles];n[e]=t,R("fileRoles",n)})(t,e.target.value),title:"Select role for this document",children:[(0,Te.jsx)("option",{value:"",children:"Select Role"}),D.map(e=>(0,Te.jsx)("option",{value:e,children:e},e)),L.extractedRoles.map(e=>(0,Te.jsx)("option",{value:e.role_name,children:e.role_title||e.role_name},e.role_name))]}),(0,Te.jsx)("button",{className:"btn-remove-file",onClick:()=>(e=>{const t=L.sopFiles.filter((t,n)=>n!==e),n=L.fileRoles.filter((t,n)=>n!==e);P(e=>Wt(Wt({},e),{},{sopFiles:t,fileRoles:n}))})(t),title:"Remove file",children:"\xd7"})]},t))]})]}),L.sopFiles&&L.sopFiles.length>0&&!L.processTree&&(0,Te.jsxs)("div",{className:"ai-processing",children:[(0,Te.jsx)("button",{className:"btn-ai-process",onClick:Y,disabled:h,children:h?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("span",{className:"spinner"}),"Processing..."]}):(0,Te.jsx)(Te.Fragment,{children:"\ud83e\udd16 AI: Parse & Generate Process Tree"})}),(0,Te.jsxs)("p",{className:"processing-hint",children:["AI will extract milestones, tasks, and role ownership from your ",L.sopFiles.length," document",1!==L.sopFiles.length?"s":""]})]}),L.processTree&&(0,Te.jsxs)("div",{className:"process-tree-preview",children:[(0,Te.jsx)("h4",{children:"\u2713 Process Tree Generated"}),(0,Te.jsxs)("div",{className:"preview-stats",children:[(0,Te.jsxs)("div",{className:"stat-item",children:[(0,Te.jsx)("span",{className:"stat-label",children:"Milestones"}),(0,Te.jsx)("span",{className:"stat-number",children:L.processTree.milestones})]}),(0,Te.jsxs)("div",{className:"stat-item",children:[(0,Te.jsx)("span",{className:"stat-label",children:"Tasks"}),(0,Te.jsx)("span",{className:"stat-number",children:L.processTree.tasks})]}),(0,Te.jsxs)("div",{className:"stat-item",children:[(0,Te.jsx)("span",{className:"stat-label",children:"Roles"}),(0,Te.jsx)("span",{className:"stat-number",children:L.processTree.roles})]})]}),(0,Te.jsx)("button",{className:"btn-regenerate",onClick:Y,disabled:h,children:"\ud83d\udd04 Regenerate"})]})]})]}),re=()=>{const e=L.milestones[d],t=["President","Regional Manager","Area Manager","Sales Manager","Team Leader","Loan Officer","Executive Assistant","Production Assistant 1","Production Assistant 2","Application Analysis","Concierge","Processor","Processing Manager","Processing Assistant","Closer","Funder","Underwriter"];return 0===L.milestones.length?(0,Te.jsxs)("div",{className:"step-content",children:[(0,Te.jsxs)("div",{className:"step-header",children:[(0,Te.jsx)("div",{className:"step-icon",children:"\ud83d\uddc2\ufe0f"}),(0,Te.jsx)("h2",{children:"Who Does What, When"}),(0,Te.jsx)("p",{className:"step-description",children:"No milestones or tasks found"})]}),(0,Te.jsxs)("div",{className:"empty-milestones-state",children:[(0,Te.jsx)("div",{className:"empty-state-icon",children:"\ud83d\udccb"}),(0,Te.jsx)("h3",{children:"No Process Tree Generated"}),(0,Te.jsxs)("p",{children:["Go back to ",(0,Te.jsx)("strong",{children:"Step 1"})," to upload your process documents and click",(0,Te.jsx)("strong",{children:' "\ud83e\udd16 AI: Parse & Generate Process Tree"'})," to automatically create all your milestones and tasks."]}),(0,Te.jsx)("button",{className:"btn-back-to-upload",onClick:()=>c(1),children:"\u2190 Go Back to Upload Documents"}),(0,Te.jsx)("div",{className:"or-divider",children:(0,Te.jsx)("span",{children:"OR"})}),(0,Te.jsx)("p",{className:"manual-option",children:"Start building your process manually:"}),(0,Te.jsx)("button",{className:"btn-add-first-milestone",onClick:X,children:"+ Add Your First Milestone"})]})]}):(0,Te.jsxs)("div",{className:"step-content",children:[(0,Te.jsxs)("div",{className:"step-header",children:[(0,Te.jsx)("div",{className:"step-icon",children:"\ud83d\uddc2\ufe0f"}),(0,Te.jsx)("h2",{children:"Who Does What, When"}),(0,Te.jsx)("p",{className:"step-description",children:L.processTree?"\u2713 Review ".concat(L.milestones.reduce((e,t)=>e+t.tasks.length,0)," AI-generated tasks and assign ownership"):"Configure your process ownership and SLAs"})]}),L.processTree&&(0,Te.jsxs)("div",{className:"ai-generated-banner",children:[(0,Te.jsx)("span",{className:"banner-icon",children:"\ud83e\udd16"}),(0,Te.jsxs)("div",{className:"banner-content",children:[(0,Te.jsx)("strong",{children:"AI-Generated Process Tree"}),(0,Te.jsxs)("p",{children:["Review and approve the ",L.milestones.length," milestones and ",L.milestones.reduce((e,t)=>e+t.tasks.length,0)," tasks below. You can edit, add, or remove any milestone or task."]})]})]}),(0,Te.jsxs)("div",{className:"process-tree-editor",children:[(0,Te.jsxs)("div",{className:"milestone-column",children:[(0,Te.jsxs)("div",{className:"milestone-header",children:[(0,Te.jsx)("h4",{children:"Milestones"}),(0,Te.jsx)("button",{className:"btn-add-milestone",onClick:X,title:"Add Milestone",children:"+"})]}),(0,Te.jsx)("div",{className:"milestone-list",children:L.milestones.map((e,t)=>(0,Te.jsxs)("div",{className:"milestone-item ".concat(t===d?"active":""," ").concat(Q&&Q.milestoneIndex!==t?"drop-target":""),onClick:()=>u(t),onDragOver:J,onDrop:e=>((e,t)=>{if(e.preventDefault(),!Q)return;const{milestoneIndex:n,taskIndex:a}=Q;n!==t?(P(e=>{const A=[...e.milestones],s=Wt({},A[n].tasks[a]);return A[n].tasks=A[n].tasks.filter((e,t)=>t!==a),A[t].tasks=[...A[t].tasks,s],Wt(Wt({},e),{},{milestones:A})}),F(null)):F(null)})(e,t),children:[(0,Te.jsx)("input",{type:"text",value:e.name,onChange:e=>((e,t,n)=>{P(a=>{const A=[...a.milestones];return A[e][t]=n,Wt(Wt({},a),{},{milestones:A})})})(t,"name",e.target.value),onClick:e=>e.stopPropagation(),className:"milestone-name-input"}),L.milestones.length>1&&(0,Te.jsx)("button",{className:"btn-remove-milestone",onClick:e=>{e.stopPropagation(),(e=>{P(t=>{const n=t.milestones.filter((t,n)=>n!==e);return d>=n.length&&u(Math.max(0,n.length-1)),Wt(Wt({},t),{},{milestones:n})})})(t)},title:"Remove Milestone",children:"\xd7"})]},t))})]}),(0,Te.jsx)("div",{className:"tasks-column",children:e&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"tasks-header",children:[(0,Te.jsxs)("h4",{children:['Tasks for "',e.name,'"']}),(0,Te.jsx)("button",{className:"btn-add-task",onClick:()=>{return e=d,void P(t=>{const n=[...t.milestones];return n[e].tasks=[...n[e].tasks,{name:"",owner:"Loan Officer",sla:24,slaUnit:"hours",aiAuto:!1}],Wt(Wt({},t),{},{milestones:n})});var e},children:"+ Add Task"})]}),(0,Te.jsx)("div",{className:"task-list",children:0===e.tasks.length?(0,Te.jsx)("div",{className:"empty-tasks",children:(0,Te.jsx)("p",{children:'No tasks yet. Click "+ Add Task" to create one.'})}):e.tasks.map((e,n)=>(0,Te.jsxs)("div",{className:"task-item",children:[(0,Te.jsxs)("div",{className:"task-header",children:[(0,Te.jsx)("div",{className:"drag-handle",draggable:"true",onDragStart:e=>((e,t,n)=>{F({milestoneIndex:t,taskIndex:n}),e.dataTransfer.effectAllowed="move"})(e,d,n),onDragEnd:()=>F(null),title:"Drag to move task to another milestone",children:"\u22ee\u22ee"}),(0,Te.jsxs)("div",{className:"task-name-section",children:[(0,Te.jsx)("label",{className:"task-label",children:"Task"}),(0,Te.jsx)("input",{type:"text",value:e.name,onChange:e=>q(d,n,"name",e.target.value),placeholder:"What needs to be done?",className:"task-name-input"})]}),(0,Te.jsx)("button",{className:"btn-remove-task",onClick:()=>((e,t)=>{P(n=>{const a=[...n.milestones];return a[e].tasks=a[e].tasks.filter((e,n)=>n!==t),Wt(Wt({},n),{},{milestones:a})})})(d,n),title:"Remove Task",children:"\xd7"})]}),(0,Te.jsxs)("div",{className:"task-details",children:[(0,Te.jsxs)("div",{className:"task-detail-group",children:[(0,Te.jsx)("label",{className:"detail-label",children:"Assigned To"}),(0,Te.jsx)("select",{value:e.owner,onChange:e=>q(d,n,"owner",e.target.value),className:"owner-select",children:t.map(e=>(0,Te.jsx)("option",{value:e,children:e},e))})]}),(0,Te.jsxs)("div",{className:"task-detail-group",children:[(0,Te.jsx)("label",{className:"detail-label",children:"Complete Within"}),(0,Te.jsxs)("div",{className:"task-sla",children:[(0,Te.jsx)("input",{type:"number",value:e.sla,onChange:e=>q(d,n,"sla",parseInt(e.target.value)||0),className:"sla-input",min:"1"}),(0,Te.jsxs)("select",{value:e.slaUnit,onChange:e=>q(d,n,"slaUnit",e.target.value),className:"sla-unit-select",children:[(0,Te.jsx)("option",{value:"hours",children:"hours"}),(0,Te.jsx)("option",{value:"days",children:"days"})]})]})]}),(0,Te.jsx)("div",{className:"task-detail-group task-ai-section",children:(0,Te.jsxs)("label",{className:"ai-auto-label",children:[(0,Te.jsx)("input",{type:"checkbox",checked:e.aiAuto,onChange:e=>q(d,n,"aiAuto",e.target.checked),className:"ai-auto-checkbox"}),(0,Te.jsxs)("span",{className:"ai-auto-text",children:[(0,Te.jsx)("strong",{children:"AI Auto"}),(0,Te.jsx)("span",{className:"ai-auto-hint",children:"AI attempts task, escalates to user if needed, learns for next time"})]})]})})]})]},n))})]})})]}),(0,Te.jsx)("div",{className:"process-summary",children:(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:L.milestones.length})," milestone",1!==L.milestones.length?"s":""," \u2022",(0,Te.jsxs)("strong",{children:[" ",L.milestones.reduce((e,t)=>e+t.tasks.length,0)]})," total task",1!==L.milestones.reduce((e,t)=>e+t.tasks.length,0)?"s":""]})})]})},ie=[{id:"calendly",name:"Calendly",icon:"\ud83d\udcc5",category:"Calendar",description:"Automated appointment scheduling"},{id:"google-calendar",name:"Google Calendar",icon:"\ud83d\udcc5",category:"Calendar",description:"Sync your Google Calendar events"},{id:"outlook-calendar",name:"Outlook Calendar",icon:"\ud83d\udcc5",category:"Calendar",description:"Microsoft Outlook calendar integration"},{id:"gmail",name:"Gmail",icon:"\ud83d\udce7",category:"Email",description:"Connect your Gmail account"},{id:"outlook",name:"Microsoft 365",icon:"\ud83d\udce7",category:"Email",description:"Outlook and Microsoft 365 email"},{id:"yahoo",name:"Yahoo Mail",icon:"\ud83d\udce7",category:"Email",description:"Yahoo email integration"},{id:"twilio",name:"Twilio",icon:"\ud83d\udcde",category:"Phone",description:"AI calling, SMS, and voice"},{id:"ringcentral",name:"RingCentral",icon:"\ud83d\udcde",category:"Phone",description:"Business phone system"},{id:"dialpad",name:"Dialpad",icon:"\ud83d\udcde",category:"Phone",description:"Cloud-based phone system"},{id:"docusign",name:"DocuSign",icon:"\ud83d\udcdd",category:"Documents",description:"Electronic signature platform"},{id:"adobe-sign",name:"Adobe Sign",icon:"\ud83d\udcdd",category:"Documents",description:"Adobe document signing"},{id:"dropbox",name:"Dropbox",icon:"\ud83d\udcc1",category:"Documents",description:"Cloud file storage"},{id:"google-drive",name:"Google Drive",icon:"\ud83d\udcc1",category:"Documents",description:"Google cloud storage"},{id:"encompass",name:"Encompass",icon:"\ud83c\udfe2",category:"LOS",description:"ICE Mortgage Technology LOS",optional:!0},{id:"calyx-point",name:"Calyx Point",icon:"\ud83c\udfe2",category:"LOS",description:"Calyx loan origination",optional:!0},{id:"bytepro",name:"BytePro",icon:"\ud83c\udfe2",category:"LOS",description:"BytePro LOS integration",optional:!0},{id:"salesforce",name:"Salesforce",icon:"\u2601\ufe0f",category:"CRM",description:"Salesforce CRM integration",optional:!0},{id:"hubspot",name:"HubSpot",icon:"\ud83c\udfaf",category:"CRM",description:"HubSpot marketing & CRM",optional:!0},{id:"experian",name:"Experian",icon:"\ud83d\udcb3",category:"Credit",description:"Experian credit reports",optional:!0},{id:"equifax",name:"Equifax",icon:"\ud83d\udcb3",category:"Credit",description:"Equifax credit data",optional:!0},{id:"transunion",name:"TransUnion",icon:"\ud83d\udcb3",category:"Credit",description:"TransUnion credit services",optional:!0},{id:"slack",name:"Slack",icon:"\ud83d\udcac",category:"Communication",description:"Team messaging and alerts"},{id:"teams",name:"Microsoft Teams",icon:"\ud83d\udcac",category:"Communication",description:"Microsoft Teams chat"},{id:"quickbooks",name:"QuickBooks",icon:"\ud83d\udcb0",category:"Accounting",description:"QuickBooks accounting",optional:!0},{id:"xero",name:"Xero",icon:"\ud83d\udcb0",category:"Accounting",description:"Xero accounting software",optional:!0}],le=async()=>{try{const e=localStorage.getItem("token"),t=window.location.hostname.includes("vercel.app")?"":"https://mortgage-crm-production-7a9a.up.railway.app",n=await fetch("".concat(t,"/api/v1/salesforce/status"),{headers:{Authorization:"Bearer ".concat(e)}});if(n.ok){(await n.json()).connected&&(alert("\u2705 Salesforce connected successfully!"),P(e=>Wt(Wt({},e),{},{salesforceConnected:!0})))}}catch(e){console.error("Error checking Salesforce status:",e)}},oe=async()=>{try{const e=localStorage.getItem("token"),t=window.location.hostname.includes("vercel.app")?"":"https://mortgage-crm-production-7a9a.up.railway.app",n=await fetch("".concat(t,"/api/v1/microsoft/status"),{headers:{Authorization:"Bearer ".concat(e)}});if(n.ok){const e=await n.json();e.connected&&(alert("\u2705 Microsoft 365 connected successfully! Your email: "+e.email_address),P(e=>Wt(Wt({},e),{},{microsoftConnected:!0})))}}catch(e){console.error("Error checking Microsoft 365 status:",e)}},ce=()=>{g(null),y({username:"",password:"",apiKey:""}),B(null),b(!1)},de=()=>{const e=[...new Set(ie.map(e=>e.category))];return(0,Te.jsxs)("div",{className:"step-content",children:[(0,Te.jsxs)("div",{className:"step-header",children:[(0,Te.jsx)("div",{className:"step-icon",children:"\ud83d\udd17"}),(0,Te.jsx)("h2",{children:"Integrations"}),(0,Te.jsx)("p",{className:"step-description",children:"Connect your tools and services"})]}),e.map(e=>(0,Te.jsxs)("div",{className:"integration-category",children:[(0,Te.jsx)("h3",{className:"category-title",children:e}),(0,Te.jsx)("div",{className:"integrations-grid",children:ie.filter(t=>t.category===e).map(e=>(0,Te.jsxs)("div",{className:"integration-card ".concat(e.optional?"optional":""),children:[(0,Te.jsxs)("div",{className:"integration-header",children:[(0,Te.jsx)("span",{className:"integration-icon",children:e.icon}),(0,Te.jsx)("h4",{children:e.name}),e.optional&&(0,Te.jsx)("span",{className:"optional-badge",children:"Optional"})]}),(0,Te.jsx)("p",{className:"integration-description",children:e.description}),(0,Te.jsxs)("button",{className:"btn-connect",onClick:()=>(async e=>{if("salesforce"===e.id)try{const e=localStorage.getItem("token"),t=window.location.hostname.includes("vercel.app")?"":"https://mortgage-crm-production-7a9a.up.railway.app",n=await fetch("".concat(t,"/api/v1/salesforce/oauth/start"),{headers:{Authorization:"Bearer ".concat(e)}});if(!n.ok)throw new Error("Failed to initiate Salesforce OAuth");const a=await n.json(),A=600,s=700,r=(window.screen.width-A)/2,i=(window.screen.height-s)/2,l=window.open(a.auth_url,"Salesforce OAuth","width=".concat(A,",height=").concat(s,",left=").concat(r,",top=").concat(i)),o=setInterval(()=>{l&&l.closed&&(clearInterval(o),le())},1e3)}catch(t){console.error("Salesforce OAuth error:",t),alert("Failed to connect to Salesforce. Please ensure the integration is configured in your environment.")}else if("outlook"===e.id)try{const e=localStorage.getItem("token"),t=window.location.hostname.includes("vercel.app")?"":"https://mortgage-crm-production-7a9a.up.railway.app",n=await fetch("".concat(t,"/api/v1/microsoft/oauth/start"),{headers:{Authorization:"Bearer ".concat(e)}});if(!n.ok)throw new Error("Failed to initiate Microsoft 365 OAuth");const a=await n.json(),A=600,s=700,r=(window.screen.width-A)/2,i=(window.screen.height-s)/2,l=window.open(a.auth_url,"Microsoft 365 Login","width=".concat(A,",height=").concat(s,",left=").concat(r,",top=").concat(i)),o=setInterval(()=>{l&&l.closed&&(clearInterval(o),oe())},1e3)}catch(t){console.error("Microsoft 365 OAuth error:",t),alert("Microsoft 365 integration is being configured. Please go to Settings > Integrations to complete the connection with proper OAuth authentication.")}else g(e)})(e),children:["Connect ",e.name]})]},e.id))})]},e))]})},ue=()=>(0,Te.jsxs)("div",{className:"step-content",children:[(0,Te.jsxs)("div",{className:"step-header",children:[(0,Te.jsx)("div",{className:"step-icon",children:"\u2696\ufe0f"}),(0,Te.jsx)("h2",{children:"Compliance & Guardrails"}),(0,Te.jsx)("p",{className:"step-description",children:"Set calling hours, retry limits, and compliance policies"})]}),(0,Te.jsxs)("div",{className:"form-section",children:[(0,Te.jsx)("div",{className:"form-row",children:(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Quiet Hours (Local Time)"}),(0,Te.jsxs)("div",{className:"time-range",children:[(0,Te.jsx)("input",{type:"time",value:L.quietHours.start,onChange:e=>R("quietHours",Wt(Wt({},L.quietHours),{},{start:e.target.value})),className:"input-field"}),(0,Te.jsx)("span",{children:"to"}),(0,Te.jsx)("input",{type:"time",value:L.quietHours.end,onChange:e=>R("quietHours",Wt(Wt({},L.quietHours),{},{end:e.target.value})),className:"input-field"})]}),(0,Te.jsx)("p",{className:"field-hint",children:"AI will only call between these hours"})]})}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Max Retries per Contact"}),(0,Te.jsx)("input",{type:"number",value:L.maxRetries,onChange:e=>R("maxRetries",parseInt(e.target.value)),className:"input-field",min:"1",max:"10"}),(0,Te.jsx)("p",{className:"field-hint",children:"Number of retry attempts with backoff"})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Max Daily Attempts"}),(0,Te.jsx)("input",{type:"number",value:L.maxDailyAttempts,onChange:e=>R("maxDailyAttempts",parseInt(e.target.value)),className:"input-field",min:"1",max:"20"}),(0,Te.jsx)("p",{className:"field-hint",children:"Maximum contact attempts per day"})]})]}),(0,Te.jsxs)("div",{className:"compliance-policies",children:[(0,Te.jsx)("h4",{children:"Policy Acknowledgments"}),(0,Te.jsxs)("label",{className:"policy-checkbox",children:[(0,Te.jsx)("input",{type:"checkbox",checked:L.dncAccepted,onChange:e=>R("dncAccepted",e.target.checked)}),(0,Te.jsx)("span",{children:"I acknowledge compliance with Do Not Call (DNC) regulations"})]}),(0,Te.jsxs)("label",{className:"policy-checkbox",children:[(0,Te.jsx)("input",{type:"checkbox"}),(0,Te.jsx)("span",{children:"I will comply with state-specific recording consent laws"})]}),(0,Te.jsxs)("label",{className:"policy-checkbox",children:[(0,Te.jsx)("input",{type:"checkbox"}),(0,Te.jsx)("span",{children:"I will honor customer opt-out requests immediately"})]})]}),(0,Te.jsxs)("div",{className:"recording-states",children:[(0,Te.jsx)("h4",{children:"Recording Policy by State"}),(0,Te.jsx)("p",{className:"field-hint",children:"Select states where you do business:"}),(0,Te.jsxs)("div",{className:"state-grid",children:[(0,Te.jsxs)("label",{children:[(0,Te.jsx)("input",{type:"checkbox"})," CA (2-party)"]}),(0,Te.jsxs)("label",{children:[(0,Te.jsx)("input",{type:"checkbox"})," TX (1-party)"]}),(0,Te.jsxs)("label",{children:[(0,Te.jsx)("input",{type:"checkbox"})," FL (2-party)"]}),(0,Te.jsxs)("label",{children:[(0,Te.jsx)("input",{type:"checkbox"})," NY (1-party)"]})]})]})]})]}),he=()=>(0,Te.jsxs)("div",{className:"step-content",children:[(0,Te.jsxs)("div",{className:"step-header",children:[(0,Te.jsx)("div",{className:"step-icon",children:"\ud83e\udd16"}),(0,Te.jsx)("h2",{children:"AI Agent Voice & Script"}),(0,Te.jsx)("p",{className:"step-description",children:"Configure your AI assistant's personality and scripts"})]}),(0,Te.jsxs)("div",{className:"form-section",children:[(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Agent Name"}),(0,Te.jsx)("input",{type:"text",value:L.agentName,onChange:e=>R("agentName",e.target.value),className:"input-field",placeholder:"e.g., Samantha, Alex, Jordan"})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Voice Profile"}),(0,Te.jsxs)("select",{value:L.voiceProfile,onChange:e=>R("voiceProfile",e.target.value),className:"input-field",children:[(0,Te.jsx)("option",{value:"elevenlabs-rachel",children:"Rachel (Professional Female)"}),(0,Te.jsx)("option",{value:"elevenlabs-adam",children:"Adam (Professional Male)"}),(0,Te.jsx)("option",{value:"elevenlabs-samantha",children:"Samantha (Friendly Female)"}),(0,Te.jsx)("option",{value:"elevenlabs-josh",children:"Josh (Casual Male)"})]}),(0,Te.jsx)("button",{className:"btn-preview-voice",children:"\u25b6 Preview Voice"})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Identity Line"}),(0,Te.jsx)("textarea",{value:L.identityLine||"This is ".concat(L.agentName,", calling from Tim Loss's office..."),onChange:e=>R("identityLine",e.target.value),className:"textarea-field",rows:"3",placeholder:"This is Samantha, calling from Tim Loss's mortgage office..."}),(0,Te.jsx)("p",{className:"field-hint",children:"How the AI introduces itself on calls"})]}),(0,Te.jsxs)("div",{className:"purpose-prompts",children:[(0,Te.jsx)("h4",{children:"Purpose Prompts"}),(0,Te.jsxs)("div",{className:"prompt-section",children:[(0,Te.jsx)("label",{children:"Annual Review"}),(0,Te.jsx)("textarea",{className:"textarea-field",rows:"3",placeholder:"I'm reaching out for your annual mortgage review. We've found potential savings..."})]}),(0,Te.jsxs)("div",{className:"prompt-section",children:[(0,Te.jsx)("label",{children:"Pre-Approval Follow-up"}),(0,Te.jsx)("textarea",{className:"textarea-field",rows:"3",placeholder:"Following up on your pre-approval application. Do you have time to discuss next steps?"})]}),(0,Te.jsxs)("div",{className:"prompt-section",children:[(0,Te.jsx)("label",{children:"Refinance Opportunity"}),(0,Te.jsx)("textarea",{className:"textarea-field",rows:"3",placeholder:"Rates have dropped significantly. I wanted to discuss potential refinance savings..."})]})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Escalation / Warm Transfer Number"}),(0,Te.jsx)("input",{type:"tel",value:L.escalationNumber,onChange:e=>R("escalationNumber",e.target.value),className:"input-field",placeholder:"+1 (555) 123-4567"}),(0,Te.jsx)("p",{className:"field-hint",children:"Number to transfer to when customer requests human"})]})]})]}),me=()=>{x({feature:"AI Calling Test",message:"This feature is not yet configured. Our team will help you set it up."})},pe=()=>{x({feature:"Calendar Booking Test",message:"This feature requires Calendly integration to be fully configured."})},ge=e=>{const t=e.target.files[0];t&&(N(t),setTimeout(()=>{P(e=>Wt(Wt({},e),{},{testsPassed:Wt(Wt({},e.testsPassed),{},{emailTest:!0})}))},1e3))},fe=()=>{x(null)},xe=()=>{var e,t;return(0,Te.jsxs)("div",{className:"step-content",children:[(0,Te.jsxs)("div",{className:"step-header",children:[(0,Te.jsx)("div",{className:"step-icon",children:"\ud83d\ude80"}),(0,Te.jsx)("h2",{children:"Test & Go-Live"}),(0,Te.jsx)("p",{className:"step-description",children:"Verify everything works before activating your account"})]}),(0,Te.jsxs)("div",{className:"test-checklist",children:[(0,Te.jsx)("h4",{children:"Pre-Launch Checklist"}),(0,Te.jsxs)("div",{className:"test-item",children:[(0,Te.jsxs)("div",{className:"test-header",children:[(0,Te.jsx)("h5",{children:"\ud83d\udcde Test AI Calling"}),L.testsPassed.callTest?(0,Te.jsx)("span",{className:"status-pass",children:"\u2713 Passed"}):(0,Te.jsx)("span",{className:"status-pending",children:"Pending"})]}),(0,Te.jsx)("p",{children:"Call your phone number and verify voice quality, script, and transfer"}),(0,Te.jsx)("input",{type:"tel",placeholder:"Your test phone number",className:"input-field test-input"}),(0,Te.jsx)("button",{className:"btn-test",onClick:me,children:"Run Call Test"})]}),(0,Te.jsxs)("div",{className:"test-item",children:[(0,Te.jsxs)("div",{className:"test-header",children:[(0,Te.jsx)("h5",{children:"\ud83d\udce7 Test Email Parsing"}),L.testsPassed.emailTest?(0,Te.jsx)("span",{className:"status-pass",children:"\u2713 Passed"}):(0,Te.jsx)("span",{className:"status-pending",children:"Pending"})]}),(0,Te.jsx)("p",{children:"Upload a sample email to verify milestone detection"}),C?(0,Te.jsxs)("div",{className:"uploaded-test-file",children:[(0,Te.jsx)("span",{className:"file-icon",children:"\ud83d\udce7"}),(0,Te.jsx)("span",{className:"file-name",children:C.name}),(0,Te.jsx)("span",{className:"status-pass",children:"\u2713 Uploaded"})]}):(0,Te.jsxs)("div",{className:"file-upload-area",children:[(0,Te.jsx)("input",{type:"file",accept:".eml,.msg,.txt",onChange:ge,className:"file-input",id:"email-test-upload"}),(0,Te.jsx)("label",{htmlFor:"email-test-upload",className:"btn-test",children:"Upload Sample Email"})]}),(0,Te.jsx)("div",{className:"email-test-example",children:(0,Te.jsx)("p",{className:"example-hint",children:'Try uploading an "Appraisal Received" email (.eml, .msg, or .txt)'})})]}),(0,Te.jsxs)("div",{className:"test-item",children:[(0,Te.jsxs)("div",{className:"test-header",children:[(0,Te.jsx)("h5",{children:"\ud83d\udcc5 Test Calendar Booking"}),(0,Te.jsx)("span",{className:"status-pending",children:"Optional"})]}),(0,Te.jsx)("p",{children:"Book a test appointment through Calendly integration"}),(0,Te.jsx)("button",{className:"btn-test-secondary",onClick:pe,children:"Test Calendly"})]}),(0,Te.jsxs)("div",{className:"test-item",children:[(0,Te.jsxs)("div",{className:"test-header",children:[(0,Te.jsx)("h5",{children:"\ud83d\udc65 Team Invites Sent"}),(0,Te.jsx)("span",{className:"status-pass",children:"\u2713 Ready"})]}),(0,Te.jsxs)("p",{children:[L.members.length," team members will receive activation emails"]})]})]}),(0,Te.jsxs)("div",{className:"go-live-section",children:[(0,Te.jsxs)("div",{className:"requirements-check",children:[(0,Te.jsx)("h4",{children:"Requirements"}),(0,Te.jsxs)("div",{className:"requirement-item",children:[(0,Te.jsx)("span",{className:(null===(e=L.members)||void 0===e?void 0:e.length)>0&&L.members[0].email?"check-pass":"check-fail",children:(null===(t=L.members)||void 0===t?void 0:t.length)>0&&L.members[0].email?"\u2713":"\u25cb"}),"Team members configured"]}),(0,Te.jsxs)("div",{className:"requirement-item",children:[(0,Te.jsx)("span",{className:L.dncAccepted?"check-pass":"check-fail",children:L.dncAccepted?"\u2713":"\u25cb"}),"Compliance policies accepted"]}),(0,Te.jsxs)("div",{className:"requirement-item",children:[(0,Te.jsx)("span",{className:"check-pass",children:"\u2713"}),"AI agent configured"]})]}),(0,Te.jsxs)("div",{className:"activation-ready",children:[(0,Te.jsx)("p",{className:"ready-message",children:"All systems ready! Click below to activate your account."}),(0,Te.jsx)("p",{className:"ready-hint",children:"Your team will receive login credentials and you'll be redirected to your dashboard."})]})]})]})},ve=o/9*100;return(0,Te.jsxs)("div",{className:"onboarding-overlay",children:[(0,Te.jsxs)("div",{className:"onboarding-wizard-v2",children:[l&&(0,Te.jsx)("button",{className:"btn-close-wizard",onClick:l,title:"Skip for now",children:"\xd7"}),(0,Te.jsxs)("div",{className:"wizard-progress",children:[(0,Te.jsx)("div",{className:"progress-bar-container",children:(0,Te.jsx)("div",{className:"progress-bar-fill",style:{width:"".concat(ve,"%")}})}),(0,Te.jsxs)("div",{className:"progress-text",children:["Step ",o," of ",9]})]}),(0,Te.jsx)("div",{className:"step-indicators",children:[{num:1,label:"Process"},{num:2,label:"Roles"},{num:3,label:"Tasks"},{num:4,label:"Team"},{num:5,label:"Ownership"},{num:6,label:"Integrations"},{num:7,label:"Compliance"},{num:8,label:"AI Agent"},{num:9,label:"Go-Live"}].map(e=>(0,Te.jsxs)("div",{className:"step-indicator ".concat(o>=e.num?"active":""," ").concat(o>e.num?"completed":""),children:[(0,Te.jsx)("div",{className:"indicator-dot",children:o>e.num?"\u2713":e.num}),(0,Te.jsx)("div",{className:"indicator-label",children:e.label})]},e.num))}),(()=>{switch(o){case 1:return se();case 2:return ne();case 3:return ae();case 4:return Ae();case 5:return re();case 6:return de();case 7:return ue();case 8:return he();case 9:return xe();default:return null}})(),(0,Te.jsxs)("div",{className:"wizard-navigation",children:[o>1&&(0,Te.jsx)("button",{className:"btn-nav btn-back",onClick:()=>{o>1&&c(o-1)},children:"\u2190 Back"}),(0,Te.jsx)("div",{className:"nav-spacer"}),(0,Te.jsx)("button",{className:"btn-nav btn-next ".concat(""),onClick:()=>{o<9?c(o+1):O()},disabled:!1,children:9===o?(0,Te.jsx)(Te.Fragment,{children:"Activate Account & Go Live! \ud83d\ude80"}):(0,Te.jsx)(Te.Fragment,{children:"Next \u2192"})})]})]}),f&&(0,Te.jsx)("div",{className:"connection-modal-overlay",onClick:fe,children:(0,Te.jsxs)("div",{className:"connection-modal helpdesk-modal",onClick:e=>e.stopPropagation(),children:[(0,Te.jsx)("button",{className:"btn-close-modal",onClick:fe,children:"\xd7"}),(0,Te.jsxs)("div",{className:"modal-header",children:[(0,Te.jsx)("span",{className:"modal-icon",children:"\ud83c\udfab"}),(0,Te.jsx)("h3",{children:"Submit Support Ticket"}),(0,Te.jsx)("p",{className:"modal-description",children:"Feature Not Yet Available"})]}),(0,Te.jsxs)("div",{className:"modal-body",children:[(0,Te.jsxs)("div",{className:"helpdesk-notice",children:[(0,Te.jsx)("div",{className:"notice-icon",children:"\u2139\ufe0f"}),(0,Te.jsxs)("div",{className:"notice-content",children:[(0,Te.jsx)("h4",{children:f.feature}),(0,Te.jsx)("p",{children:f.message})]})]}),(0,Te.jsxs)("form",{className:"helpdesk-form",onSubmit:e=>{e.preventDefault(),console.log("Helpdesk ticket submitted for:",f.feature),x(null),alert("Support ticket submitted! Our team will contact you shortly.")},children:[(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Your Name"}),(0,Te.jsx)("input",{type:"text",className:"input-field",placeholder:"Full name",required:!0,defaultValue:"".concat((null===(t=L.members[0])||void 0===t?void 0:t.firstName)||""," ").concat((null===(n=L.members[0])||void 0===n?void 0:n.lastName)||"").trim()})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Email Address"}),(0,Te.jsx)("input",{type:"email",className:"input-field",placeholder:"your@email.com",required:!0,defaultValue:(null===(A=L.members[0])||void 0===A?void 0:A.email)||""})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Phone Number (Optional)"}),(0,Te.jsx)("input",{type:"tel",className:"input-field",placeholder:"(555) 123-4567",defaultValue:(null===(s=L.members[0])||void 0===s?void 0:s.phone)||""})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Issue Type"}),(0,Te.jsxs)("select",{className:"input-field",required:!0,children:[(0,Te.jsx)("option",{value:"setup",children:"Setup Assistance"}),(0,Te.jsx)("option",{value:"bug",children:"Report a Bug"}),(0,Te.jsx)("option",{value:"feature",children:"Feature Request"}),(0,Te.jsx)("option",{value:"integration",children:"Integration Help"}),(0,Te.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Additional Details"}),(0,Te.jsx)("textarea",{className:"textarea-field",placeholder:"Please describe what you need help with...",rows:"4",defaultValue:"I need help setting up: ".concat(f.feature)})]}),(0,Te.jsxs)("div",{className:"helpdesk-actions",children:[(0,Te.jsx)("button",{type:"button",className:"btn-cancel",onClick:fe,children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"btn-submit-ticket",children:"Submit Ticket"})]})]}),(0,Te.jsxs)("div",{className:"support-info",children:[(0,Te.jsxs)("p",{className:"support-note",children:["\ud83d\udce7 You can also email us at ",(0,Te.jsx)("strong",{children:"support@mortgagecrm.com"})]}),(0,Te.jsxs)("p",{className:"support-note",children:["\u23f1\ufe0f Average response time: ",(0,Te.jsx)("strong",{children:"2-4 hours"})]})]})]})]})}),p&&(0,Te.jsx)("div",{className:"connection-modal-overlay",onClick:ce,children:(0,Te.jsxs)("div",{className:"connection-modal",onClick:e=>e.stopPropagation(),children:[(0,Te.jsx)("button",{className:"btn-close-modal",onClick:ce,children:"\xd7"}),(0,Te.jsxs)("div",{className:"modal-header",children:[(0,Te.jsx)("span",{className:"modal-icon",children:p.icon}),(0,Te.jsxs)("h3",{children:["Connect to ",p.name]}),(0,Te.jsx)("p",{className:"modal-description",children:p.description})]}),(0,Te.jsx)("div",{className:"modal-body",children:(0,Te.jsxs)("div",{className:"auth-form",children:[(0,Te.jsxs)("div",{className:"auth-provider-logo",children:[(0,Te.jsx)("span",{className:"provider-logo-icon",children:p.icon}),(0,Te.jsx)("h4",{children:p.name})]}),(0,Te.jsx)("p",{className:"auth-instruction",children:"calendly"===p.id?"Enter your Calendly API key to connect your account. You can find your API key in your Calendly settings under Integrations.":"Sign in to your ".concat(p.name," account to authorize access")}),w&&(0,Te.jsxs)("div",{className:"connection-error",style:{padding:"12px",background:"#fee",border:"1px solid #fcc",borderRadius:"8px",color:"#c33",marginBottom:"16px",fontSize:"14px"},children:["\u26a0\ufe0f ",w]}),(0,Te.jsxs)("form",{className:"oauth-form",onSubmit:async e=>{e.preventDefault(),B(null),b(!0);try{if("calendly"===p.id){if(!v.apiKey)return B("API key is required"),void b(!1);const e=await dA(v.apiKey);console.log("Calendly connected:",e),P(e=>Wt(Wt({},e),{},{calendly:Wt(Wt({},e.calendly),{},{connected:!0})})),alert("Calendly connected successfully!"),g(null),y({username:"",password:"",apiKey:""})}else console.log("Connected to ".concat(p.name)),g(null),y({username:"",password:"",apiKey:""})}catch(a){var t,n;console.error("Connection error:",a),B((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||a.message||"Failed to connect. Please check your credentials and try again.")}finally{b(!1)}},children:["calendly"===p.id?(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"API Key *"}),(0,Te.jsx)("input",{type:"text",className:"input-field",placeholder:"Your Calendly API key",value:v.apiKey,onChange:e=>y(Wt(Wt({},v),{},{apiKey:e.target.value})),autoFocus:!0,required:!0}),(0,Te.jsx)("p",{style:{fontSize:"12px",color:"#666",marginTop:"6px"},children:"Get your API key from Calendly \u2192 Settings \u2192 Integrations \u2192 API & Webhooks"})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Email or Username"}),(0,Te.jsx)("input",{type:"text",className:"input-field",placeholder:"Your ".concat(p.name," email"),value:v.username,onChange:e=>y(Wt(Wt({},v),{},{username:e.target.value})),autoFocus:!0})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Password"}),(0,Te.jsx)("input",{type:"password",className:"input-field",placeholder:"Password",value:v.password,onChange:e=>y(Wt(Wt({},v),{},{password:e.target.value}))})]})]}),(0,Te.jsx)("button",{type:"submit",className:"btn-authorize",disabled:j,children:j?"Connecting...":"Authorize Connection"})]}),(0,Te.jsxs)("div",{className:"auth-footer",children:[(0,Te.jsx)("p",{className:"security-note",children:"\ud83d\udd12 Your credentials are encrypted and securely stored. We only access data necessary for the integration."}),(0,Te.jsxs)("div",{className:"permissions-info",children:[(0,Te.jsx)("p",{className:"permissions-title",children:"This integration will be able to:"}),(0,Te.jsxs)("ul",{className:"permissions-list",children:["Email"===p.category&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("li",{children:"Read emails and attachments"}),(0,Te.jsx)("li",{children:"Send emails on your behalf"}),(0,Te.jsx)("li",{children:"Access contact information"})]}),"Calendar"===p.category&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("li",{children:"View and create calendar events"}),(0,Te.jsx)("li",{children:"Send meeting invitations"}),(0,Te.jsx)("li",{children:"Access availability information"})]}),"Phone"===p.category&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("li",{children:"Make and receive calls"}),(0,Te.jsx)("li",{children:"Send and receive SMS messages"}),(0,Te.jsx)("li",{children:"Access call history and recordings"})]}),"Documents"===p.category&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("li",{children:"Upload and download documents"}),(0,Te.jsx)("li",{children:"Create and modify files"}),(0,Te.jsx)("li",{children:"Share documents with clients"})]}),"LOS"===p.category&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("li",{children:"Read loan application data"}),(0,Te.jsx)("li",{children:"Update loan statuses"}),(0,Te.jsx)("li",{children:"Sync borrower information"})]}),"CRM"===p.category&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("li",{children:"Read and write contact data"}),(0,Te.jsx)("li",{children:"Create and update leads"}),(0,Te.jsx)("li",{children:"Sync pipeline information"})]}),"Credit"===p.category&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("li",{children:"Pull credit reports"}),(0,Te.jsx)("li",{children:"View credit scores"}),(0,Te.jsx)("li",{children:"Access credit history"})]}),"Communication"===p.category&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("li",{children:"Send messages to channels"}),(0,Te.jsx)("li",{children:"Create notifications"}),(0,Te.jsx)("li",{children:"Access team information"})]}),"Accounting"===p.category&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("li",{children:"Read transaction data"}),(0,Te.jsx)("li",{children:"Create invoices"}),(0,Te.jsx)("li",{children:"Sync financial records"})]})]})]})]})]})})]})}),U&&(0,Te.jsx)("div",{className:"connection-modal-overlay",onClick:Z,children:(0,Te.jsxs)("div",{className:"connection-modal task-edit-modal",onClick:e=>e.stopPropagation(),children:[(0,Te.jsx)("button",{className:"btn-close-modal",onClick:Z,children:"\xd7"}),(0,Te.jsxs)("div",{className:"modal-header",children:[(0,Te.jsx)("span",{className:"modal-icon",children:"\ud83d\udccb"}),(0,Te.jsx)("h3",{children:"Edit Task"}),(0,Te.jsx)("p",{className:"modal-description",children:"Update task details and assignment"})]}),(0,Te.jsxs)("div",{className:"modal-body",children:[(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Task Name"}),(0,Te.jsx)("input",{type:"text",className:"input-field",value:U.task_name||"",onChange:e=>$("task_name",e.target.value)})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Description"}),(0,Te.jsx)("textarea",{className:"textarea-field",rows:"3",value:U.task_description||"",onChange:e=>$("task_description",e.target.value)})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Assigned Role"}),(0,Te.jsxs)("select",{className:"input-field",value:U.tempRoleId||"",onChange:e=>$("tempRoleId",e.target.value),children:[(0,Te.jsx)("option",{value:"",children:"Select Role"}),null===(r=L.extractedRoles)||void 0===r?void 0:r.map(e=>(0,Te.jsx)("option",{value:e.id,children:e.role_title},e.id))]})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Assigned User (Optional)"}),(0,Te.jsxs)("select",{className:"input-field",value:U.tempUserId||"",onChange:e=>$("tempUserId",e.target.value?parseInt(e.target.value):null),children:[(0,Te.jsx)("option",{value:"",children:"Select User"}),H.map(e=>(0,Te.jsx)("option",{value:e.id,children:e.full_name||e.email},e.id))]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"SLA"}),(0,Te.jsx)("input",{type:"number",className:"input-field",value:U.sla||"",onChange:e=>$("sla",parseInt(e.target.value)||0),min:"1"})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"SLA Unit"}),(0,Te.jsxs)("select",{className:"input-field",value:U.sla_unit||"hours",onChange:e=>$("sla_unit",e.target.value),children:[(0,Te.jsx)("option",{value:"hours",children:"Hours"}),(0,Te.jsx)("option",{value:"days",children:"Days"})]})]})]}),(0,Te.jsx)("div",{className:"form-field",children:(0,Te.jsxs)("label",{className:"checkbox-label",children:[(0,Te.jsx)("input",{type:"checkbox",checked:U.ai_automatable||!1,onChange:e=>$("ai_automatable",e.target.checked)}),(0,Te.jsx)("span",{children:"AI Automatable"})]})}),(0,Te.jsxs)("div",{className:"modal-actions",children:[(0,Te.jsx)("button",{className:"btn-cancel",onClick:Z,children:"Cancel"}),(0,Te.jsx)("button",{className:"btn-save",onClick:async()=>{if(U)try{const e={task_name:U.task_name,task_description:U.task_description,role_id:U.tempRoleId||U.role_id,assigned_user_id:U.tempUserId||U.assigned_user_id,sla:U.sla,sla_unit:U.sla_unit,ai_automatable:U.ai_automatable},t=await AA(U.id,e);P(e=>{const n=e.extractedTasks.map(e=>e.id===U.id?t:e);return Wt(Wt({},e),{},{extractedTasks:n})}),S(null)}catch(e){console.error("Failed to save task:",e),alert("Failed to save task changes. Please try again.")}},children:"Save Changes"})]})]})]})}),k&&(0,Te.jsx)("div",{className:"connection-modal-overlay",onClick:te,children:(0,Te.jsxs)("div",{className:"connection-modal role-add-modal",onClick:e=>e.stopPropagation(),children:[(0,Te.jsx)("button",{className:"btn-close-modal",onClick:te,children:"\xd7"}),(0,Te.jsxs)("div",{className:"modal-header",children:[(0,Te.jsx)("span",{className:"modal-icon",children:"\ud83d\udc65"}),(0,Te.jsx)("h3",{children:"Add New Role"}),(0,Te.jsx)("p",{className:"modal-description",children:"Create a custom role for your team"})]}),(0,Te.jsxs)("div",{className:"modal-body",children:[(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Role Title *"}),(0,Te.jsx)("input",{type:"text",className:"input-field",placeholder:"e.g., Senior Loan Officer",value:_.role_title,onChange:e=>I(Wt(Wt({},_),{},{role_title:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Role Name (Internal) *"}),(0,Te.jsx)("input",{type:"text",className:"input-field",placeholder:"e.g., senior_loan_officer",value:_.role_name,onChange:e=>I(Wt(Wt({},_),{},{role_name:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Responsibilities"}),(0,Te.jsx)("textarea",{className:"textarea-field",rows:"3",placeholder:"Describe what this role is responsible for...",value:_.responsibilities,onChange:e=>I(Wt(Wt({},_),{},{responsibilities:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"modal-actions",children:[(0,Te.jsx)("button",{className:"btn-cancel",onClick:te,children:"Cancel"}),(0,Te.jsx)("button",{className:"btn-save",onClick:()=>{if(!_.role_title||!_.role_name)return void alert("Please enter both role title and role name");const e={id:"role_".concat(Date.now()),role_title:_.role_title,role_name:_.role_name,responsibilities:_.responsibilities,skills_required:_.skills_required,key_activities:_.key_activities};P(t=>Wt(Wt({},t),{},{extractedRoles:[...t.extractedRoles||[],e]})),E(!1)},children:"Add Role"})]})]})]})})]})},EA=()=>{const e=$();return(0,Te.jsx)("div",{className:"onboarding-page",children:(0,Te.jsx)(kA,{onComplete:()=>{try{const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);t.onboarding_completed=!0,localStorage.setItem("user",JSON.stringify(t))}}catch(t){console.error("Error updating user data:",t)}e("/dashboard")},onSkip:()=>{try{const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);t.onboarding_completed=!0,localStorage.setItem("user",JSON.stringify(t))}}catch(t){console.error("Error updating user data:",t)}e("/dashboard")}})})};const _A=()=>[{title:"Follow up on pre-approval",borrower:"Sarah Johnson",stage:"Pre-Approved",urgency:"high",ai_action:"AI can send follow-up email \u2014 approve?"},{title:"Upload missing documents",borrower:"Mike Chen",stage:"Processing",urgency:"critical",ai_action:null},{title:"Schedule appraisal",borrower:"Emily Davis",stage:"Application Complete",urgency:"medium",ai_action:"AI can schedule appraisal \u2014 approve?"}],IA=()=>[{id:"new",name:"New Leads",count:12,alerts:3,alert_text:"follow-ups",volume:null},{id:"preapproved",name:"Pre-Approved",count:18,alerts:2,alert_text:"docs needed",volume:null},{id:"processing",name:"In Processing",count:11,alerts:4,alert_text:"delayed",volume:41e5},{id:"underwriting",name:"In Underwriting",count:7,alerts:1,alert_text:"suspended",volume:28e5},{id:"ctc",name:"Clear to Close",count:4,alerts:0,alert_text:"",volume:13e5},{id:"funded",name:"Funded This Month",count:9,alerts:0,alert_text:"",volume:34e5}],HA=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.annualGoal||222,n=e.monthlyGoal||18.5,a=e.weeklyGoal||5,A=e.dailyGoal||1;return{funded:9,projected:14,volume:34e5,target:6e6,progress:57,ai_projection:59e5,projection_change:12,annualGoal:t,annualActual:189,annualProgress:Math.round(189/t*100),monthlyGoal:n,monthlyActual:14,monthlyProgress:Math.round(14/n*100),weeklyGoal:a,weeklyActual:4,weeklyProgress:Math.round(4/a*100),dailyGoal:A,dailyActual:1,dailyProgress:Math.round(1/A*100)}},TA=()=>({new_today:3,avg_contact_time:1.2,conversion_rate:23,hot_leads:5,alerts:["3 leads haven't been contacted in 24 hours.","2 leads showed high buying intent in email.","A referral partner sent you a lead and you haven't responded."]}),LA=()=>[{borrower:"John Smith",issue:"Appraisal delay",time_remaining:"2 days",time_color:"#f59e0b",action:"Follow up"},{borrower:"Jane Doe",issue:"Insurance missing",time_remaining:"5 hours",time_color:"#dc2626",action:"Send reminder"}],PA=()=>({pending:[{id:1,task:"Draft follow-up email to Sarah Johnson",confidence:94,what_ai_did:"Composed personalized email based on last conversation"},{id:2,task:"Schedule appointment with Mike Chen",confidence:87,what_ai_did:"Found mutual availability on calendar for Thursday 2pm"}],waiting:[{task:"Approve rate lock for Emily Davis file"},{task:"Review updated credit report for John Smith"}]}),DA=()=>({top_partners:[{name:"Amy Smith (Realtor)",received:8,sent:7,balance:1},{name:"Bob Johnson (Builder)",received:5,sent:6,balance:-1}],engagement:[{partner:"Amy Smith",last_contact:"3 days ago",suggestion:"Send update on Jane Doe's file"}]}),OA=()=>({has_team:!0,avg_workload:8,backlog:23,sla_missed:2,insights:["You lose 18% of leads between docs requested \u2192 docs received.","Your turn time on disclosures is 40% slower than peers."]}),RA=()=>[{id:1,type:"email",type_icon:"\ud83d\udce7",from:"Sarah Johnson",client_type:"Active Loan",source:"Outlook",preview:"Quick question about my pre-approval...",full_message:"Hi, I wanted to check on the expiration date for my pre-approval letter. Can you help?",ai_summary:"Client asking about pre-approval expiration date - needs response by EOD",timestamp:"2 hours ago",read:!1,task_created:!0,task_id:"TSK-1234",requires_response:!0},{id:2,type:"text",type_icon:"\ud83d\udcac",from:"Mike Chen",client_type:"Lead",source:"Teams",preview:"Thanks for the rate quote! When can we schedule a call?",full_message:"Thanks for the rate quote! When can we schedule a call to discuss next steps?",ai_summary:"Lead requesting callback to discuss loan options",timestamp:"4 hours ago",read:!1,task_created:!0,task_id:"TSK-1235",requires_response:!0},{id:3,type:"voicemail",type_icon:"\ud83c\udfa4",from:"Lisa Brown",client_type:"Portfolio Client",source:"Phone",preview:"Voicemail (1:23) - Interested in refinancing...",full_message:"[Voicemail transcription] Hi, this is Lisa Brown. I saw rates dropped and wanted to talk about refinancing my mortgage. Please call me back at 555-0123.",ai_summary:"Portfolio client interested in refinance opportunity - high priority",timestamp:"6 hours ago",read:!1,task_created:!0,task_id:"TSK-1236",requires_response:!0,duration:"1:23"},{id:4,type:"email",type_icon:"\ud83d\udce7",from:"Tom Wilson",client_type:"Portfolio Client",source:"Outlook",preview:"Happy anniversary! Thanks for the card.",full_message:"Thank you so much for remembering my home purchase anniversary! The card was very thoughtful.",ai_summary:"Client thanking for anniversary card - positive relationship building",timestamp:"1 day ago",read:!0,task_created:!1,requires_response:!1},{id:5,type:"text",type_icon:"\ud83d\udcac",from:"Jennifer Davis",client_type:"Active Loan",source:"Teams",preview:"Just uploaded the bank statements you requested",full_message:"Hi! I just uploaded my bank statements to the portal. Let me know if you need anything else.",ai_summary:"Client uploaded required documents - verify completion",timestamp:"1 day ago",read:!1,task_created:!0,task_id:"TSK-1237",requires_response:!0},{id:6,type:"voicemail",type_icon:"\ud83c\udfa4",from:"Robert Kim",client_type:"Lead",source:"Phone",preview:"Voicemail (0:45) - Returning your call...",full_message:"[Voicemail transcription] Hey, this is Robert Kim returning your call about the first-time homebuyer program. Give me a call when you can.",ai_summary:"Lead returning call about first-time homebuyer program",timestamp:"2 days ago",read:!0,task_created:!1,requires_response:!1,duration:"0:45"}],MA=()=>({overallScore:78,trend:5,stages:[{name:"Lead Intake",efficiency:92,status:"on-track"},{name:"Pre-Approval",efficiency:85,status:"on-track"},{name:"Contract",efficiency:78,status:"slightly-delayed"},{name:"Processing",efficiency:65,status:"behind"},{name:"Underwriting",efficiency:88,status:"on-track"},{name:"Conditions",efficiency:58,status:"behind"},{name:"CTC",efficiency:82,status:"on-track"},{name:"Closing",efficiency:90,status:"on-track"}],team:[{role:"Loan Officer",performance:85},{role:"App Analyst",performance:92},{role:"Processor",performance:68},{role:"Concierge",performance:88}],bottleneckCount:8,bottlenecks:["5 loans stuck in Conditions > 72 hours","3 loans waiting on borrower docs","2 loans with unreviewed appraisal reports"]}),KA=function(){const e=$(),[t,n]=(0,a.useState)(!0),[A,s]=(0,a.useState)([]),[r,i]=(0,a.useState)([]),[l,o]=(0,a.useState)({}),[c,d]=(0,a.useState)({}),[u,h]=(0,a.useState)([]),[m,p]=(0,a.useState)({pending:[],waiting:[]}),[g,f]=(0,a.useState)({}),[x,v]=(0,a.useState)({}),[y,w]=(0,a.useState)([]),[B,j]=(0,a.useState)({}),[b,C]=(0,a.useState)(null),[N,Q]=(0,a.useState)(["ai-alerts","production-tracker","efficiency","ai-tasks","pipeline","referrals","team"]);(0,a.useEffect)(()=>{S(),F()},[]);const F=()=>{try{const e=["ai-alerts","production-tracker","efficiency","ai-tasks","pipeline","referrals","team"],t=localStorage.getItem("dashboardOrder");if(t){const n=JSON.parse(t),a=e.filter(e=>!n.includes(e));if(a.length>0){const e=n.indexOf("production-tracker"),t=[...n];t.splice(e+1,0,...a),Q(t),U(t)}else Q(n)}}catch(e){console.error("Failed to load container order:",e)}},U=e=>{try{localStorage.setItem("dashboardOrder",JSON.stringify(e))}catch(t){console.error("Failed to save container order:",t)}},S=async()=>{try{n(!0);const e="https://mortgage-crm-production-7a9a.up.railway.app",t=await fetch("".concat(e,"/api/v1/dashboard"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch dashboard data");const a=await t.json();s(a.prioritized_tasks||[]),i(a.pipeline_stats||[]),o(a.production||{}),d(a.lead_metrics||{}),h(a.loan_issues||[]),p(a.ai_tasks||{pending:[],waiting:[]}),f(a.referral_stats||{}),v(a.team_stats||{}),w(a.messages||[]),j(a.efficiency||{})}catch(e){console.error("Failed to load dashboard:",e);const t=(()=>{try{const e=localStorage.getItem("goalTrackerInputs");if(e){const t=JSON.parse(e),n=t.annualClosingsDollarGoal/t.avgLoanAmount/t.pullThroughRate,a=n/52;return{annualGoal:n,monthlyGoal:n/12,weeklyGoal:a,dailyGoal:a/5}}}catch(e){console.error("Failed to load goal tracker data:",e)}return{annualGoal:222,monthlyGoal:18.5,weeklyGoal:5,dailyGoal:1}})();s(_A()),i(IA()),o(HA(t)),d(TA()),h(LA()),p(PA()),f(DA()),v(OA()),w(RA()),j(MA())}finally{n(!1)}},k=e=>{C(e)},E=(e,t)=>{if(e.preventDefault(),null===b||b===t)return;const n=[...N],a=n[b];n.splice(b,1),n.splice(t,0,a),Q(n),C(t)},_=()=>{C(null),U(N)},I=()=>{let e=0;return e+=A.length,e+=u.length,e+=m.pending.length,e+=m.waiting.length,e+=(c.alerts||[]).length,e+=y.filter(e=>!e.read).length,e},H=e=>e?Number(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00";return t?(0,Te.jsx)("div",{className:"dashboard",children:(0,Te.jsxs)("div",{className:"loading-state",children:[(0,Te.jsx)("div",{className:"loading-spinner"}),(0,Te.jsx)("p",{children:"Loading your command center..."})]})}):(0,Te.jsxs)("div",{className:"dashboard",children:[(0,Te.jsxs)("div",{className:"dashboard-header-compact",children:[(0,Te.jsxs)("h1",{children:["Today's Command Center"," ",(0,Te.jsxs)("span",{className:"task-count-badge",children:["(",I(),")"]})]}),(0,Te.jsx)("div",{className:"header-date",children:(new Date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]}),(0,Te.jsx)("div",{className:"draggable-containers-wrapper",children:N.map((t,n)=>((t,n)=>{const a=b===n;return"ai-alerts"===t?(0,Te.jsxs)("div",{className:"ai-alerts-container draggable-container ".concat(a?"dragging":""),onDragOver:e=>E(e,n),onDragEnd:_,children:[(0,Te.jsx)("div",{className:"drag-handle",title:"Drag to reorder",draggable:"true",onDragStart:()=>k(n),children:"\u22ee\u22ee"}),(0,Te.jsxs)("div",{className:"ai-alerts-header",children:[(0,Te.jsx)("span",{className:"alerts-icon",children:"\ud83d\udea8"}),(0,Te.jsx)("h3",{children:"AI Alerts"})]}),(0,Te.jsx)("div",{className:"ai-alerts-list",children:c.alerts&&c.alerts.filter(e=>e).map((e,t)=>(0,Te.jsxs)("div",{className:"ai-alert-row",children:[(0,Te.jsx)("span",{className:"alert-bullet",children:"\u25cf"}),(0,Te.jsx)("span",{className:"alert-text",children:e})]},t))})]},t):"production-tracker"===t?(0,Te.jsxs)("div",{className:"dashboard-block production-tracker-block-standalone draggable-container ".concat(a?"dragging":""),onDragOver:e=>E(e,n),onDragEnd:_,children:[(0,Te.jsx)("div",{className:"drag-handle",title:"Drag to reorder",draggable:"true",onDragStart:()=>k(n),children:"\u22ee\u22ee"}),(0,Te.jsx)("div",{className:"block-header clickable-block",onClick:()=>e("/goal-tracker"),children:(0,Te.jsx)("h2",{children:"\ud83d\udcb0 Monthly Production Tracker"})}),(0,Te.jsxs)("div",{className:"production-kpis",children:[(0,Te.jsxs)("div",{className:"kpi-card",children:[(0,Te.jsx)("div",{className:"kpi-label",children:"Annual Origination Goal"}),(0,Te.jsxs)("div",{className:"kpi-values",children:[(0,Te.jsxs)("div",{className:"kpi-row",children:[(0,Te.jsx)("span",{className:"kpi-caption",children:"Goal:"}),(0,Te.jsx)("span",{className:"kpi-number",children:H(l.annualGoal)})]}),(0,Te.jsxs)("div",{className:"kpi-row",children:[(0,Te.jsx)("span",{className:"kpi-caption",children:"Actual:"}),(0,Te.jsx)("span",{className:"kpi-number highlight",children:H(l.annualActual)})]}),(0,Te.jsx)("div",{className:"kpi-progress-bar",children:(0,Te.jsx)("div",{className:"kpi-progress-fill",style:{width:"".concat(l.annualProgress||0,"%")}})}),(0,Te.jsxs)("div",{className:"kpi-percentage",children:[l.annualProgress||0,"% of Goal"]})]})]}),(0,Te.jsxs)("div",{className:"kpi-card",children:[(0,Te.jsx)("div",{className:"kpi-label",children:"Monthly Units Goal"}),(0,Te.jsxs)("div",{className:"kpi-values",children:[(0,Te.jsxs)("div",{className:"kpi-row",children:[(0,Te.jsx)("span",{className:"kpi-caption",children:"Goal:"}),(0,Te.jsx)("span",{className:"kpi-number",children:H(l.monthlyGoal)})]}),(0,Te.jsxs)("div",{className:"kpi-row",children:[(0,Te.jsx)("span",{className:"kpi-caption",children:"Actual:"}),(0,Te.jsx)("span",{className:"kpi-number highlight",children:H(l.monthlyActual)})]}),(0,Te.jsx)("div",{className:"kpi-progress-bar",children:(0,Te.jsx)("div",{className:"kpi-progress-fill",style:{width:"".concat(l.monthlyProgress||0,"%")}})}),(0,Te.jsxs)("div",{className:"kpi-percentage",children:[l.monthlyProgress||0,"% of Goal"]})]})]}),(0,Te.jsxs)("div",{className:"kpi-card",children:[(0,Te.jsx)("div",{className:"kpi-label",children:"Weekly Units Goal"}),(0,Te.jsxs)("div",{className:"kpi-values",children:[(0,Te.jsxs)("div",{className:"kpi-row",children:[(0,Te.jsx)("span",{className:"kpi-caption",children:"Goal:"}),(0,Te.jsx)("span",{className:"kpi-number",children:H(l.weeklyGoal)})]}),(0,Te.jsxs)("div",{className:"kpi-row",children:[(0,Te.jsx)("span",{className:"kpi-caption",children:"Actual:"}),(0,Te.jsx)("span",{className:"kpi-number highlight",children:H(l.weeklyActual)})]}),(0,Te.jsx)("div",{className:"kpi-progress-bar",children:(0,Te.jsx)("div",{className:"kpi-progress-fill",style:{width:"".concat(l.weeklyProgress||0,"%")}})}),(0,Te.jsxs)("div",{className:"kpi-percentage",children:[l.weeklyProgress||0,"% of Goal"]})]})]}),(0,Te.jsxs)("div",{className:"kpi-card",children:[(0,Te.jsx)("div",{className:"kpi-label",children:"Daily Units Goal"}),(0,Te.jsxs)("div",{className:"kpi-values",children:[(0,Te.jsxs)("div",{className:"kpi-row",children:[(0,Te.jsx)("span",{className:"kpi-caption",children:"Goal:"}),(0,Te.jsx)("span",{className:"kpi-number",children:H(l.dailyGoal)})]}),(0,Te.jsxs)("div",{className:"kpi-row",children:[(0,Te.jsx)("span",{className:"kpi-caption",children:"Actual:"}),(0,Te.jsx)("span",{className:"kpi-number highlight",children:H(l.dailyActual)})]}),(0,Te.jsx)("div",{className:"kpi-progress-bar",children:(0,Te.jsx)("div",{className:"kpi-progress-fill",style:{width:"".concat(l.dailyProgress||0,"%")}})}),(0,Te.jsxs)("div",{className:"kpi-percentage",children:[l.dailyProgress||0,"% of Goal"]})]})]})]}),(0,Te.jsxs)("div",{className:"ai-insights-section",children:[(0,Te.jsxs)("div",{className:"ai-insights-header",children:[(0,Te.jsx)("span",{className:"insights-icon",children:"\ud83d\udca1"}),(0,Te.jsx)("h3",{children:"AI Coaching Insights"})]}),(0,Te.jsxs)("div",{className:"insights-list",children:[l.annualProgress<75&&(0,Te.jsxs)("div",{className:"insight-item warning",children:[(0,Te.jsx)("span",{className:"insight-icon",children:"\u26a0\ufe0f"}),(0,Te.jsxs)("span",{className:"insight-text",children:["You're at ",l.annualProgress,"% of your annual goal. Consider increasing your lead generation activities to stay on track."]})]}),l.monthlyProgress>100&&(0,Te.jsxs)("div",{className:"insight-item success",children:[(0,Te.jsx)("span",{className:"insight-icon",children:"\ud83c\udf89"}),(0,Te.jsxs)("span",{className:"insight-text",children:["Excellent! You've exceeded your monthly goal by ",(l.monthlyProgress-100).toFixed(0),"%. Keep up the great work!"]})]}),l.monthlyProgress<50&&(0,Te.jsxs)("div",{className:"insight-item warning",children:[(0,Te.jsx)("span",{className:"insight-icon",children:"\ud83d\udcc8"}),(0,Te.jsxs)("span",{className:"insight-text",children:["You're only at ",l.monthlyProgress,"% of your monthly goal. Focus on converting your pipeline to close more deals this month."]})]}),l.weeklyProgress<80&&l.weeklyProgress>0&&(0,Te.jsxs)("div",{className:"insight-item info",children:[(0,Te.jsx)("span",{className:"insight-icon",children:"\ud83d\udcca"}),(0,Te.jsxs)("span",{className:"insight-text",children:["Weekly progress is at ",l.weeklyProgress,"%. Review your pipeline and prioritize hot leads to finish strong."]})]}),0===l.dailyActual&&(0,Te.jsxs)("div",{className:"insight-item info",children:[(0,Te.jsx)("span",{className:"insight-icon",children:"\ud83c\udfaf"}),(0,Te.jsx)("span",{className:"insight-text",children:"No units closed today yet. Connect with your active deals to move them towards closing."})]}),l.annualProgress>=75&&l.annualProgress<90&&(0,Te.jsxs)("div",{className:"insight-item success",children:[(0,Te.jsx)("span",{className:"insight-icon",children:"\u2728"}),(0,Te.jsxs)("span",{className:"insight-text",children:["You're ",(100-l.annualProgress).toFixed(0),"% away from your annual goal. Maintain your current pace to finish strong!"]})]})]})]})]},t):"efficiency"===t?(0,Te.jsxs)("div",{className:"dashboard-block efficiency-block draggable-container ".concat(a?"dragging":""),onDragOver:e=>E(e,n),onDragEnd:_,children:[(0,Te.jsx)("div",{className:"drag-handle",title:"Drag to reorder",draggable:"true",onDragStart:()=>k(n),children:"\u22ee\u22ee"}),(0,Te.jsx)("div",{className:"block-header",children:(0,Te.jsx)("h2",{children:"\ud83d\udcca Loan Efficiency Monitor"})}),(0,Te.jsx)("div",{className:"efficiency-summary",children:(0,Te.jsxs)("div",{className:"efficiency-score-display",children:[(0,Te.jsx)("div",{className:"score-number",children:B.overallScore||0}),(0,Te.jsx)("div",{className:"score-label",children:"Pipeline Efficiency"}),(0,Te.jsxs)("div",{className:"score-trend ".concat((B.trend||0)>=0?"up":"down"),children:[(B.trend||0)>=0?"\u2191":"\u2193"," ",Math.abs(B.trend||0),"% (7 days)"]})]})}),(0,Te.jsxs)("div",{className:"efficiency-cards",children:[(0,Te.jsxs)("div",{className:"efficiency-card stage-efficiency",children:[(0,Te.jsx)("h4",{children:"Stage Efficiency"}),(0,Te.jsx)("div",{className:"stage-bars",children:(B.stages||[]).map((e,t)=>(0,Te.jsxs)("div",{className:"stage-bar-row",children:[(0,Te.jsx)("span",{className:"stage-name",children:e.name}),(0,Te.jsx)("div",{className:"stage-bar-container",children:(0,Te.jsx)("div",{className:"stage-bar ".concat(e.status),style:{width:"".concat(e.efficiency,"%")}})}),(0,Te.jsxs)("span",{className:"stage-percent",children:[e.efficiency,"%"]})]},t))})]}),(0,Te.jsxs)("div",{className:"efficiency-card team-efficiency",children:[(0,Te.jsx)("h4",{children:"Team Efficiency"}),(0,Te.jsx)("div",{className:"team-roles",children:(B.team||[]).map((e,t)=>(0,Te.jsxs)("div",{className:"team-role-row",children:[(0,Te.jsx)("span",{className:"role-name",children:e.role}),(0,Te.jsx)("div",{className:"role-bar-container",children:(0,Te.jsx)("div",{className:"role-bar ".concat(e.performance>=80?"high":e.performance>=60?"medium":"low"),style:{width:"".concat(e.performance,"%")}})}),(0,Te.jsxs)("span",{className:"role-percent",children:[e.performance,"%"]})]},t))})]}),(0,Te.jsxs)("div",{className:"efficiency-card bottlenecks",children:[(0,Te.jsx)("h4",{children:"Active Bottlenecks"}),(0,Te.jsx)("div",{className:"bottleneck-count",children:B.bottleneckCount||0}),(0,Te.jsx)("div",{className:"bottleneck-list",children:(B.bottlenecks||[]).slice(0,3).map((e,t)=>(0,Te.jsxs)("div",{className:"bottleneck-item",children:[(0,Te.jsx)("span",{className:"bottleneck-icon",children:"\u26a0\ufe0f"}),(0,Te.jsx)("span",{className:"bottleneck-text",children:e})]},t))})]})]}),(0,Te.jsx)("button",{className:"btn-view-efficiency",onClick:()=>e("/dashboard/efficiency"),children:"View Full Efficiency Report \u2192"})]},t):"ai-tasks"===t?(0,Te.jsxs)("div",{className:"dashboard-block ai-tasks-block draggable-container ".concat(a?"dragging":""),onDragOver:e=>E(e,n),onDragEnd:_,children:[(0,Te.jsx)("div",{className:"drag-handle",title:"Drag to reorder",draggable:"true",onDragStart:()=>k(n),children:"\u22ee\u22ee"}),(0,Te.jsxs)("div",{className:"block-header clickable-block",onClick:()=>e("/tasks"),children:[(0,Te.jsx)("h2",{children:"\ud83c\udfaf AI Prioritized Tasks (Today)"}),(0,Te.jsxs)("span",{className:"task-count",children:[I()," tasks"]})]}),(0,Te.jsxs)("div",{className:"task-summary-view",children:[(0,Te.jsxs)("div",{className:"task-count-display",children:[(0,Te.jsx)("div",{className:"count-number",children:I()}),(0,Te.jsx)("div",{className:"count-label",children:"Outstanding Tasks"})]}),(0,Te.jsx)("div",{className:"click-to-view",children:(0,Te.jsx)("p",{children:"Click to view all tasks \u2192"})})]})]},t):"pipeline"===t?(0,Te.jsxs)("div",{className:"dashboard-block pipeline-block draggable-container ".concat(a?"dragging":""),onDragOver:e=>E(e,n),onDragEnd:_,children:[(0,Te.jsx)("div",{className:"drag-handle",title:"Drag to reorder",draggable:"true",onDragStart:()=>k(n),children:"\u22ee\u22ee"}),(0,Te.jsx)("div",{className:"block-header",children:(0,Te.jsx)("h2",{children:"\ud83d\udcbc Live Loan Pipeline"})}),(0,Te.jsx)("div",{className:"pipeline-table",children:(0,Te.jsxs)("table",{children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{children:"Stage"}),(0,Te.jsx)("th",{children:"Count"}),(0,Te.jsx)("th",{children:"Alerts"}),(0,Te.jsx)("th",{children:"Funding $"})]})}),(0,Te.jsx)("tbody",{children:r.filter(e=>e&&e.name).map((t,n)=>(0,Te.jsxs)("tr",{onClick:()=>e("/loans?stage=".concat(t.id)),className:"clickable-row",children:[(0,Te.jsx)("td",{children:(0,Te.jsx)("strong",{children:t.name})}),(0,Te.jsx)("td",{children:t.count}),(0,Te.jsxs)("td",{children:[t.alerts>0&&(0,Te.jsxs)("span",{className:"alert-count",children:[t.alerts," ",t.alert_text]}),0===t.alerts&&(0,Te.jsx)("span",{className:"no-issues",children:"no issues"})]}),(0,Te.jsx)("td",{children:t.volume?(0,Te.jsxs)("strong",{children:["$",(t.volume/1e6).toFixed(1),"M"]}):"\u2014"})]},n))})]})})]},t):"referrals"===t?(0,Te.jsxs)("div",{className:"dashboard-block referrals-block draggable-container ".concat(a?"dragging":""),onDragOver:e=>E(e,n),onDragEnd:_,children:[(0,Te.jsx)("div",{className:"drag-handle",title:"Drag to reorder",draggable:"true",onDragStart:()=>k(n),children:"\u22ee\u22ee"}),(0,Te.jsx)("div",{className:"block-header",children:(0,Te.jsx)("h2",{children:"\ud83e\udd1d Referral Scoreboard"})}),(0,Te.jsxs)("div",{className:"referrals-content",children:[(0,Te.jsx)("div",{className:"referral-stats-grid",children:g.top_partners&&g.top_partners.filter(e=>e&&e.name).map((e,t)=>(0,Te.jsxs)("div",{className:"partner-card",children:[(0,Te.jsx)("div",{className:"partner-name",children:e.name}),(0,Te.jsxs)("div",{className:"partner-stats",children:[(0,Te.jsxs)("span",{className:"received",children:["\u2193 ",e.received," received"]}),(0,Te.jsxs)("span",{className:"sent",children:["\u2191 ",e.sent," sent"]})]}),0!==e.balance&&(0,Te.jsx)("div",{className:"balance-alert",children:e.balance>0?"You owe ".concat(e.balance," referral").concat(e.balance>1?"s":""):"Owes you ".concat(Math.abs(e.balance)," referral").concat(Math.abs(e.balance)>1?"s":"")})]},t))}),(0,Te.jsxs)("div",{className:"engagement-heatmap",children:[(0,Te.jsx)("h4",{children:"Partner Engagement"}),g.engagement&&g.engagement.filter(e=>e&&e.partner).map((e,t)=>(0,Te.jsxs)("div",{className:"engagement-item",children:[(0,Te.jsx)("span",{className:"partner",children:e.partner}),(0,Te.jsx)("span",{className:"last-contact",children:e.last_contact}),(0,Te.jsx)("span",{className:"ai-suggestion",children:e.suggestion})]},t))]})]})]},t):"team"===t&&x.has_team?(0,Te.jsxs)("div",{className:"dashboard-block team-block draggable-container ".concat(a?"dragging":""),onDragOver:e=>E(e,n),onDragEnd:_,children:[(0,Te.jsx)("div",{className:"drag-handle",title:"Drag to reorder",draggable:"true",onDragStart:()=>k(n),children:"\u22ee\u22ee"}),(0,Te.jsx)("div",{className:"block-header",children:(0,Te.jsx)("h2",{children:"\ud83d\udc65 Team Performance"})}),(0,Te.jsxs)("div",{className:"team-content",children:[(0,Te.jsxs)("div",{className:"team-metrics",children:[(0,Te.jsxs)("div",{className:"team-metric",children:[(0,Te.jsx)("div",{className:"metric-label",children:"Processor Workload"}),(0,Te.jsxs)("div",{className:"metric-value",children:[x.avg_workload," files/person"]})]}),(0,Te.jsxs)("div",{className:"team-metric",children:[(0,Te.jsx)("div",{className:"metric-label",children:"Task Backlog"}),(0,Te.jsx)("div",{className:"metric-value warn",children:x.backlog})]}),(0,Te.jsxs)("div",{className:"team-metric",children:[(0,Te.jsx)("div",{className:"metric-label",children:"SLA Missed"}),(0,Te.jsx)("div",{className:"metric-value",children:x.sla_missed})]})]}),(0,Te.jsxs)("div",{className:"ai-coaching",children:[(0,Te.jsx)("div",{className:"coaching-title",children:"\ud83c\udf93 AI Coaching Insights"}),x.insights&&x.insights.filter(e=>e).map((e,t)=>(0,Te.jsxs)("div",{className:"coaching-insight",children:[(0,Te.jsx)("span",{className:"insight-icon",children:"\ud83d\udca1"}),e]},t))]})]})]},t):null})(t,n))})]})},GA=e=>{let{email:t,className:n=""}=e;return t?(0,Te.jsx)("a",{href:"mailto:".concat(t),className:"clickable-email ".concat(n),onClick:e=>e.stopPropagation(),children:t}):(0,Te.jsx)("span",{className:"no-value",children:"N/A"})},VA=e=>{let{phone:t,className:n="",showActions:a=!1,onSMSClick:A=null}=e;if(!t)return(0,Te.jsx)("span",{className:"no-value",children:"N/A"});const s=t.replace(/[^0-9+]/g,"");return a?(0,Te.jsxs)("div",{className:"phone-with-actions",onClick:e=>e.stopPropagation(),children:[(0,Te.jsx)("span",{className:"phone-number",children:t}),(0,Te.jsxs)("div",{className:"phone-action-buttons",children:[(0,Te.jsx)("a",{href:"tel:".concat(s),className:"phone-action-btn call-btn",title:"Call",onClick:e=>e.stopPropagation(),children:"\ud83d\udcde"}),A?(0,Te.jsx)("button",{className:"phone-action-btn sms-btn",title:"Send SMS in CRM",onClick:e=>{e.stopPropagation(),A()},children:"\ud83d\udcac"}):(0,Te.jsx)("a",{href:"sms:".concat(s),className:"phone-action-btn sms-btn",title:"Send SMS",onClick:e=>e.stopPropagation(),children:"\ud83d\udcac"})]})]}):(0,Te.jsx)("a",{href:"tel:".concat(s),className:"clickable-phone ".concat(n),onClick:e=>e.stopPropagation(),title:"Click to call",children:t})};const WA=function(e){let{isOpen:t,onClose:n,lead:A}=e;const[s,r]=(0,a.useState)(""),[i,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(""),h=[{id:"intro",name:"Introduction",message:"Hi ".concat((null===A||void 0===A?void 0:A.first_name)||"[Name]",", this is [Your Name] from [Company]. I wanted to reach out regarding your mortgage inquiry. When would be a good time to chat?")},{id:"followup",name:"Follow Up",message:"Hi ".concat((null===A||void 0===A?void 0:A.first_name)||"[Name]",", just following up on our conversation. Do you have any questions about your mortgage options?")},{id:"appointment",name:"Appointment Reminder",message:"Hi ".concat((null===A||void 0===A?void 0:A.first_name)||"[Name]",", this is a reminder about our appointment tomorrow. Looking forward to speaking with you!")},{id:"custom",name:"Custom Message",message:""}],m=async()=>{if(s.trim()){l(!0),c(null);try{const e=await fetch("".concat("https://mortgage-crm-production-7a9a.up.railway.app","/api/v1/sms/send"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({to_number:A.phone,message:s,lead_id:A.id})}),t=await e.json();e.ok?(c({status:"success",message:"SMS sent successfully!",details:t}),r(""),u(""),setTimeout(()=>{n()},2e3)):c({status:"error",message:t.detail||"Failed to send SMS"})}catch(e){c({status:"error",message:"Error: ".concat(e.message)})}finally{l(!1)}}else c({status:"error",message:"Please enter a message"})};if(!t)return null;const p=s.length,g=Math.ceil(p/160);return(0,Te.jsx)("div",{className:"sms-modal-overlay",onClick:n,children:(0,Te.jsxs)("div",{className:"sms-modal",onClick:e=>e.stopPropagation(),children:[(0,Te.jsxs)("div",{className:"sms-modal-header",children:[(0,Te.jsxs)("div",{className:"header-info",children:[(0,Te.jsx)("h2",{children:"\ud83d\udcac Send SMS"}),(0,Te.jsxs)("p",{className:"recipient-info",children:["To: ",(0,Te.jsxs)("strong",{children:[null===A||void 0===A?void 0:A.first_name," ",null===A||void 0===A?void 0:A.last_name]})," (",null===A||void 0===A?void 0:A.phone,")"]})]}),(0,Te.jsx)("button",{className:"btn-close-modal",onClick:n,children:"\xd7"})]}),(0,Te.jsxs)("div",{className:"sms-modal-body",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Quick Templates"}),(0,Te.jsxs)("select",{value:d,onChange:e=>(e=>{u(e);const t=h.find(t=>t.id===e);t&&r(t.message)})(e.target.value),className:"template-select",children:[(0,Te.jsx)("option",{value:"",children:"Select a template..."}),h.map(e=>(0,Te.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Message"}),(0,Te.jsx)("textarea",{className:"message-input",placeholder:"Type your message here...",value:s,onChange:e=>r(e.target.value),onKeyPress:e=>{"Enter"===e.key&&e.ctrlKey&&m()},rows:"6",disabled:i}),(0,Te.jsxs)("div",{className:"message-meta",children:[(0,Te.jsxs)("span",{className:"char-count",children:[p," characters \u2022 ",g," SMS"]}),(0,Te.jsx)("span",{className:"hint",children:"Ctrl + Enter to send"})]})]}),o&&(0,Te.jsxs)("div",{className:"result-message ".concat(o.status),children:[(0,Te.jsx)("span",{className:"result-icon",children:"success"===o.status?"\u2705":"\u274c"}),(0,Te.jsx)("span",{children:o.message})]})]}),(0,Te.jsxs)("div",{className:"sms-modal-footer",children:[(0,Te.jsx)("button",{className:"btn-secondary",onClick:n,disabled:i,children:"Cancel"}),(0,Te.jsx)("button",{className:"btn-primary-sms",onClick:m,disabled:i||!s.trim(),children:i?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("span",{className:"spinner"}),"Sending..."]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("span",{children:"\ud83d\udce4"}),"Send SMS"]})})]})]})})};const JA=function(){const e=$(),[t,n]=(0,a.useState)([]),[A,s]=(0,a.useState)(!0),[r,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)("leads"),[u,h]=(0,a.useState)("All"),[m,p]=(0,a.useState)(0),[g,f]=(0,a.useState)(""),[x,v]=(0,a.useState)(()=>{const e=localStorage.getItem("viewedLeads");return e?new Set(JSON.parse(e)):new Set}),[y,w]=(0,a.useState)(!1),[B,j]=(0,a.useState)(null),[b,C]=(0,a.useState)([{first_name:"",last_name:"",email:"",phone:"",credit_score:"",employment_status:"",annual_income:"",monthly_debts:""}]),[N,Q]=(0,a.useState)({address:"",city:"",state:"",zip_code:"",property_type:"",property_value:"",down_payment:"",first_time_buyer:!1}),[F,U]=(0,a.useState)({loan_type:"",loan_number:"",preapproval_amount:"",source:"",notes:""});(0,a.useEffect)(()=>{S()},[]);const S=async()=>{try{const e=await ga();n(Array.isArray(e)?e:[])}catch(e){console.error("Failed to load leads:",e),n((()=>{const e=new Date;return[{id:1,name:"Sarah Johnson",email:"sarah.johnson@email.com",phone:"(555) 123-4567",stage:"New",source:"Website",credit_score:720,loan_amount:425e3,property_type:"Single Family",created_at:new Date(e.getTime()-1728e5).toISOString(),ai_score:85,next_action:"Initial Contact"},{id:2,name:"Michael Chen",email:"mchen@email.com",phone:"(555) 234-5678",stage:"New",source:"Referral - Amy Smith",credit_score:695,loan_amount:38e4,property_type:"Condo",created_at:new Date(e.getTime()-864e5).toISOString(),ai_score:78,next_action:"Call to Schedule Meeting"},{id:3,name:"Emily Rodriguez",email:"emily.r@email.com",phone:"(555) 345-6789",stage:"New",source:"Social Media",credit_score:0,loan_amount:295e3,property_type:"Townhouse",created_at:new Date(e.getTime()-108e5).toISOString(),ai_score:72,next_action:"Send Pre-Qual Email"},{id:4,name:"David Martinez",email:"david.m@email.com",phone:"(555) 456-7890",stage:"Attempted Contact",source:"Zillow",credit_score:710,loan_amount:55e4,property_type:"Single Family",created_at:new Date(e.getTime()-3456e5).toISOString(),ai_score:80,next_action:"Follow-up Call",contact_attempts:2},{id:5,name:"Jennifer Lee",email:"jlee@email.com",phone:"(555) 567-8901",stage:"Attempted Contact",source:"Facebook",credit_score:685,loan_amount:34e4,property_type:"Condo",created_at:new Date(e.getTime()-432e6).toISOString(),ai_score:65,next_action:"Send SMS",contact_attempts:1},{id:6,name:"Robert Taylor",email:"rtaylor@email.com",phone:"(555) 678-9012",stage:"Prospect",source:"Referral - Bob Johnson",credit_score:745,loan_amount:62e4,property_type:"Single Family",created_at:new Date(e.getTime()-6048e5).toISOString(),ai_score:92,next_action:"Schedule Pre-Approval Meeting"},{id:7,name:"Amanda Wilson",email:"awilson@email.com",phone:"(555) 789-0123",stage:"Prospect",source:"Website",credit_score:702,loan_amount:415e3,property_type:"Townhouse",created_at:new Date(e.getTime()-6912e5).toISOString(),ai_score:88,next_action:"Send Rate Quote"},{id:8,name:"James Anderson",email:"j.anderson@email.com",phone:"(555) 890-1234",stage:"Prospect",source:"Realtor.com",credit_score:678,loan_amount:365e3,property_type:"Single Family",created_at:new Date(e.getTime()-7776e5).toISOString(),ai_score:74,next_action:"Discuss Programs"},{id:9,name:"Lisa Brown",email:"lbrown@email.com",phone:"(555) 901-2345",stage:"Pre-Qualified",source:"Referral - Amy Smith",credit_score:725,loan_amount:485e3,property_type:"Single Family",created_at:new Date(e.getTime()-10368e5).toISOString(),ai_score:90,next_action:"Start Application"},{id:10,name:"Christopher Davis",email:"cdavis@email.com",phone:"(555) 012-3456",stage:"Pre-Qualified",source:"Website",credit_score:698,loan_amount:395e3,property_type:"Condo",created_at:new Date(e.getTime()-12096e5).toISOString(),ai_score:82,next_action:"Find Realtor"},{id:11,name:"Michelle Garcia",email:"mgarcia@email.com",phone:"(555) 123-7890",stage:"Application",source:"Zillow",credit_score:715,loan_amount:535e3,property_type:"Single Family",created_at:new Date(e.getTime()-13824e5).toISOString(),ai_score:87,next_action:"Collect Documents"},{id:12,name:"Daniel Moore",email:"dmoore@email.com",phone:"(555) 234-8901",stage:"Application",source:"Referral - Bob Johnson",credit_score:735,loan_amount:455e3,property_type:"Townhouse",created_at:new Date(e.getTime()-15552e5).toISOString(),ai_score:91,next_action:"Review Application"},{id:13,name:"Patricia Thompson",email:"pthompson@email.com",phone:"(555) 345-9012",stage:"Pre-Approved",source:"Facebook",credit_score:740,loan_amount:575e3,property_type:"Single Family",created_at:new Date(e.getTime()-18144e5).toISOString(),ai_score:94,next_action:"House Hunting"},{id:14,name:"Kevin White",email:"kwhite@email.com",phone:"(555) 456-0123",stage:"Pre-Approved",source:"Website",credit_score:708,loan_amount:41e4,property_type:"Condo",created_at:new Date(e.getTime()-20736e5).toISOString(),ai_score:86,next_action:"Check-in Weekly"},{id:15,name:"Nancy Harris",email:"nharris@email.com",phone:"(555) 567-1234",stage:"Withdrawn",source:"Zillow",credit_score:690,loan_amount:325e3,property_type:"Townhouse",created_at:new Date(e.getTime()-2592e6).toISOString(),ai_score:45,next_action:"None",withdrawal_reason:"Found another lender"},{id:16,name:"Brian Clark",email:"bclark@email.com",phone:"(555) 678-2345",stage:"Does Not Qualify",source:"Social Media",credit_score:580,loan_amount:285e3,property_type:"Single Family",created_at:new Date(e.getTime()-3024e6).toISOString(),ai_score:30,next_action:"Credit Repair Referral",disqualification_reason:"Credit score too low"}]})())}finally{s(!1)}},k=Array.isArray(t)?t:[],E=["Website","Zillow","Facebook","Social Media","Google","Realtor.com","Trulia","Homes.com"];let _=k;"internet"===c?_=k.filter(e=>E.some(t=>{var n;return null===(n=e.source)||void 0===n?void 0:n.includes(t)})):"leads"===c&&(_=k.filter(e=>!E.some(t=>{var n;return null===(n=e.source)||void 0===n?void 0:n.includes(t)})));let I="All"===u?_:_.filter(e=>e.stage===u);if(g.trim()){const e=g.toLowerCase();I=I.filter(t=>{var n,a,A,s;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(a=t.email)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(A=t.phone)||void 0===A?void 0:A.toLowerCase().includes(e))||(null===(s=t.source)||void 0===s?void 0:s.toLowerCase().includes(e))})}const H=()=>{C([{first_name:"",last_name:"",email:"",phone:"",credit_score:"",employment_status:"",annual_income:"",monthly_debts:""}]),Q({address:"",city:"",state:"",zip_code:"",property_type:"",property_value:"",down_payment:"",first_time_buyer:!1}),U({loan_type:"",loan_number:"",preapproval_amount:"",source:"",notes:""}),p(0)},T=()=>{o(null),H(),"internet"===c&&U(e=>Wt(Wt({},e),{},{source:"Website"})),i(!0)},L=(e,t,n)=>{const a=[...b];a[e]=Wt(Wt({},a[e]),{},{[t]:n}),C(a)},P=e=>{if(!e)return!1;const t=new Date(e);return(new Date-t)/36e5<=48},D=e=>!x.has(String(e));if(A)return(0,Te.jsx)("div",{className:"loading",children:"Loading leads..."});const O=b[m]||b[0];return(0,Te.jsxs)("div",{className:"leads-page",children:[(0,Te.jsxs)("div",{className:"page-header",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{children:"Leads"}),(0,Te.jsxs)("p",{children:[I.length," total ","internet"===c?"internet leads":"leads"]})]}),(0,Te.jsx)("button",{className:"btn-primary",onClick:T,children:"+ Add Lead"})]}),(0,Te.jsx)("div",{className:"filter-tabs",children:["All","New","Attempted Contact","Prospect","Application","Pre-Qualified","Pre-Approved","Withdrawn","Does Not Qualify"].map(e=>(0,Te.jsx)("button",{className:"filter-tab ".concat(u===e?"active":""),onClick:()=>h(e),children:e},e))}),(0,Te.jsxs)("div",{className:"main-tabs",children:[(0,Te.jsx)("button",{className:"main-tab ".concat("leads"===c?"active":""),onClick:()=>{d("leads"),h("All")},children:"Leads"}),(0,Te.jsx)("button",{className:"main-tab ".concat("internet"===c?"active":""),onClick:()=>{d("internet"),h("All")},children:"Internet Leads"})]}),(0,Te.jsxs)("div",{className:"search-bar-container",children:[(0,Te.jsx)("input",{type:"text",className:"search-bar",placeholder:"Search leads by name, email, phone, or source...",value:g,onChange:e=>f(e.target.value)}),g&&(0,Te.jsx)("button",{className:"clear-search",onClick:()=>f(""),children:"\xd7"})]}),(0,Te.jsx)("div",{className:"table-container",children:(0,Te.jsxs)("table",{className:"leads-table",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{children:"Name"}),(0,Te.jsx)("th",{children:"Email"}),(0,Te.jsx)("th",{children:"Phone"}),(0,Te.jsx)("th",{children:"Status"}),(0,Te.jsx)("th",{children:"Last Contact"}),(0,Te.jsx)("th",{children:"Source"}),(0,Te.jsx)("th",{children:"Actions"})]})}),(0,Te.jsx)("tbody",{children:I.map(t=>{return(0,Te.jsxs)("tr",{className:P(t.created_at)&&D(t.id)?"new-lead-row":"",onClick:()=>(t=>{console.log("Lead clicked:",t);const n=new Set(x);n.add(String(t)),v(n),localStorage.setItem("viewedLeads",JSON.stringify([...n])),console.log("Navigating to:","/leads/".concat(t)),e("/leads/".concat(t))})(t.id),children:[(0,Te.jsxs)("td",{className:"lead-name",children:[t.name,P(t.created_at)&&D(t.id)&&(0,Te.jsx)("span",{className:"new-lead-badge",children:"NEW"})]}),(0,Te.jsx)("td",{children:(0,Te.jsx)(GA,{email:t.email})}),(0,Te.jsx)("td",{children:(0,Te.jsx)(VA,{phone:t.phone,showActions:!0,onSMSClick:()=>{j(t),w(!0)}})}),(0,Te.jsx)("td",{children:(0,Te.jsx)("span",{className:"status-badge status-".concat((n=t.stage,{New:"blue","Attempted Contact":"purple",Prospect:"yellow",Application:"orange","Pre-Qualified":"teal","Pre-Approved":"cyan",Withdrawn:"red","Does Not Qualify":"gray"}[n]||"gray")),children:t.stage})}),(0,Te.jsx)("td",{children:t.updated_at?new Date(t.updated_at).toLocaleDateString():"N/A"}),(0,Te.jsx)("td",{children:t.source||"N/A"}),(0,Te.jsx)("td",{children:(0,Te.jsxs)("div",{className:"table-actions",children:[(0,Te.jsx)("button",{className:"btn-icon",onClick:e=>{e.stopPropagation(),(e=>{o(e);const t=(e.name||"").split(" "),n=t[0]||"",a=t.slice(1).join(" ")||"";C([{first_name:n,last_name:a,email:e.email||"",phone:e.phone||"",credit_score:e.credit_score||"",employment_status:e.employment_status||"",annual_income:e.annual_income||"",monthly_debts:e.monthly_debts||""}]),Q({address:e.address||"",city:e.city||"",state:e.state||"",zip_code:e.zip_code||"",property_type:e.property_type||"",property_value:e.property_value||"",down_payment:e.down_payment||"",first_time_buyer:e.first_time_buyer||!1}),U({loan_type:e.loan_type||"",loan_number:e.loan_number||"",preapproval_amount:e.preapproval_amount||"",source:e.source||"",notes:e.notes||""}),p(0),i(!0)})(t)},title:"Edit",children:"\u270f\ufe0f"}),(0,Te.jsx)("button",{className:"btn-icon",onClick:e=>{e.stopPropagation(),(async e=>{if(window.confirm("Are you sure you want to delete this lead?"))try{await ya(e),S()}catch(t){console.error("Failed to delete lead:",t),alert("Failed to delete lead")}})(t.id)},title:"Delete",children:"\ud83d\uddd1\ufe0f"})]})})]},t.id);var n})})]})}),0===I.length&&(0,Te.jsxs)("div",{className:"empty-state",children:[(0,Te.jsx)("h3",{children:"No leads found"}),(0,Te.jsx)("p",{children:"Try adjusting your filters or add a new lead"})]}),0===t.length&&(0,Te.jsxs)("div",{className:"empty-state",children:[(0,Te.jsx)("h3",{children:"No leads yet"}),(0,Te.jsx)("p",{children:"Get started by adding your first lead"}),(0,Te.jsx)("button",{className:"btn-primary",onClick:T,children:"+ Add Your First Lead"})]}),r&&(0,Te.jsx)("div",{className:"modal-overlay",onClick:()=>i(!1),children:(0,Te.jsxs)("div",{className:"modal modal-wide",onClick:e=>e.stopPropagation(),children:[(0,Te.jsxs)("div",{className:"modal-header",children:[(0,Te.jsx)("h2",{children:l?"Edit Lead":"New Lead"}),(0,Te.jsx)("button",{className:"close-btn",onClick:()=>i(!1),children:"\xd7"})]}),(0,Te.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=b[0],t="".concat(e.first_name||""," ").concat(e.last_name||"").trim();if(!t)return void alert("Please enter at least a first name or last name");const n=Wt(Wt({name:t,email:e.email,phone:e.phone,credit_score:e.credit_score,employment_status:e.employment_status,annual_income:e.annual_income,monthly_debts:e.monthly_debts},N),F),a=Object.entries(n).reduce((e,t)=>{let[n,a]=t;if("name"===n||"first_time_buyer"===n)return e[n]=a,e;if(""===a||void 0===a||null===a)return e;if(["credit_score","annual_income","monthly_debts","property_value","down_payment","preapproval_amount"].includes(n)){const t=parseFloat(a);isNaN(t)||(e[n]=t)}else e[n]=a;return e},{});console.log("Submitting lead data:",a),l?await va(l.id,a):await xa(a),i(!1),o(null),H(),S()}catch(A){var t,n,a;console.error("Failed to save lead:",A),console.error("Error response:",null===(t=A.response)||void 0===t?void 0:t.data);const e=null!==(n=A.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.detail?"string"===typeof A.response.data.detail?A.response.data.detail:JSON.stringify(A.response.data.detail):A.message;alert("Failed to save lead: "+e)}},children:[(0,Te.jsx)("div",{className:"borrower-tabs",children:(0,Te.jsxs)("div",{className:"tabs-row",children:[b.map((e,t)=>(0,Te.jsxs)("div",{className:"borrower-tab ".concat(m===t?"active":""),onClick:()=>p(t),children:[(0,Te.jsxs)("span",{children:["Borrower ",t+1]}),t>0&&(0,Te.jsx)("button",{type:"button",className:"remove-borrower-btn",onClick:e=>{e.stopPropagation(),(e=>{if(b.length>1&&window.confirm("Remove this borrower?")){const t=b.filter((t,n)=>n!==e);C(t),p(Math.max(0,e-1))}})(t)},title:"Remove borrower",children:"\xd7"})]},t)),(0,Te.jsx)("button",{type:"button",className:"add-borrower-btn",onClick:()=>{C([...b,{first_name:"",last_name:"",email:"",phone:"",credit_score:"",employment_status:"",annual_income:"",monthly_debts:""}]),p(b.length)},title:"Add another borrower",children:"+"})]})}),(0,Te.jsxs)("div",{className:"form-section-title",children:["Borrower ",m+1," Information"]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"First Name *"}),(0,Te.jsx)("input",{type:"text",value:O.first_name,onChange:e=>L(m,"first_name",e.target.value),required:0===m})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Last Name *"}),(0,Te.jsx)("input",{type:"text",value:O.last_name,onChange:e=>L(m,"last_name",e.target.value),required:0===m})]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Email"}),(0,Te.jsx)("input",{type:"email",value:O.email,onChange:e=>L(m,"email",e.target.value)})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Phone"}),(0,Te.jsx)("input",{type:"tel",value:O.phone,onChange:e=>L(m,"phone",e.target.value)})]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Credit Score"}),(0,Te.jsx)("input",{type:"number",value:O.credit_score,onChange:e=>L(m,"credit_score",e.target.value),min:"300",max:"850"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Employment Status"}),(0,Te.jsxs)("select",{value:O.employment_status,onChange:e=>L(m,"employment_status",e.target.value),children:[(0,Te.jsx)("option",{value:"",children:"Select..."}),(0,Te.jsx)("option",{value:"Full-Time",children:"Full-Time"}),(0,Te.jsx)("option",{value:"Part-Time",children:"Part-Time"}),(0,Te.jsx)("option",{value:"Self-Employed",children:"Self-Employed"}),(0,Te.jsx)("option",{value:"Retired",children:"Retired"}),(0,Te.jsx)("option",{value:"Unemployed",children:"Unemployed"})]})]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Annual Income"}),(0,Te.jsx)("input",{type:"number",value:O.annual_income,onChange:e=>L(m,"annual_income",e.target.value),placeholder:"$"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Monthly Debts"}),(0,Te.jsx)("input",{type:"number",value:O.monthly_debts,onChange:e=>L(m,"monthly_debts",e.target.value),placeholder:"$"})]})]}),(0,Te.jsx)("div",{className:"form-section-title",children:"Property Information"}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Property Address"}),(0,Te.jsx)("input",{type:"text",value:N.address,onChange:e=>Q(Wt(Wt({},N),{},{address:e.target.value})),placeholder:"Street address"})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"City"}),(0,Te.jsx)("input",{type:"text",value:N.city,onChange:e=>Q(Wt(Wt({},N),{},{city:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"State"}),(0,Te.jsx)("input",{type:"text",value:N.state,onChange:e=>Q(Wt(Wt({},N),{},{state:e.target.value})),maxLength:"2",placeholder:"CA"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"ZIP Code"}),(0,Te.jsx)("input",{type:"text",value:N.zip_code,onChange:e=>Q(Wt(Wt({},N),{},{zip_code:e.target.value})),maxLength:"10"})]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Property Type"}),(0,Te.jsxs)("select",{value:N.property_type,onChange:e=>Q(Wt(Wt({},N),{},{property_type:e.target.value})),children:[(0,Te.jsx)("option",{value:"",children:"Select..."}),(0,Te.jsx)("option",{value:"Single Family",children:"Single Family"}),(0,Te.jsx)("option",{value:"Condo",children:"Condo"}),(0,Te.jsx)("option",{value:"Townhouse",children:"Townhouse"}),(0,Te.jsx)("option",{value:"Multi-Family",children:"Multi-Family"}),(0,Te.jsx)("option",{value:"Manufactured",children:"Manufactured"})]})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Property Value"}),(0,Te.jsx)("input",{type:"number",value:N.property_value,onChange:e=>Q(Wt(Wt({},N),{},{property_value:e.target.value})),placeholder:"$"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Down Payment"}),(0,Te.jsx)("input",{type:"number",value:N.down_payment,onChange:e=>Q(Wt(Wt({},N),{},{down_payment:e.target.value})),placeholder:"$"})]})]}),(0,Te.jsx)("div",{className:"form-group",children:(0,Te.jsxs)("label",{className:"checkbox-label",children:[(0,Te.jsx)("input",{type:"checkbox",checked:N.first_time_buyer,onChange:e=>Q(Wt(Wt({},N),{},{first_time_buyer:e.target.checked}))}),"First-Time Home Buyer"]})}),(0,Te.jsx)("div",{className:"form-section-title",children:"Loan Details"}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Loan Type"}),(0,Te.jsxs)("select",{value:F.loan_type,onChange:e=>U(Wt(Wt({},F),{},{loan_type:e.target.value})),children:[(0,Te.jsx)("option",{value:"",children:"Select..."}),(0,Te.jsx)("option",{value:"Purchase",children:"Purchase"}),(0,Te.jsx)("option",{value:"Refinance",children:"Refinance"}),(0,Te.jsx)("option",{value:"Cash-Out Refi",children:"Cash-Out Refi"}),(0,Te.jsx)("option",{value:"HELOC",children:"HELOC"})]})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Loan Number"}),(0,Te.jsx)("input",{type:"text",value:F.loan_number,onChange:e=>U(Wt(Wt({},F),{},{loan_number:e.target.value})),placeholder:"Optional loan number"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Preapproval Amount"}),(0,Te.jsx)("input",{type:"number",value:F.preapproval_amount,onChange:e=>U(Wt(Wt({},F),{},{preapproval_amount:e.target.value})),placeholder:"$"})]})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Source *"}),(0,Te.jsxs)("select",{value:F.source,onChange:e=>U(Wt(Wt({},F),{},{source:e.target.value})),required:!0,children:[(0,Te.jsx)("option",{value:"",children:"Select source..."}),(0,Te.jsxs)("optgroup",{label:"Internet Sources",children:[(0,Te.jsx)("option",{value:"Website",children:"Website"}),(0,Te.jsx)("option",{value:"Zillow",children:"Zillow"}),(0,Te.jsx)("option",{value:"Realtor.com",children:"Realtor.com"}),(0,Te.jsx)("option",{value:"Trulia",children:"Trulia"}),(0,Te.jsx)("option",{value:"Homes.com",children:"Homes.com"}),(0,Te.jsx)("option",{value:"Facebook",children:"Facebook"}),(0,Te.jsx)("option",{value:"Social Media",children:"Social Media"}),(0,Te.jsx)("option",{value:"Google",children:"Google"})]}),(0,Te.jsxs)("optgroup",{label:"Referral Sources",children:[(0,Te.jsx)("option",{value:"Referral Partner",children:"Referral Partner"}),(0,Te.jsx)("option",{value:"Real Estate Agent",children:"Real Estate Agent"}),(0,Te.jsx)("option",{value:"Past Client",children:"Past Client"}),(0,Te.jsx)("option",{value:"Friend/Family",children:"Friend/Family"})]}),(0,Te.jsxs)("optgroup",{label:"Other",children:[(0,Te.jsx)("option",{value:"Walk-in",children:"Walk-in"}),(0,Te.jsx)("option",{value:"Phone Call",children:"Phone Call"}),(0,Te.jsx)("option",{value:"Event",children:"Event"}),(0,Te.jsx)("option",{value:"Other",children:"Other"})]})]})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Notes"}),(0,Te.jsx)("textarea",{rows:"3",value:F.notes,onChange:e=>U(Wt(Wt({},F),{},{notes:e.target.value})),placeholder:"Additional notes..."})]}),(0,Te.jsxs)("div",{className:"modal-actions",children:[(0,Te.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>i(!1),children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"btn-primary",children:l?"Update Lead":"Create Lead"})]})]})]})}),B&&(0,Te.jsx)(WA,{isOpen:y,onClose:()=>{w(!1),j(null)},lead:B})]})};const zA=function(e){var t;let{isOpen:n,onClose:A,lead:s}=e;const[r,i]=(0,a.useState)("consultation"),[l,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)("30"),[m,p]=(0,a.useState)(""),[g,f]=(0,a.useState)(""),[x,v]=(0,a.useState)(""),[y,w]=(0,a.useState)(!1),[B,j]=(0,a.useState)(null),b=[{id:"consultation",name:"Initial Consultation",duration:"30"},{id:"followup",name:"Follow-Up Meeting",duration:"15"},{id:"documentation",name:"Document Review",duration:"45"},{id:"closing",name:"Closing Meeting",duration:"60"},{id:"custom",name:"Custom Meeting",duration:"30"}];return n?(0,Te.jsx)("div",{className:"teams-modal-overlay",onClick:A,children:(0,Te.jsxs)("div",{className:"teams-modal",onClick:e=>e.stopPropagation(),children:[(0,Te.jsxs)("div",{className:"teams-modal-header",children:[(0,Te.jsxs)("div",{className:"header-info",children:[(0,Te.jsx)("h2",{children:"\ud83d\udcc5 Create Teams Meeting"}),s&&(0,Te.jsxs)("p",{className:"recipient-info",children:["For: ",(0,Te.jsxs)("strong",{children:[s.first_name," ",s.last_name]}),s.email&&" (".concat(s.email,")")]})]}),(0,Te.jsx)("button",{className:"btn-close-modal",onClick:A,children:"\xd7"})]}),(0,Te.jsxs)("div",{className:"teams-modal-body",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Meeting Type *"}),(0,Te.jsx)("select",{value:r,onChange:e=>(e=>{i(e);const t=b.find(t=>t.id===e);if(t&&(h(t.duration),s)){const t={consultation:"Initial Consultation - ".concat(s.first_name," ").concat(s.last_name),followup:"Follow-Up - ".concat(s.first_name," ").concat(s.last_name),documentation:"Document Review - ".concat(s.first_name," ").concat(s.last_name),closing:"Closing Meeting - ".concat(s.first_name," ").concat(s.last_name),custom:""};p(t[e]||"")}})(e.target.value),className:"meeting-type-select",disabled:y,children:b.map(e=>(0,Te.jsxs)("option",{value:e.id,children:[e.name," (",e.duration," min)"]},e.id))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Meeting Subject *"}),(0,Te.jsx)("input",{type:"text",className:"meeting-input",placeholder:"Enter meeting subject",value:m,onChange:e=>p(e.target.value),disabled:y})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Date *"}),(0,Te.jsx)("input",{type:"date",className:"meeting-input",value:l,onChange:e=>o(e.target.value),min:(new Date).toISOString().split("T")[0],disabled:y})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Time *"}),(0,Te.jsx)("input",{type:"time",className:"meeting-input",value:c,onChange:e=>d(e.target.value),disabled:y})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Duration (min) *"}),(0,Te.jsx)("input",{type:"number",className:"meeting-input",value:u,onChange:e=>h(e.target.value),min:"15",max:"480",step:"15",disabled:y})]})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Additional Attendees (optional)"}),(0,Te.jsx)("input",{type:"text",className:"meeting-input",placeholder:"Enter email addresses, separated by commas",value:g,onChange:e=>f(e.target.value),disabled:y}),(0,Te.jsx)("span",{className:"input-hint",children:"Example: john@example.com, jane@example.com"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Meeting Notes (optional)"}),(0,Te.jsx)("textarea",{className:"meeting-textarea",placeholder:"Add any notes or agenda items...",value:x,onChange:e=>v(e.target.value),rows:"4",disabled:y})]}),B&&(0,Te.jsxs)("div",{className:"result-message ".concat(B.status),children:[(0,Te.jsx)("span",{className:"result-icon",children:"success"===B.status?"\u2705":"\u274c"}),(0,Te.jsxs)("div",{className:"result-content",children:[(0,Te.jsx)("span",{children:B.message}),(null===(t=B.details)||void 0===t?void 0:t.join_url)&&(0,Te.jsx)("a",{href:B.details.join_url,target:"_blank",rel:"noopener noreferrer",className:"meeting-link",children:"\ud83d\udd17 Join Meeting"})]})]})]}),(0,Te.jsxs)("div",{className:"teams-modal-footer",children:[(0,Te.jsx)("button",{className:"btn-secondary",onClick:A,disabled:y,children:"Cancel"}),(0,Te.jsx)("button",{className:"btn-primary-teams",onClick:async()=>{if(l&&c&&m){w(!0),j(null);try{const e="".concat(l,"T").concat(c,":00"),t=await fetch("".concat("https://mortgage-crm-production-7a9a.up.railway.app","/api/v1/teams/create-meeting"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({subject:m,start_time:e,duration_minutes:parseInt(u),attendees:g.split(",").map(e=>e.trim()).filter(e=>e),lead_id:null===s||void 0===s?void 0:s.id,notes:x})}),n=await t.json();t.ok?(j({status:"success",message:"Teams meeting created successfully!",details:n}),setTimeout(()=>{A()},2e3)):j({status:"error",message:n.detail||"Failed to create Teams meeting"})}catch(e){j({status:"error",message:"Error: ".concat(e.message)})}finally{w(!1)}}else j({status:"error",message:"Please fill in all required fields"})},disabled:y||!l||!c||!m,children:y?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("span",{className:"spinner"}),"Creating..."]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("span",{children:"\ud83d\udcc5"}),"Create Meeting"]})})]})]})}):null};const YA=function(){const{id:e}=ee(),t=$(),[n,A]=(0,a.useState)(null),[s,r]=(0,a.useState)([]),[i,l]=(0,a.useState)(!0),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(!0),[p,g]=(0,a.useState)({}),[f,x]=(0,a.useState)([]),[v,y]=(0,a.useState)("personal"),[w,B]=(0,a.useState)(""),[j,b]=(0,a.useState)(!1),[C,N]=(0,a.useState)([]),[Q,F]=(0,a.useState)(0),[U,S]=(0,a.useState)(null),[k,E]=(0,a.useState)(!1),[_,I]=(0,a.useState)(!1),[H,T]=(0,a.useState)([]),[L,P]=(0,a.useState)({}),[D,O]=(0,a.useState)(!1),[R,M]=(0,a.useState)(1),[K,G]=(0,a.useState)([]),[V,W]=(0,a.useState)([]),[J,z]=(0,a.useState)({name:"",email:"",phone:"",eventTypeUri:"",stageName:""}),[Y,X]=(0,a.useState)(!1),[q,Z]=(0,a.useState)(""),[te,ne]=(0,a.useState)(!1);(0,a.useEffect)(()=>{Ae(),se(),re(),ie(),ae()},[e]);const ae=()=>{try{const t=localStorage.getItem("viewedLeads"),n=t?new Set(JSON.parse(t)):new Set;n.add(String(e)),localStorage.setItem("viewedLeads",JSON.stringify([...n]))}catch(t){console.error("Error marking lead as viewed:",t)}},Ae=async()=>{try{l(!0);const[t,n]=await Promise.all([fa(e),Ha({lead_id:e})]);A(t),g(t),r(n||[]);const a=[{id:0,name:t.first_name&&t.last_name?"".concat(t.first_name," ").concat(t.last_name):t.name||"Primary Borrower",type:"primary",data:t}];if(t.co_applicant_name){const e=String(t.co_applicant_name||"").split(" ");a.push({id:1,name:t.co_applicant_name,type:"co-borrower",data:{name:t.co_applicant_name,first_name:e[0]||"",last_name:e.slice(1).join(" ")||"",email:t.co_applicant_email||"",phone:t.co_applicant_phone||""}})}N(a)}catch(t){console.error("Failed to load lead data:",t),alert("Failed to load lead details")}finally{l(!1)}},se=async()=>{try{const t=await Ha({lead_id:e,type:"email"});x(t||[])}catch(t){console.error("Failed to load emails:",t)}},re=async()=>{try{const e=await sA();T(Array.isArray(e)?e:[])}catch(e){console.error("Failed to load team members:",e),T([])}},ie=async()=>{try{const[e,t]=await Promise.all([hA(),uA()]);G(Array.isArray(e)?e:[]),W(Array.isArray(t)?t:[])}catch(e){console.error("Failed to load calendar data:",e),G([]),W([])}},le=(t,n)=>{g(Wt(Wt({},p),{},{[t]:n})),U&&clearTimeout(U);const a=setTimeout(()=>{(async(t,n)=>{try{let a;if(1===Q){const e=Wt(Wt({},p),{},{[t]:n});a={co_applicant_name:e.first_name&&e.last_name?"".concat(e.first_name," ").concat(e.last_name):e.name||"",co_applicant_email:e.email||null,co_applicant_phone:e.phone||null}}else if(a={[t]:n},"first_name"===t||"last_name"===t){const e=Wt(Wt({},p),{},{[t]:n});e.first_name&&e.last_name&&(a.name="".concat(e.first_name," ").concat(e.last_name))}await va(e,a),console.log("Field ".concat(t," saved successfully"));const s=await fa(e);A(s)}catch(a){console.error("Failed to auto-save field:",a)}})(t,n)},1e3);S(a)},oe=async e=>{switch(e){case"call":window.open("tel:".concat(n.phone),"_self");break;case"sms":E(!0);break;case"email":window.open("mailto:".concat(n.email),"_blank");break;case"task":t("/tasks");break;case"calendar":const e=n.first_name&&n.last_name?"".concat(n.first_name," ").concat(n.last_name):n.name||"",a=n.stage||"New";console.log("Lead stage:",a),console.log("Available calendar mappings:",K);const A=K.find(e=>e.stage===a);console.log("Found mapping:",A);const s=(null===A||void 0===A?void 0:A.event_type_uri)||"";z({name:e,email:n.email||"",phone:n.phone||"",eventTypeUri:s,stageName:a}),M(1),O(!0);break;case"teams":I(!0);break;case"recording":X(!0),Z("")}},ce=async()=>{if(!q.trim())return void alert("Please enter a meeting URL");if(/^https?:\/\/.+/i.test(q)){ne(!0);try{const t=await fA(q,n.id);alert("Recording bot sent to meeting! Status: ".concat(t.status)),X(!1),Z("");const a=await Ha({lead_id:e});r(a||[])}catch(A){var t,a;console.error("Error starting recording:",A);const e=(null===(t=A.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||A.message||"Failed to start recording";alert("Failed to start recording: ".concat(e))}finally{ne(!1)}}else alert("Please enter a valid meeting URL (must start with http:// or https://)")},de=()=>{const e={};return H.forEach(t=>{const n=t.role||"Other";e[n]||(e[n]=[]),e[n].push(t)}),e};return i?(0,Te.jsx)("div",{className:"lead-detail-page",children:(0,Te.jsx)("div",{className:"loading",children:"Loading lead details..."})}):n?(0,Te.jsxs)("div",{className:"lead-detail-page",children:[(0,Te.jsxs)("div",{className:"detail-header",children:[(0,Te.jsx)("button",{className:"btn-back",onClick:()=>t("/leads"),children:"\u2190 Back to Leads"}),(0,Te.jsx)("div",{className:"header-actions",children:h?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{className:"btn-save",onClick:async()=>{try{let t;if(1===Q){t={co_applicant_name:p.first_name&&p.last_name?"".concat(p.first_name," ").concat(p.last_name):p.name||"",co_applicant_email:p.email||null,co_applicant_phone:p.phone||null}}else t=Wt(Wt({},p),{},{name:p.first_name&&p.last_name?"".concat(p.first_name," ").concat(p.last_name):p.name||""});await va(e,t);const n=await fa(e);if(A(n),1===Q&&n.co_applicant_name){const e=n.first_name&&n.last_name?"".concat(n.first_name," ").concat(n.last_name):n.name||"Primary Borrower",t=(n.co_applicant_name||"").split(" "),a=[{id:0,name:e,type:"primary",data:n},{id:1,name:n.co_applicant_name,type:"co-borrower",data:{name:n.co_applicant_name,first_name:t[0]||"",last_name:t.slice(1).join(" ")||"",email:n.co_applicant_email||"",phone:n.co_applicant_phone||""}}];N(a),g(a[1].data)}m(!1),alert("Lead updated successfully!")}catch(t){console.error("Failed to update lead:",t),alert("Failed to update lead")}},children:"Save"}),(0,Te.jsx)("button",{className:"btn-cancel",onClick:()=>{Q<C.length?g(C[Q].data):g(n)},children:"Cancel"})]}):(0,Te.jsx)("button",{className:"btn-edit-header",onClick:()=>m(!0),children:"\u270f\ufe0f Edit"})})]}),(0,Te.jsxs)("div",{className:"loan-toolbar",children:[(0,Te.jsx)("div",{className:"toolbar-header",children:(0,Te.jsx)("h3",{children:"Loan Details"})}),(0,Te.jsxs)("div",{className:"loan-fields-grid",children:[(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Loan Amount"}),(0,Te.jsx)("input",{type:"number",value:p.loan_amount||"",onChange:e=>le("loan_amount",e.target.value),placeholder:"$"})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Interest Rate"}),(0,Te.jsx)("input",{type:"number",step:"0.001",value:p.interest_rate||"",onChange:e=>le("interest_rate",e.target.value),placeholder:"%"})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Loan Term"}),(0,Te.jsx)("input",{type:"number",value:p.loan_term||"",onChange:e=>le("loan_term",e.target.value),placeholder:"Years"})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Loan Type"}),(0,Te.jsxs)("select",{value:p.loan_type||"",onChange:e=>le("loan_type",e.target.value),children:[(0,Te.jsx)("option",{value:"",children:"Select..."}),(0,Te.jsx)("option",{value:"Conventional",children:"Conventional"}),(0,Te.jsx)("option",{value:"FHA",children:"FHA"}),(0,Te.jsx)("option",{value:"VA",children:"VA"}),(0,Te.jsx)("option",{value:"USDA",children:"USDA"}),(0,Te.jsx)("option",{value:"Jumbo",children:"Jumbo"}),(0,Te.jsx)("option",{value:"HELOC",children:"HELOC"})]})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Lock Date"}),(0,Te.jsx)("input",{type:"date",value:p.lock_date||"",onChange:e=>le("lock_date",e.target.value)})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Lock Expiration"}),(0,Te.jsx)("input",{type:"date",value:p.lock_expiration||"",onChange:e=>le("lock_expiration",e.target.value)})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"APR"}),(0,Te.jsx)("input",{type:"number",step:"0.001",value:p.apr||"",onChange:e=>le("apr",e.target.value),placeholder:"%"})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Points"}),(0,Te.jsx)("input",{type:"number",step:"0.125",value:p.points||"",onChange:e=>le("points",e.target.value)})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Lender"}),(0,Te.jsx)("input",{type:"text",value:p.lender||"",onChange:e=>le("lender",e.target.value)})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Loan Officer"}),(0,Te.jsx)("input",{type:"text",value:p.loan_officer||"",onChange:e=>le("loan_officer",e.target.value)})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Processor"}),(0,Te.jsx)("input",{type:"text",value:p.processor||"",onChange:e=>le("processor",e.target.value)})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Underwriter"}),(0,Te.jsx)("input",{type:"text",value:p.underwriter||"",onChange:e=>le("underwriter",e.target.value)})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Closing Date"}),(0,Te.jsx)("input",{type:"date",value:p.closing_date||"",onChange:e=>le("closing_date",e.target.value)})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Appraisal Value"}),(0,Te.jsx)("input",{type:"number",value:p.appraisal_value||"",onChange:e=>le("appraisal_value",e.target.value),placeholder:"$"})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"LTV %"}),(0,Te.jsx)("input",{type:"number",step:"0.01",value:p.ltv||"",onChange:e=>le("ltv",e.target.value),placeholder:"%"})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"DTI %"}),(0,Te.jsx)("input",{type:"number",step:"0.01",value:p.dti||"",onChange:e=>le("dti",e.target.value),placeholder:"%"})]})]})]}),(0,Te.jsxs)("div",{className:"borrower-selector",children:[C.map((e,t)=>(0,Te.jsxs)("button",{className:"borrower-btn ".concat(Q===t?"active":""),onClick:()=>(e=>{F(e);const t=C[e];t&&t.data&&g(t.data)})(t),children:[e.name,"primary"===e.type&&(0,Te.jsx)("span",{className:"borrower-badge",children:"Primary"})]},e.id)),(0,Te.jsx)("button",{className:"borrower-add-btn",onClick:async()=>{const t=prompt("Enter first name:");if(!t||!t.trim())return;const n=prompt("Enter last name:");if(!n||!n.trim())return;const a="".concat(t.trim()," ").concat(n.trim()),s={id:C.length,name:a,type:1===C.length?"co-borrower":"additional",data:{name:a,first_name:t.trim(),last_name:n.trim()}};try{if(1===C.length){await va(e,{co_applicant_name:a});const t=await fa(e);A(t);const n=[{id:0,name:t.first_name&&t.last_name?"".concat(t.first_name," ").concat(t.last_name):t.name||"Primary Borrower",type:"primary",data:t}];if(t.co_applicant_name){const e=(t.co_applicant_name||"").split(" ");n.push({id:1,name:t.co_applicant_name,type:"co-borrower",data:{name:t.co_applicant_name,first_name:e[0]||"",last_name:e.slice(1).join(" ")||"",email:t.co_applicant_email||"",phone:t.co_applicant_phone||""}})}N(n);const s=n.length>1?1:0;F(s),n[s]&&g(n[s].data)}else N([...C,s]),F(C.length),g(s.data);alert("".concat(a," has been added successfully!"))}catch(o){var r,i,l;console.error("Failed to add borrower:",o),console.error("Error response:",null===(r=o.response)||void 0===r?void 0:r.data);const e=(null===(i=o.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.detail)||o.message||"Failed to add borrower. Please check console for details.";alert("string"===typeof e?e:JSON.stringify(e))}},title:"Add Borrower",children:"+ Add Person"})]}),(0,Te.jsxs)("div",{className:"profile-tabs",children:[(0,Te.jsx)("button",{className:"tab-btn ".concat("personal"===v?"active":""),onClick:()=>y("personal"),children:"Personal"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("employment"===v?"active":""),onClick:()=>y("employment"),children:"Employment"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("loan"===v?"active":""),onClick:()=>y("loan"),children:"Loan"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("team"===v?"active":""),onClick:()=>y("team"),children:"Team Members"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("conversation"===v?"active":""),onClick:()=>y("conversation"),children:"Conversation Log"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("circle"===v?"active":""),onClick:()=>y("circle"),children:"Circle"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("documents"===v?"active":""),onClick:()=>y("documents"),children:"Documents"})]}),(0,Te.jsxs)("div",{className:"detail-content",children:[(0,Te.jsxs)("div",{className:"left-column",children:["personal"===v&&(0,Te.jsxs)("div",{className:"info-section",children:[(0,Te.jsx)("h2",{children:"Personal Information"}),(0,Te.jsxs)("div",{className:"info-grid compact",children:[(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"First Name"}),(0,Te.jsx)("input",{type:"text",value:p.first_name||"",onChange:e=>le("first_name",e.target.value)})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Last Name"}),(0,Te.jsx)("input",{type:"text",value:p.last_name||"",onChange:e=>le("last_name",e.target.value)})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Email"}),(0,Te.jsx)("input",{type:"email",value:p.email||"",onChange:e=>le("email",e.target.value)})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Phone"}),(0,Te.jsx)("input",{type:"tel",value:p.phone||"",onChange:e=>le("phone",e.target.value)})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Loan Number"}),(0,Te.jsx)("input",{type:"text",value:p.loan_number||"",onChange:e=>le("loan_number",e.target.value)})]})]})]}),"employment"===v&&(0,Te.jsxs)("div",{className:"info-section",children:[(0,Te.jsx)("h2",{children:"Employment Information"}),(0,Te.jsxs)("div",{className:"info-grid compact",children:[(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Employment Status"}),(0,Te.jsx)("input",{type:"text",value:p.employment_status||"",onChange:e=>le("employment_status",e.target.value)})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Employer Name"}),(0,Te.jsx)("input",{type:"text",value:p.employer_name||"",onChange:e=>le("employer_name",e.target.value)})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Job Title"}),(0,Te.jsx)("input",{type:"text",value:p.job_title||"",onChange:e=>le("job_title",e.target.value)})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Years at Job"}),(0,Te.jsx)("input",{type:"number",value:p.years_at_job||"",onChange:e=>le("years_at_job",parseFloat(e.target.value))})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Annual Income"}),(0,Te.jsx)("input",{type:"number",value:p.annual_income||"",onChange:e=>le("annual_income",parseFloat(e.target.value))})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Monthly Income"}),(0,Te.jsx)("input",{type:"number",value:p.monthly_income||"",onChange:e=>le("monthly_income",parseFloat(e.target.value))})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Other Income"}),(0,Te.jsx)("input",{type:"number",value:p.other_income||"",onChange:e=>le("other_income",parseFloat(e.target.value))})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Income Source"}),(0,Te.jsx)("input",{type:"text",value:p.income_source||"",onChange:e=>le("income_source",e.target.value)})]})]})]}),"loan"===v&&(0,Te.jsxs)("div",{className:"info-section",children:[(0,Te.jsx)("h2",{children:"Loan Information"}),(0,Te.jsxs)("div",{className:"info-grid compact",children:[(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Property Address"}),(0,Te.jsx)("input",{type:"text",value:p.address||"",onChange:e=>le("address",e.target.value)})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"City"}),(0,Te.jsx)("input",{type:"text",value:p.city||"",onChange:e=>le("city",e.target.value)})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"State"}),(0,Te.jsx)("input",{type:"text",value:p.state||"",onChange:e=>le("state",e.target.value)})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Zip Code"}),(0,Te.jsx)("input",{type:"text",value:p.zip_code||"",onChange:e=>le("zip_code",e.target.value)})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Property Type"}),(0,Te.jsx)("input",{type:"text",value:p.property_type||"",onChange:e=>le("property_type",e.target.value)})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Property Value"}),(0,Te.jsx)("input",{type:"number",value:p.property_value||"",onChange:e=>le("property_value",parseFloat(e.target.value))})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Down Payment"}),(0,Te.jsx)("input",{type:"number",value:p.down_payment||"",onChange:e=>le("down_payment",parseFloat(e.target.value))})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Credit Score"}),(0,Te.jsx)("input",{type:"number",value:p.credit_score||"",onChange:e=>le("credit_score",parseInt(e.target.value))})]})]})]}),"team"===v&&(0,Te.jsxs)("div",{className:"info-section",children:[(0,Te.jsx)("h2",{children:"Team Members"}),(0,Te.jsx)("div",{className:"team-description",children:(0,Te.jsx)("p",{children:"Assign internal team members who are working on this lead/loan."})}),0===Object.keys(de()).length?(0,Te.jsxs)("div",{className:"empty-state",children:[(0,Te.jsx)("p",{children:"No team members have been created yet."}),(0,Te.jsx)("p",{children:"Go to Settings \u2192 Team Members to add your team."})]}):(0,Te.jsx)("div",{className:"team-roles-list",children:Object.entries(de()).map(t=>{let[n,a]=t;return(0,Te.jsxs)("div",{className:"team-role-section",children:[(0,Te.jsxs)("div",{className:"team-role-header",children:[(0,Te.jsx)("h3",{children:n}),(0,Te.jsxs)("span",{className:"member-count",children:[a.length," available"]})]}),L[n]?(0,Te.jsxs)("div",{className:"assigned-member",children:[(0,Te.jsxs)("div",{className:"member-info",children:[(0,Te.jsxs)("div",{className:"member-name",children:[L[n].first_name," ",L[n].last_name]}),(0,Te.jsxs)("div",{className:"member-contact",children:[L[n].email&&(0,Te.jsx)("span",{className:"member-email",children:L[n].email}),L[n].phone&&(0,Te.jsx)("span",{className:"member-phone",children:L[n].phone})]})]}),(0,Te.jsx)("button",{className:"btn-change-member",onClick:()=>P(Wt(Wt({},L),{},{[n]:null})),children:"Change"})]}):(0,Te.jsx)("div",{className:"member-selection",children:(0,Te.jsxs)("select",{className:"member-select",onChange:t=>{const A=a.find(e=>e.id===parseInt(t.target.value));A&&(async(t,n)=>{try{const a=Wt(Wt({},L),{},{[t]:n});P(a);const A={["team_".concat(t.toLowerCase().replace(/\s+/g,"_"),"_id")]:n.id,["team_".concat(t.toLowerCase().replace(/\s+/g,"_"),"_name")]:"".concat(n.first_name," ").concat(n.last_name),["team_".concat(t.toLowerCase().replace(/\s+/g,"_"),"_email")]:n.email};await va(e,A),alert("".concat(n.first_name," ").concat(n.last_name," assigned as ").concat(t))}catch(a){console.error("Failed to assign team member:",a),alert("Failed to assign team member")}})(n,A)},defaultValue:"",children:[(0,Te.jsx)("option",{value:"",disabled:!0,children:"Select a team member..."}),a.map(e=>(0,Te.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name,e.title&&" - ".concat(e.title)]},e.id))]})})]},n)})})]}),"conversation"===v&&(0,Te.jsxs)("div",{className:"info-section",children:[(0,Te.jsx)("h2",{children:"Conversation Log"}),(0,Te.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),w.trim())try{b(!0);const t={type:"Note",content:w,lead_id:parseInt(e)};console.log("Creating note with data:",t);const n=await Ta(t);console.log("Note created successfully:",n),B(""),Ae()}catch(s){var n,a,A;console.error("Failed to add note:",s),console.error("Error response:",null===(n=s.response)||void 0===n?void 0:n.data);const e=(null===(a=s.response)||void 0===a||null===(A=a.data)||void 0===A?void 0:A.detail)||"Failed to add note. Please check console for details.";alert("string"===typeof e?e:JSON.stringify(e))}finally{b(!1)}},className:"add-note-form",children:[(0,Te.jsx)("textarea",{value:w,onChange:e=>B(e.target.value),placeholder:"Add a note to the conversation log...",rows:"3",disabled:j}),(0,Te.jsx)("button",{type:"submit",disabled:j||!w.trim(),children:j?"Adding...":"Add Note"})]}),(0,Te.jsx)("div",{className:"conversation-log",children:s.length>0?s.map(e=>(0,Te.jsxs)("div",{className:"activity-item",children:[(0,Te.jsxs)("div",{className:"activity-header",children:[(0,Te.jsx)("span",{className:"activity-type ".concat(e.type),children:e.type}),(0,Te.jsx)("span",{className:"activity-date",children:new Date(e.created_at).toLocaleString()})]}),(0,Te.jsx)("div",{className:"activity-description",children:e.content||e.description})]},e.id)):(0,Te.jsx)("div",{className:"empty-state",children:"No activities yet"})})]}),"circle"===v&&(0,Te.jsxs)("div",{className:"info-section",children:[(0,Te.jsx)("h2",{children:"Circle"}),(0,Te.jsxs)("div",{className:"circle-content",children:[(0,Te.jsx)("p",{className:"circle-description",children:"View and manage the borrower's circle of influence - family members, co-borrowers, real estate agents, and other key contacts involved in the loan process."}),(0,Te.jsxs)("div",{className:"circle-grid",children:[(0,Te.jsxs)("div",{className:"circle-card",children:[(0,Te.jsxs)("div",{className:"circle-header",children:[(0,Te.jsx)("h3",{children:"\ud83d\udc65 Co-Borrowers"}),(0,Te.jsx)("button",{className:"btn-add-circle",children:"+ Add"})]}),(0,Te.jsx)("div",{className:"circle-list",children:(0,Te.jsx)("div",{className:"empty-state",children:"No co-borrowers added yet"})})]}),(0,Te.jsxs)("div",{className:"circle-card",children:[(0,Te.jsxs)("div",{className:"circle-header",children:[(0,Te.jsx)("h3",{children:"\ud83c\udfe1 Real Estate Agent"}),(0,Te.jsx)("button",{className:"btn-add-circle",children:"+ Add"})]}),(0,Te.jsx)("div",{className:"circle-list",children:(0,Te.jsx)("div",{className:"empty-state",children:"No agent assigned yet"})})]}),(0,Te.jsxs)("div",{className:"circle-card",children:[(0,Te.jsxs)("div",{className:"circle-header",children:[(0,Te.jsx)("h3",{children:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67 Family Members"}),(0,Te.jsx)("button",{className:"btn-add-circle",children:"+ Add"})]}),(0,Te.jsx)("div",{className:"circle-list",children:(0,Te.jsx)("div",{className:"empty-state",children:"No family members added yet"})})]}),(0,Te.jsxs)("div",{className:"circle-card",children:[(0,Te.jsxs)("div",{className:"circle-header",children:[(0,Te.jsx)("h3",{children:"\ud83e\udd1d Other Contacts"}),(0,Te.jsx)("button",{className:"btn-add-circle",children:"+ Add"})]}),(0,Te.jsx)("div",{className:"circle-list",children:(0,Te.jsx)("div",{className:"empty-state",children:"No other contacts added yet"})})]})]})]})]}),"documents"===v&&(0,Te.jsxs)("div",{className:"info-section",children:[(0,Te.jsx)("h2",{children:"Documents"}),(0,Te.jsxs)("div",{className:"documents-content",children:[(0,Te.jsx)("p",{className:"circle-description",children:"Manage and organize all loan-related documents including income verification, credit reports, property documents, and disclosures."}),(0,Te.jsx)("div",{className:"documents-upload-area",children:(0,Te.jsx)("button",{className:"btn-upload-document",children:"\ud83d\udcc4 Upload Document"})}),(0,Te.jsxs)("div",{className:"documents-grid",children:[(0,Te.jsxs)("div",{className:"document-category",children:[(0,Te.jsxs)("div",{className:"category-header",children:[(0,Te.jsx)("h3",{children:"\ud83d\udccb Income Verification"}),(0,Te.jsx)("span",{className:"doc-count",children:"0 files"})]}),(0,Te.jsx)("div",{className:"document-list",children:(0,Te.jsx)("div",{className:"empty-state",children:"No documents uploaded yet"})})]}),(0,Te.jsxs)("div",{className:"document-category",children:[(0,Te.jsxs)("div",{className:"category-header",children:[(0,Te.jsx)("h3",{children:"\ud83d\udcb3 Credit Reports"}),(0,Te.jsx)("span",{className:"doc-count",children:"0 files"})]}),(0,Te.jsx)("div",{className:"document-list",children:(0,Te.jsx)("div",{className:"empty-state",children:"No documents uploaded yet"})})]}),(0,Te.jsxs)("div",{className:"document-category",children:[(0,Te.jsxs)("div",{className:"category-header",children:[(0,Te.jsx)("h3",{children:"\ud83c\udfe0 Property Documents"}),(0,Te.jsx)("span",{className:"doc-count",children:"0 files"})]}),(0,Te.jsx)("div",{className:"document-list",children:(0,Te.jsx)("div",{className:"empty-state",children:"No documents uploaded yet"})})]}),(0,Te.jsxs)("div",{className:"document-category",children:[(0,Te.jsxs)("div",{className:"category-header",children:[(0,Te.jsx)("h3",{children:"\u270d\ufe0f Disclosures & Forms"}),(0,Te.jsx)("span",{className:"doc-count",children:"0 files"})]}),(0,Te.jsx)("div",{className:"document-list",children:(0,Te.jsx)("div",{className:"empty-state",children:"No documents uploaded yet"})})]}),(0,Te.jsxs)("div",{className:"document-category",children:[(0,Te.jsxs)("div",{className:"category-header",children:[(0,Te.jsx)("h3",{children:"\ud83c\udfe6 Bank Statements"}),(0,Te.jsx)("span",{className:"doc-count",children:"0 files"})]}),(0,Te.jsx)("div",{className:"document-list",children:(0,Te.jsx)("div",{className:"empty-state",children:"No documents uploaded yet"})})]}),(0,Te.jsxs)("div",{className:"document-category",children:[(0,Te.jsxs)("div",{className:"category-header",children:[(0,Te.jsx)("h3",{children:"\ud83d\udcd1 Other Documents"}),(0,Te.jsx)("span",{className:"doc-count",children:"0 files"})]}),(0,Te.jsx)("div",{className:"document-list",children:(0,Te.jsx)("div",{className:"empty-state",children:"No documents uploaded yet"})})]})]})]})]}),(0,Te.jsxs)("div",{className:"info-section",children:[(0,Te.jsx)("h2",{children:"AI Chat Assistant"}),(0,Te.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),o.trim())try{u(!0);const t=await Pa(o,{lead_id:e});await Ta({type:"ai_chat",description:"User: ".concat(o,"\nAI: ").concat(t.message),lead_id:e}),c(""),Ae()}catch(n){console.error("Failed to send AI message:",n),alert("Failed to send message")}finally{u(!1)}},className:"ai-chat-form",children:[(0,Te.jsx)("textarea",{value:o,onChange:e=>c(e.target.value),placeholder:"Ask the AI assistant about this lead...",rows:"3",disabled:d}),(0,Te.jsx)("button",{type:"submit",disabled:d||!o.trim(),children:d?"Sending...":"Send Message"})]})]})]}),(0,Te.jsxs)("div",{className:"right-column",children:[(0,Te.jsxs)("div",{className:"actions-card",children:[(0,Te.jsx)("h3",{children:"Quick Actions"}),(0,Te.jsxs)("div",{className:"action-buttons",children:[(0,Te.jsxs)("button",{className:"action-btn call",onClick:()=>oe("call"),disabled:!n.phone,title:"Click to call using your phone",children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83d\udcde"}),(0,Te.jsx)("span",{children:"Call"})]}),(0,Te.jsxs)("button",{className:"action-btn sms",onClick:()=>oe("sms"),disabled:!n.phone,title:"Send SMS using your phone",children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83d\udcac"}),(0,Te.jsx)("span",{children:"SMS Text"})]}),(0,Te.jsxs)("button",{className:"action-btn email",onClick:()=>oe("email"),disabled:!n.email,children:[(0,Te.jsx)("span",{className:"icon",children:"\u2709\ufe0f"}),(0,Te.jsx)("span",{children:"Send Email"})]}),(0,Te.jsxs)("button",{className:"action-btn task",onClick:()=>oe("task"),children:[(0,Te.jsx)("span",{className:"icon",children:"\u2713"}),(0,Te.jsx)("span",{children:"Create Task"})]}),(0,Te.jsxs)("button",{className:"action-btn calendar",onClick:()=>oe("calendar"),children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83d\udcc5"}),(0,Te.jsx)("span",{children:"Set Appointment"})]}),(0,Te.jsxs)("button",{className:"action-btn teams",onClick:()=>oe("teams"),title:"Create Microsoft Teams meeting",children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83d\udc65"}),(0,Te.jsx)("span",{children:"Teams Meeting"})]}),(0,Te.jsxs)("button",{className:"action-btn recording",onClick:()=>oe("recording"),title:"Start meeting recording with Recall.ai",children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83d\udcf9"}),(0,Te.jsx)("span",{children:"Start Recording"})]})]})]}),(0,Te.jsxs)("div",{className:"email-history-card",children:[(0,Te.jsx)("h3",{children:"Email History"}),(0,Te.jsx)("div",{className:"email-list",children:f.length>0?f.map(e=>(0,Te.jsxs)("div",{className:"email-item",children:[(0,Te.jsxs)("div",{className:"email-header",children:[(0,Te.jsx)("span",{className:"email-subject",children:(e.description||e.content||"").split("\n")[0]||"No subject"}),(0,Te.jsx)("span",{className:"email-date",children:new Date(e.created_at).toLocaleDateString()})]}),(0,Te.jsxs)("div",{className:"email-preview",children:[(e.description||e.content||"").substring(0,100),"..."]})]},e.id)):(0,Te.jsx)("div",{className:"empty-state",children:"No emails yet"})})]})]})]}),n&&(0,Te.jsx)(WA,{isOpen:k,onClose:()=>E(!1),lead:n}),n&&(0,Te.jsx)(zA,{isOpen:_,onClose:()=>I(!1),lead:n}),Y&&(0,Te.jsx)("div",{className:"modal-overlay",onClick:()=>X(!1),children:(0,Te.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"600px"},children:[(0,Te.jsxs)("div",{className:"modal-header",children:[(0,Te.jsx)("h2",{children:"Start Meeting Recording"}),(0,Te.jsx)("button",{className:"modal-close",onClick:()=>X(!1),children:"\xd7"})]}),(0,Te.jsxs)("div",{className:"modal-body",children:[(0,Te.jsx)("p",{style:{marginBottom:"20px",color:"#64748b"},children:"Enter the meeting URL to send the Recall.ai bot. The bot will join the meeting, record it, and automatically save the transcript to the Conversation Log."}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Meeting URL"}),(0,Te.jsx)("input",{type:"text",className:"form-input",placeholder:"https://zoom.us/j/... or https://teams.microsoft.com/...",value:q,onChange:e=>Z(e.target.value),onKeyPress:e=>{"Enter"!==e.key||te||ce()}})]}),(0,Te.jsxs)("div",{style:{background:"#f0fdfa",border:"1px solid #99f6e4",borderRadius:"8px",padding:"16px",marginTop:"16px"},children:[(0,Te.jsx)("h4",{style:{margin:"0 0 12px 0",color:"#134e4a",fontSize:"14px",fontWeight:"600"},children:"Supported Platforms:"}),(0,Te.jsxs)("ul",{style:{margin:0,paddingLeft:"20px",color:"#0f766e",fontSize:"13px"},children:[(0,Te.jsx)("li",{children:"Zoom (zoom.us)"}),(0,Te.jsx)("li",{children:"Microsoft Teams (teams.microsoft.com)"}),(0,Te.jsx)("li",{children:"Google Meet (meet.google.com)"})]})]})]}),(0,Te.jsxs)("div",{className:"modal-footer",children:[(0,Te.jsx)("button",{className:"btn-secondary",onClick:()=>X(!1),disabled:te,children:"Cancel"}),(0,Te.jsx)("button",{className:"btn-primary",onClick:ce,disabled:!q.trim()||te,children:te?"Sending Bot...":"\ud83d\udcf9 Start Recording"})]})]})}),D&&(0,Te.jsx)("div",{className:"modal-overlay",onClick:()=>O(!1),children:(0,Te.jsxs)("div",{className:"modal-content appointment-modal",onClick:e=>e.stopPropagation(),children:[(0,Te.jsxs)("div",{className:"modal-header",children:[(0,Te.jsx)("h2",{children:"Schedule Appointment"}),(0,Te.jsx)("button",{className:"modal-close",onClick:()=>O(!1),children:"\xd7"})]}),1===R?(0,Te.jsxs)("div",{className:"appointment-step",children:[(0,Te.jsxs)("div",{className:"step-indicator",children:[(0,Te.jsx)("span",{className:"step active",children:"1"}),(0,Te.jsx)("span",{className:"step-line"}),(0,Te.jsx)("span",{className:"step",children:"2"})]}),(0,Te.jsx)("h3",{children:"Verify Contact Information"}),(0,Te.jsx)("p",{className:"step-description",children:"Please verify the information below is correct before scheduling."}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Full Name *"}),(0,Te.jsx)("input",{type:"text",value:J.name,onChange:e=>z(Wt(Wt({},J),{},{name:e.target.value})),placeholder:"Enter full name",required:!0})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Email Address *"}),(0,Te.jsx)("input",{type:"email",value:J.email,onChange:e=>z(Wt(Wt({},J),{},{email:e.target.value})),placeholder:"Enter email address",required:!0})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Phone Number"}),(0,Te.jsx)("input",{type:"tel",value:J.phone,onChange:e=>z(Wt(Wt({},J),{},{phone:e.target.value})),placeholder:"Enter phone number"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Calendar Type *"}),(0,Te.jsxs)("select",{value:J.eventTypeUri,onChange:e=>z(Wt(Wt({},J),{},{eventTypeUri:e.target.value})),required:!0,children:[(0,Te.jsx)("option",{value:"",children:"Select calendar type..."}),V.map(e=>(0,Te.jsx)("option",{value:e.uri,children:e.name},e.uri))]}),J.eventTypeUri&&(0,Te.jsxs)("small",{className:"field-note",children:["\u2713 Auto-selected based on lead stage: ",J.stageName]}),!J.eventTypeUri&&J.stageName&&(0,Te.jsxs)("small",{className:"field-note",style:{color:"#f59e0b"},children:['\u26a0 No calendar mapping found for stage "',J.stageName,'". Please select a calendar type or create a mapping in Settings.']})]}),(0,Te.jsxs)("div",{className:"modal-actions",children:[(0,Te.jsx)("button",{className:"btn-secondary",onClick:()=>O(!1),children:"Cancel"}),(0,Te.jsx)("button",{className:"btn-primary",onClick:()=>{J.name&&J.email&&J.eventTypeUri?M(2):alert("Please fill in all required fields (Name, Email, Calendar Type)")},children:"Next: Select Date & Time \u2192"})]})]}):(0,Te.jsxs)("div",{className:"appointment-step",children:[(0,Te.jsxs)("div",{className:"step-indicator",children:[(0,Te.jsx)("span",{className:"step completed",children:"\u2713"}),(0,Te.jsx)("span",{className:"step-line"}),(0,Te.jsx)("span",{className:"step active",children:"2"})]}),(0,Te.jsx)("h3",{children:"Select Date & Time"}),(0,Te.jsx)("p",{className:"step-description",children:"Choose an available time slot for your appointment."}),(0,Te.jsx)("div",{className:"calendly-embed-container",children:(0,Te.jsx)("iframe",{src:"".concat(J.eventTypeUri,"?embed_domain=").concat(window.location.hostname,"&embed_type=Inline&name=").concat(encodeURIComponent(J.name),"&email=").concat(encodeURIComponent(J.email)).concat(J.phone?"&a1=".concat(encodeURIComponent(J.phone)):""),width:"100%",height:"700",frameBorder:"0",title:"Calendly Scheduling"})}),(0,Te.jsxs)("div",{className:"modal-actions",children:[(0,Te.jsx)("button",{className:"btn-secondary",onClick:()=>M(1),children:"\u2190 Back to Information"}),(0,Te.jsx)("button",{className:"btn-primary",onClick:()=>{alert("Appointment scheduled! The confirmation has been sent to "+J.email),O(!1)},children:"Done"})]})]})]})})]}):(0,Te.jsx)("div",{className:"lead-detail-page",children:(0,Te.jsx)("div",{className:"error",children:"Lead not found"})})},XA={new:"New Leads",preapproved:"Pre-Approved",processing:"In Processing",underwriting:"In Underwriting",ctc:"Clear to Close",funded:"Funded This Month"};function qA(e){return{"Contract Received":"received","In Processing":"processing",Approved:"approved",Suspended:"suspended",Denied:"denied",Withdrawn:"withdrawn"}[e]||"default"}function ZA(e){if(!e)return 0;const t=new Date(e),n=new Date;return Math.floor((n-t)/864e5)}const $A=function(){const[e]=_e(),t=$(),n=e.get("stage"),A=n&&XA[n]||"All",[s,r]=(0,a.useState)([]),[i,l]=(0,a.useState)(!0),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(A),[h,m]=(0,a.useState)(0),[p,g]=(0,a.useState)(""),[f,x]=(0,a.useState)([{first_name:"",last_name:"",email:"",phone:"",credit_score:"",employment_status:"",annual_income:"",monthly_debts:""}]),[v,y]=(0,a.useState)({address:"",city:"",state:"",zip_code:"",property_type:"",property_value:"",down_payment:""}),[w,B]=(0,a.useState)({loan_number:"",amount:"",product_type:"",loan_type:"",interest_rate:"",term:360,closing_date:"",lock_date:"",processor:"",underwriter:"",realtor_agent:"",title_company:"",notes:""});(0,a.useEffect)(()=>{j()},[]),(0,a.useEffect)(()=>{n&&XA[n]&&u(XA[n])},[n]);const j=async()=>{try{const e=await wa();r(Array.isArray(e)?e:[])}catch(e){console.error("Failed to load loans:",e),r((()=>{const e=new Date,t=e.getMonth(),n=e.getFullYear();return[{id:1,borrower_name:"John Anderson",borrower:"John Anderson",amount:425e3,property_address:"123 Oak St, Austin TX",stage:"Funded This Month",days_in_process:28,loan_officer:"Sarah Johnson",created_at:new Date(n,t,5).toISOString(),funded_date:new Date(n,t,5).toISOString()},{id:2,borrower_name:"Maria Garcia",borrower:"Maria Garcia",amount:38e4,property_address:"456 Pine Ave, Dallas TX",stage:"Funded This Month",days_in_process:32,loan_officer:"Mike Chen",created_at:new Date(n,t,8).toISOString(),funded_date:new Date(n,t,8).toISOString()},{id:3,borrower_name:"Robert Kim",borrower:"Robert Kim",amount:52e4,property_address:"789 Elm Dr, Houston TX",stage:"Funded This Month",days_in_process:25,loan_officer:"Emily Davis",created_at:new Date(n,t,12).toISOString(),funded_date:new Date(n,t,12).toISOString()},{id:4,borrower_name:"Lisa Chen",borrower:"Lisa Chen",amount:295e3,property_address:"321 Maple Rd, San Antonio TX",stage:"Funded This Month",days_in_process:30,loan_officer:"Sarah Johnson",created_at:new Date(n,t,15).toISOString(),funded_date:new Date(n,t,15).toISOString()},{id:5,borrower_name:"David Martinez",borrower:"David Martinez",amount:615e3,property_address:"654 Cedar Ln, Fort Worth TX",stage:"Funded This Month",days_in_process:27,loan_officer:"Mike Chen",created_at:new Date(n,t,18).toISOString(),funded_date:new Date(n,t,18).toISOString()},{id:6,borrower_name:"Amy Wilson",borrower:"Amy Wilson",amount:34e4,property_address:"987 Birch St, Arlington TX",stage:"Funded This Month",days_in_process:29,loan_officer:"Emily Davis",created_at:new Date(n,t,20).toISOString(),funded_date:new Date(n,t,20).toISOString()},{id:7,borrower_name:"James Brown",borrower:"James Brown",amount:45e4,property_address:"147 Spruce Ave, Plano TX",stage:"Funded This Month",days_in_process:31,loan_officer:"Sarah Johnson",created_at:new Date(n,t,22).toISOString(),funded_date:new Date(n,t,22).toISOString()},{id:8,borrower_name:"Jennifer Lee",borrower:"Jennifer Lee",amount:385e3,property_address:"258 Walnut Dr, Irving TX",stage:"Funded This Month",days_in_process:26,loan_officer:"Mike Chen",created_at:new Date(n,t,25).toISOString(),funded_date:new Date(n,t,25).toISOString()},{id:9,borrower_name:"Michael Davis",borrower:"Michael Davis",amount:495e3,property_address:"369 Ash Rd, Frisco TX",stage:"Funded This Month",days_in_process:28,loan_officer:"Emily Davis",created_at:new Date(n,t,27).toISOString(),funded_date:new Date(n,t,27).toISOString()},{id:10,borrower_name:"Thomas White",borrower:"Thomas White",amount:41e4,property_address:"741 Cherry Ln, McKinney TX",stage:"Funded Prior Month",days_in_process:30,loan_officer:"Sarah Johnson",created_at:new Date(n,t-1,5).toISOString(),funded_date:new Date(n,t-1,5).toISOString()},{id:11,borrower_name:"Susan Taylor",borrower:"Susan Taylor",amount:375e3,property_address:"852 Poplar St, Denton TX",stage:"Funded Prior Month",days_in_process:29,loan_officer:"Mike Chen",created_at:new Date(n,t-1,10).toISOString(),funded_date:new Date(n,t-1,10).toISOString()},{id:12,borrower_name:"Daniel Moore",borrower:"Daniel Moore",amount:53e4,property_address:"963 Hickory Ave, Allen TX",stage:"Funded Prior Month",days_in_process:32,loan_officer:"Emily Davis",created_at:new Date(n,t-1,12).toISOString(),funded_date:new Date(n,t-1,12).toISOString()},{id:13,borrower_name:"Patricia Johnson",borrower:"Patricia Johnson",amount:325e3,property_address:"159 Willow Dr, Carrollton TX",stage:"Funded Prior Month",days_in_process:27,loan_officer:"Sarah Johnson",created_at:new Date(n,t-1,15).toISOString(),funded_date:new Date(n,t-1,15).toISOString()},{id:14,borrower_name:"Kevin Anderson",borrower:"Kevin Anderson",amount:445e3,property_address:"357 Magnolia Rd, Richardson TX",stage:"Funded Prior Month",days_in_process:28,loan_officer:"Mike Chen",created_at:new Date(n,t-1,18).toISOString(),funded_date:new Date(n,t-1,18).toISOString()},{id:15,borrower_name:"Nancy Thomas",borrower:"Nancy Thomas",amount:365e3,property_address:"486 Sycamore Ln, Lewisville TX",stage:"Funded Prior Month",days_in_process:31,loan_officer:"Emily Davis",created_at:new Date(n,t-1,20).toISOString(),funded_date:new Date(n,t-1,20).toISOString()},{id:16,borrower_name:"Emily Davis",borrower:"Emily Davis",amount:52e4,property_address:"890 Second St, Houston TX",stage:"In Processing",days_in_process:12,loan_officer:"Emily Davis",created_at:new Date(n,t,18).toISOString()},{id:17,borrower_name:"Rachel Martinez",borrower:"Rachel Martinez",amount:345e3,property_address:"234 Oak Lane, Austin TX",stage:"In Processing",days_in_process:8,loan_officer:"Sarah Johnson",created_at:new Date(n,t,22).toISOString()},{id:18,borrower_name:"Tom Wilson",borrower:"Tom Wilson",amount:295e3,property_address:"123 Third Dr, San Antonio TX",stage:"In Underwriting",days_in_process:18,loan_officer:"Sarah Johnson",created_at:new Date(n,t,12).toISOString()},{id:19,borrower_name:"Carlos Rodriguez",borrower:"Carlos Rodriguez",amount:475e3,property_address:"567 Elm Street, Dallas TX",stage:"In Underwriting",days_in_process:15,loan_officer:"Mike Chen",created_at:new Date(n,t,15).toISOString()},{id:20,borrower_name:"Jessica Parker",borrower:"Jessica Parker",amount:525e3,property_address:"789 Maple Ave, Plano TX",stage:"Approved",days_in_process:20,loan_officer:"Emily Davis",created_at:new Date(n,t,10).toISOString()},{id:21,borrower_name:"Mark Stevens",borrower:"Mark Stevens",amount:395e3,property_address:"321 Pine Dr, Fort Worth TX",stage:"Approved",days_in_process:19,loan_officer:"Sarah Johnson",created_at:new Date(n,t,11).toISOString()},{id:22,borrower_name:"Lisa Brown",borrower:"Lisa Brown",amount:615e3,property_address:"456 Fourth Rd, Fort Worth TX",stage:"Clear to Close",days_in_process:22,loan_officer:"Mike Chen",created_at:new Date(n,t,8).toISOString()},{id:23,borrower_name:"Anna Thompson",borrower:"Anna Thompson",amount:41e4,property_address:"654 Cedar Blvd, Irving TX",stage:"Clear to Close",days_in_process:24,loan_officer:"Emily Davis",created_at:new Date(n,t,6).toISOString()},{id:24,borrower_name:"Brian Foster",borrower:"Brian Foster",amount:285e3,property_address:"987 Birch Ct, Arlington TX",stage:"Suspended",days_in_process:45,loan_officer:"Mike Chen",created_at:new Date(n,t-1,25).toISOString()},{id:25,borrower_name:"Michelle Cooper",borrower:"Michelle Cooper",amount:33e4,property_address:"147 Willow Way, Richardson TX",stage:"Suspended",days_in_process:38,loan_officer:"Sarah Johnson",created_at:new Date(n,t-1,28).toISOString()}]})())}finally{l(!1)}},b=()=>{x([{first_name:"",last_name:"",email:"",phone:"",credit_score:"",employment_status:"",annual_income:"",monthly_debts:""}]),y({address:"",city:"",state:"",zip_code:"",property_type:"",property_value:"",down_payment:""}),B({loan_number:"",amount:"",product_type:"",loan_type:"",interest_rate:"",term:360,closing_date:"",lock_date:"",processor:"",underwriter:"",realtor_agent:"",title_company:"",notes:""}),m(0)},C=(e,t,n)=>{const a=[...f];a[e]=Wt(Wt({},a[e]),{},{[t]:n}),x(a)},N=f[h]||f[0],Q=Array.isArray(s)?s:[];let F="All"===d?Q:Q.filter(e=>e.stage===d);if(p.trim()){const e=p.toLowerCase();F=F.filter(t=>{var n,a,A,s,r;return(null===(n=t.borrower_name)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(a=t.borrower)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(A=t.property_address)||void 0===A?void 0:A.toLowerCase().includes(e))||(null===(s=t.loan_officer)||void 0===s?void 0:s.toLowerCase().includes(e))||(null===(r=t.amount)||void 0===r?void 0:r.toString().includes(e))})}return i?(0,Te.jsx)("div",{className:"loading",children:"Loading loans..."}):(0,Te.jsxs)("div",{className:"loans-page",children:[(0,Te.jsxs)("div",{className:"page-header",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{children:"Active Loans"}),(0,Te.jsxs)("p",{children:[s.length," active loans"]})]}),(0,Te.jsxs)("div",{className:"header-actions",children:[(0,Te.jsx)("button",{className:"btn-secondary",onClick:()=>{alert("Export functionality coming soon")},children:"Export"}),(0,Te.jsx)("button",{className:"btn-primary",onClick:()=>c(!0),children:"+ New Loan"})]})]}),(0,Te.jsx)("div",{className:"filter-tabs",children:["All","In Processing","In Underwriting","Approved","Clear to Close","Suspended"].map(e=>(0,Te.jsx)("button",{className:"filter-tab ".concat(d===e?"active":""),onClick:()=>u(e),children:e},e))}),(0,Te.jsxs)("div",{className:"search-bar-container",children:[(0,Te.jsx)("input",{type:"text",className:"search-bar",placeholder:"Search loans by borrower, property address, loan officer, or amount...",value:p,onChange:e=>g(e.target.value)}),p&&(0,Te.jsx)("button",{className:"clear-search",onClick:()=>g(""),children:"\xd7"})]}),(0,Te.jsx)("div",{className:"table-container",children:(0,Te.jsxs)("table",{className:"loans-table",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{children:"Borrower"}),(0,Te.jsx)("th",{children:"Loan Amount"}),(0,Te.jsx)("th",{children:"Property Address"}),(0,Te.jsx)("th",{children:"Status"}),(0,Te.jsx)("th",{children:"Days in Process"}),(0,Te.jsx)("th",{children:"Loan Officer"})]})}),(0,Te.jsx)("tbody",{children:F.map(e=>(0,Te.jsxs)("tr",{onClick:()=>t("/loans/".concat(e.id)),style:{cursor:"pointer"},children:[(0,Te.jsx)("td",{className:"borrower-name",children:e.borrower||e.borrower_name}),(0,Te.jsxs)("td",{className:"loan-amount",children:["$",(e.amount||0).toLocaleString()]}),(0,Te.jsx)("td",{children:e.property_address||"N/A"}),(0,Te.jsx)("td",{children:(0,Te.jsx)("span",{className:"status-badge status-".concat(qA(e.stage)),children:e.stage})}),(0,Te.jsx)("td",{children:e.days_in_process||ZA(e.created_at)}),(0,Te.jsx)("td",{children:e.loan_officer||"Unassigned"})]},e.id))})]})}),0===F.length&&(0,Te.jsxs)("div",{className:"empty-state",children:[(0,Te.jsx)("h3",{children:"No loans found"}),(0,Te.jsx)("p",{children:"Try adjusting your filters or add a new loan"})]}),"Funded This Month"===d&&(0,Te.jsxs)("div",{className:"prior-months-section",children:[(0,Te.jsxs)("div",{className:"section-header",children:[(0,Te.jsx)("h2",{children:"Prior Months Closings"}),(0,Te.jsx)("p",{children:"Historical funded loans from previous months"})]}),(0,Te.jsx)("div",{className:"table-container",children:(0,Te.jsxs)("table",{className:"loans-table",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{children:"Borrower"}),(0,Te.jsx)("th",{children:"Loan Amount"}),(0,Te.jsx)("th",{children:"Property Address"}),(0,Te.jsx)("th",{children:"Funded Date"}),(0,Te.jsx)("th",{children:"Days in Process"}),(0,Te.jsx)("th",{children:"Loan Officer"})]})}),(0,Te.jsx)("tbody",{children:Q.filter(e=>"Funded Prior Month"===e.stage).map(e=>(0,Te.jsxs)("tr",{onClick:()=>t("/loans/".concat(e.id)),style:{cursor:"pointer"},children:[(0,Te.jsx)("td",{className:"borrower-name",children:e.borrower||e.borrower_name}),(0,Te.jsxs)("td",{className:"loan-amount",children:["$",(e.amount||0).toLocaleString()]}),(0,Te.jsx)("td",{children:e.property_address||"N/A"}),(0,Te.jsx)("td",{children:e.funded_date?new Date(e.funded_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"}),(0,Te.jsx)("td",{children:e.days_in_process||ZA(e.created_at)}),(0,Te.jsx)("td",{children:e.loan_officer||"Unassigned"})]},e.id))})]})}),0===s.filter(e=>"Funded Prior Month"===e.stage).length&&(0,Te.jsxs)("div",{className:"empty-state",children:[(0,Te.jsx)("h3",{children:"No prior month closings found"}),(0,Te.jsx)("p",{children:"There are no funded loans from previous months"})]})]}),(0,Te.jsx)("div",{className:"legacy-loans-grid",style:{display:"none"},children:(0,Te.jsx)("div",{className:"loans-grid",children:Q.map(e=>(0,Te.jsxs)("div",{className:"loan-card",children:[(0,Te.jsxs)("div",{className:"loan-header",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{children:e.borrower_name}),(0,Te.jsx)("span",{className:"loan-number",children:e.loan_number})]}),(0,Te.jsx)("span",{className:"status-badge status-".concat(e.sla_status),children:e.stage})]}),(0,Te.jsxs)("div",{className:"loan-details",children:[(0,Te.jsxs)("div",{className:"detail-row",children:[(0,Te.jsx)("span",{children:"Amount:"}),(0,Te.jsxs)("strong",{children:["$",e.amount.toLocaleString()]})]}),e.program&&(0,Te.jsxs)("div",{className:"detail-row",children:[(0,Te.jsx)("span",{children:"Program:"}),(0,Te.jsx)("span",{children:e.program})]}),e.rate&&(0,Te.jsxs)("div",{className:"detail-row",children:[(0,Te.jsx)("span",{children:"Rate:"}),(0,Te.jsxs)("span",{children:[e.rate,"%"]})]}),(0,Te.jsxs)("div",{className:"detail-row",children:[(0,Te.jsx)("span",{children:"Days in Stage:"}),(0,Te.jsx)("span",{children:e.days_in_stage})]}),e.closing_date&&(0,Te.jsxs)("div",{className:"detail-row",children:[(0,Te.jsx)("span",{children:"Closing:"}),(0,Te.jsx)("span",{children:new Date(e.closing_date).toLocaleDateString()})]})]}),(0,Te.jsx)("div",{className:"loan-actions",children:(0,Te.jsx)("button",{className:"btn-delete",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this loan?"))try{await Ca(e),j()}catch(t){alert("Failed to delete loan")}})(e.id),children:"Delete"})})]},e.id))})}),o&&(0,Te.jsx)("div",{className:"modal-overlay",onClick:()=>c(!1),children:(0,Te.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,Te.jsxs)("div",{className:"modal-header",children:[(0,Te.jsx)("h2",{children:"New Loan"}),(0,Te.jsx)("button",{className:"close-btn",onClick:()=>c(!1),children:"\xd7"})]}),(0,Te.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=f[0],t="".concat(e.first_name||""," ").concat(e.last_name||"").trim();if(!t)return void alert("Please enter borrower first name and last name");if(!w.loan_number)return void alert("Please enter a loan number");if(!w.amount)return void alert("Please enter a loan amount");const n={loan_number:w.loan_number,borrower_name:t,borrower_email:e.email||null,borrower_phone:e.phone||null,coborrower_name:f.length>1&&"".concat(f[1].first_name||""," ").concat(f[1].last_name||"").trim()||null,amount:parseFloat(w.amount),product_type:w.product_type||null,loan_type:w.loan_type||null,interest_rate:w.interest_rate?parseFloat(w.interest_rate):null,term:w.term||360,purchase_price:v.property_value?parseFloat(v.property_value):null,down_payment:v.down_payment?parseFloat(v.down_payment):null,property_address:v.address||null,property_city:v.city||null,property_state:v.state||null,property_zip:v.zip_code||null,lock_date:w.lock_date?"".concat(w.lock_date,"T00:00:00"):null,closing_date:w.closing_date?"".concat(w.closing_date,"T00:00:00"):null,processor:w.processor||null,underwriter:w.underwriter||null,realtor_agent:w.realtor_agent||null,title_company:w.title_company||null,notes:w.notes||null};console.log("Submitting loan data:",n),console.log("Auth token exists:",!!localStorage.getItem("token")),await ja(n),c(!1),b(),j()}catch(s){var t,n,a,A;console.error("Failed to create loan:",s),console.error("Error response:",s.response),console.error("Error config:",s.config),console.error("Error message:",s.message);let e="Failed to create loan";if("Network Error"===s.message){const t=!!localStorage.getItem("token");e="Cannot connect to server. Auth token present: ".concat(t,". Please try logging out and back in.")}else 401===(null===(t=s.response)||void 0===t?void 0:t.status)?e="Your session has expired. Please log out and log back in.":null!==(n=s.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.detail?e="string"===typeof s.response.data.detail?s.response.data.detail:JSON.stringify(s.response.data.detail):null!==(A=s.response)&&void 0!==A&&A.data?e=JSON.stringify(s.response.data):s.message&&(e=s.message);alert("Failed to create loan: ".concat(e))}},children:[(0,Te.jsx)("div",{className:"borrower-tabs",children:(0,Te.jsxs)("div",{className:"tabs-row",children:[f.map((e,t)=>(0,Te.jsxs)("div",{className:"borrower-tab ".concat(h===t?"active":""),onClick:()=>m(t),children:[(0,Te.jsxs)("span",{children:["Borrower ",t+1]}),t>0&&(0,Te.jsx)("button",{type:"button",className:"remove-borrower-btn",onClick:e=>{e.stopPropagation(),(e=>{if(f.length>1&&window.confirm("Remove this borrower?")){const t=f.filter((t,n)=>n!==e);x(t),m(Math.max(0,e-1))}})(t)},title:"Remove borrower",children:"\xd7"})]},t)),(0,Te.jsx)("button",{type:"button",className:"add-borrower-btn",onClick:()=>{x([...f,{first_name:"",last_name:"",email:"",phone:"",credit_score:"",employment_status:"",annual_income:"",monthly_debts:""}]),m(f.length)},title:"Add another borrower",children:"+"})]})}),(0,Te.jsxs)("div",{className:"form-section-title",children:["Borrower ",h+1," Information"]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"First Name *"}),(0,Te.jsx)("input",{type:"text",value:N.first_name,onChange:e=>C(h,"first_name",e.target.value),required:0===h})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Last Name *"}),(0,Te.jsx)("input",{type:"text",value:N.last_name,onChange:e=>C(h,"last_name",e.target.value),required:0===h})]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Email"}),(0,Te.jsx)("input",{type:"email",value:N.email,onChange:e=>C(h,"email",e.target.value)})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Phone"}),(0,Te.jsx)("input",{type:"tel",value:N.phone,onChange:e=>C(h,"phone",e.target.value)})]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Credit Score"}),(0,Te.jsx)("input",{type:"number",value:N.credit_score,onChange:e=>C(h,"credit_score",e.target.value),min:"300",max:"850"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Employment Status"}),(0,Te.jsxs)("select",{value:N.employment_status,onChange:e=>C(h,"employment_status",e.target.value),children:[(0,Te.jsx)("option",{value:"",children:"Select..."}),(0,Te.jsx)("option",{value:"Full-Time",children:"Full-Time"}),(0,Te.jsx)("option",{value:"Part-Time",children:"Part-Time"}),(0,Te.jsx)("option",{value:"Self-Employed",children:"Self-Employed"}),(0,Te.jsx)("option",{value:"Retired",children:"Retired"}),(0,Te.jsx)("option",{value:"Unemployed",children:"Unemployed"})]})]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Annual Income"}),(0,Te.jsx)("input",{type:"number",value:N.annual_income,onChange:e=>C(h,"annual_income",e.target.value),placeholder:"$"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Monthly Debts"}),(0,Te.jsx)("input",{type:"number",value:N.monthly_debts,onChange:e=>C(h,"monthly_debts",e.target.value),placeholder:"$"})]})]}),(0,Te.jsx)("div",{className:"form-section-title",children:"Property Information"}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Property Address"}),(0,Te.jsx)("input",{type:"text",value:v.address,onChange:e=>y(Wt(Wt({},v),{},{address:e.target.value})),placeholder:"Street address"})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"City"}),(0,Te.jsx)("input",{type:"text",value:v.city,onChange:e=>y(Wt(Wt({},v),{},{city:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"State"}),(0,Te.jsx)("input",{type:"text",value:v.state,onChange:e=>y(Wt(Wt({},v),{},{state:e.target.value})),maxLength:"2",placeholder:"CA"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"ZIP Code"}),(0,Te.jsx)("input",{type:"text",value:v.zip_code,onChange:e=>y(Wt(Wt({},v),{},{zip_code:e.target.value})),maxLength:"10"})]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Property Type"}),(0,Te.jsxs)("select",{value:v.property_type,onChange:e=>y(Wt(Wt({},v),{},{property_type:e.target.value})),children:[(0,Te.jsx)("option",{value:"",children:"Select..."}),(0,Te.jsx)("option",{value:"Single Family",children:"Single Family"}),(0,Te.jsx)("option",{value:"Condo",children:"Condo"}),(0,Te.jsx)("option",{value:"Townhouse",children:"Townhouse"}),(0,Te.jsx)("option",{value:"Multi-Family",children:"Multi-Family"}),(0,Te.jsx)("option",{value:"Manufactured",children:"Manufactured"})]})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Property Value"}),(0,Te.jsx)("input",{type:"number",value:v.property_value,onChange:e=>y(Wt(Wt({},v),{},{property_value:e.target.value})),placeholder:"$"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Down Payment"}),(0,Te.jsx)("input",{type:"number",value:v.down_payment,onChange:e=>y(Wt(Wt({},v),{},{down_payment:e.target.value})),placeholder:"$"})]})]}),(0,Te.jsx)("div",{className:"form-section-title",children:"Loan Details"}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Loan Number *"}),(0,Te.jsx)("input",{type:"text",value:w.loan_number,onChange:e=>B(Wt(Wt({},w),{},{loan_number:e.target.value})),required:!0})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Loan Amount *"}),(0,Te.jsx)("input",{type:"number",value:w.amount,onChange:e=>B(Wt(Wt({},w),{},{amount:e.target.value})),placeholder:"$",required:!0})]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Loan Type"}),(0,Te.jsxs)("select",{value:w.loan_type,onChange:e=>B(Wt(Wt({},w),{},{loan_type:e.target.value})),children:[(0,Te.jsx)("option",{value:"",children:"Select..."}),(0,Te.jsx)("option",{value:"Purchase",children:"Purchase"}),(0,Te.jsx)("option",{value:"Refinance",children:"Refinance"}),(0,Te.jsx)("option",{value:"Cash-Out Refi",children:"Cash-Out Refi"}),(0,Te.jsx)("option",{value:"HELOC",children:"HELOC"})]})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Program"}),(0,Te.jsxs)("select",{value:w.product_type,onChange:e=>B(Wt(Wt({},w),{},{product_type:e.target.value})),children:[(0,Te.jsx)("option",{value:"",children:"Select..."}),(0,Te.jsx)("option",{value:"Conventional",children:"Conventional"}),(0,Te.jsx)("option",{value:"FHA",children:"FHA"}),(0,Te.jsx)("option",{value:"VA",children:"VA"}),(0,Te.jsx)("option",{value:"USDA",children:"USDA"}),(0,Te.jsx)("option",{value:"Jumbo",children:"Jumbo"})]})]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Interest Rate %"}),(0,Te.jsx)("input",{type:"number",step:"0.001",value:w.interest_rate,onChange:e=>B(Wt(Wt({},w),{},{interest_rate:e.target.value})),placeholder:"6.500"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Term (months)"}),(0,Te.jsx)("input",{type:"number",value:w.term,onChange:e=>B(Wt(Wt({},w),{},{term:e.target.value})),placeholder:"360"})]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Lock Date"}),(0,Te.jsx)("input",{type:"date",value:w.lock_date,onChange:e=>B(Wt(Wt({},w),{},{lock_date:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Closing Date"}),(0,Te.jsx)("input",{type:"date",value:w.closing_date,onChange:e=>B(Wt(Wt({},w),{},{closing_date:e.target.value}))})]})]}),(0,Te.jsx)("div",{className:"form-section-title",children:"Team Members"}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Processor"}),(0,Te.jsx)("input",{type:"text",value:w.processor,onChange:e=>B(Wt(Wt({},w),{},{processor:e.target.value})),placeholder:"Processor name"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Underwriter"}),(0,Te.jsx)("input",{type:"text",value:w.underwriter,onChange:e=>B(Wt(Wt({},w),{},{underwriter:e.target.value})),placeholder:"Underwriter name"})]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Realtor/Agent"}),(0,Te.jsx)("input",{type:"text",value:w.realtor_agent,onChange:e=>B(Wt(Wt({},w),{},{realtor_agent:e.target.value})),placeholder:"Realtor name"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Title Company"}),(0,Te.jsx)("input",{type:"text",value:w.title_company,onChange:e=>B(Wt(Wt({},w),{},{title_company:e.target.value})),placeholder:"Title company name"})]})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Notes"}),(0,Te.jsx)("textarea",{rows:"3",value:w.notes,onChange:e=>B(Wt(Wt({},w),{},{notes:e.target.value})),placeholder:"Additional notes..."})]}),(0,Te.jsxs)("div",{className:"modal-actions",children:[(0,Te.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>c(!1),children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"btn-primary",children:"Create Loan"})]})]})]})})]})};const es=function(){var e,t;const{id:n}=ee(),A=$(),[s,r]=(0,a.useState)(null),[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(!0),[h,m]=(0,a.useState)({}),[p,g]=(0,a.useState)("personal"),[f,x]=(0,a.useState)([]),[v,y]=(0,a.useState)(0),[w,B]=(0,a.useState)(null);(0,a.useEffect)(()=>{j()},[n]);const j=async()=>{try{c(!0);const e=await Ba(n);r(e),m(e);const t=[{id:0,name:e.borrower_name||"Primary Borrower",type:"primary",data:{name:e.borrower_name,email:e.borrower_email,phone:e.borrower_phone}}];e.coborrower_name&&t.push({id:1,name:e.coborrower_name,type:"co-borrower",data:{name:e.coborrower_name}}),x(t)}catch(e){console.error("Failed to load loan data:",e),alert("Failed to load loan details")}finally{c(!1)}},b=(e,t)=>{const a=Wt(Wt({},h),{},{[e]:t});m(a),w&&clearTimeout(w),B(setTimeout(async()=>{try{await ba(n,{[e]:t})}catch(a){console.error("Auto-save failed:",a)}},1e3))};if(o)return(0,Te.jsx)("div",{className:"lead-detail-page",children:(0,Te.jsx)("div",{className:"loading",children:"Loading loan details..."})});if(!s)return(0,Te.jsx)("div",{className:"lead-detail-page",children:(0,Te.jsx)("div",{className:"error",children:"Loan not found"})});const C=f[v]||f[0];return(0,Te.jsxs)("div",{className:"lead-detail-page",children:[(0,Te.jsxs)("div",{className:"detail-header",children:[(0,Te.jsx)("button",{className:"btn-back",onClick:()=>A("/loans"),children:"\u2190 Back to Loans"}),(0,Te.jsx)("div",{className:"header-actions",children:d?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{className:"btn-save",onClick:async()=>{try{await ba(n,h),r(h),u(!1),alert("Loan updated successfully!")}catch(e){console.error("Failed to save loan:",e),alert("Failed to save changes")}},children:"Save"}),(0,Te.jsx)("button",{className:"btn-cancel",onClick:()=>{m(s)},children:"Cancel"})]}):(0,Te.jsx)("button",{className:"btn-edit-header",onClick:()=>u(!0),children:"\u270f\ufe0f Edit"})})]}),(0,Te.jsxs)("div",{className:"loan-toolbar",children:[(0,Te.jsx)("div",{className:"toolbar-header",children:(0,Te.jsx)("h3",{children:"Loan Details"})}),(0,Te.jsxs)("div",{className:"loan-fields-grid",children:[(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Loan Amount"}),(0,Te.jsx)("input",{type:"number",value:h.amount||"",onChange:e=>b("amount",parseFloat(e.target.value)),placeholder:"$"})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Interest Rate"}),(0,Te.jsx)("input",{type:"number",step:"0.001",value:h.rate||"",onChange:e=>b("rate",parseFloat(e.target.value)),placeholder:"%"})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Loan Term"}),(0,Te.jsx)("input",{type:"number",value:h.term||"",onChange:e=>b("term",parseInt(e.target.value)),placeholder:"months"})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Loan Type"}),(0,Te.jsx)("input",{type:"text",value:h.program||h.loan_type||"",onChange:e=>b("program",e.target.value)})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Lock Date"}),(0,Te.jsx)("input",{type:"date",value:h.lock_date?h.lock_date.split("T")[0]:"",onChange:e=>b("lock_date",e.target.value)})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Lock Expiration"}),(0,Te.jsx)("input",{type:"date",value:h.lock_expiration?h.lock_expiration.split("T")[0]:"",onChange:e=>b("lock_expiration",e.target.value)})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"APR"}),(0,Te.jsx)("input",{type:"number",step:"0.001",value:h.apr||"",onChange:e=>b("apr",parseFloat(e.target.value)),placeholder:"%"})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Points"}),(0,Te.jsx)("input",{type:"number",step:"0.125",value:h.points||"",onChange:e=>b("points",parseFloat(e.target.value))})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Lender"}),(0,Te.jsx)("input",{type:"text",value:h.lender||"",onChange:e=>b("lender",e.target.value)})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Loan Officer"}),(0,Te.jsx)("input",{type:"text",value:h.loan_officer_name||"",onChange:e=>b("loan_officer_name",e.target.value)})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Processor"}),(0,Te.jsx)("input",{type:"text",value:h.processor||"",onChange:e=>b("processor",e.target.value)})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Underwriter"}),(0,Te.jsx)("input",{type:"text",value:h.underwriter||"",onChange:e=>b("underwriter",e.target.value)})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Closing Date"}),(0,Te.jsx)("input",{type:"date",value:h.closing_date?h.closing_date.split("T")[0]:"",onChange:e=>b("closing_date",e.target.value)})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Appraisal Value"}),(0,Te.jsx)("input",{type:"number",value:h.appraisal_value||"",onChange:e=>b("appraisal_value",parseFloat(e.target.value)),placeholder:"$"})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"LTV %"}),(0,Te.jsx)("input",{type:"number",step:"0.01",value:h.ltv||"",onChange:e=>b("ltv",parseFloat(e.target.value)),placeholder:"%"})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"DTI %"}),(0,Te.jsx)("input",{type:"number",step:"0.01",value:h.dti||"",onChange:e=>b("dti",parseFloat(e.target.value)),placeholder:"%"})]})]})]}),(0,Te.jsx)("div",{className:"borrower-selector",children:f.map((e,t)=>(0,Te.jsxs)("button",{className:"borrower-btn ".concat(v===t?"active":""),onClick:()=>(e=>{y(e);const t=f[e];t&&t.data&&m(Wt(Wt({},h),t.data))})(t),children:[e.name,"primary"===e.type&&(0,Te.jsx)("span",{className:"borrower-badge",children:"Primary"})]},e.id))}),(0,Te.jsxs)("div",{className:"profile-tabs",children:[(0,Te.jsx)("button",{className:"tab-btn ".concat("personal"===p?"active":""),onClick:()=>g("personal"),children:"Personal"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("employment"===p?"active":""),onClick:()=>g("employment"),children:"Employment"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("loan"===p?"active":""),onClick:()=>g("loan"),children:"Loan"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("team"===p?"active":""),onClick:()=>g("team"),children:"Team Members"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("conversation"===p?"active":""),onClick:()=>g("conversation"),children:"Conversation Log"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("checklist"===p?"active":""),onClick:()=>g("checklist"),children:"Checklist"})]}),(0,Te.jsxs)("div",{className:"tab-content-container",children:["personal"===p&&(0,Te.jsxs)("div",{className:"tab-content",children:[(0,Te.jsx)("h2",{children:"Personal Information"}),(0,Te.jsxs)("div",{className:"form-section",children:[(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"First Name"}),(0,Te.jsx)("input",{type:"text",value:(null===(e=C.data.name)||void 0===e?void 0:e.split(" ")[0])||"",disabled:!0})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Last Name"}),(0,Te.jsx)("input",{type:"text",value:(null===(t=C.data.name)||void 0===t?void 0:t.split(" ").slice(1).join(" "))||"",disabled:!0})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Email"}),C.data.email?(0,Te.jsx)(GA,{email:C.data.email}):(0,Te.jsx)("input",{type:"email",value:"",placeholder:"No email provided",disabled:!0})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Phone"}),C.data.phone?(0,Te.jsx)(VA,{phone:C.data.phone}):(0,Te.jsx)("input",{type:"tel",value:"",placeholder:"No phone provided",disabled:!0})]})]}),(0,Te.jsx)("div",{className:"form-row",children:(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Loan Number"}),(0,Te.jsx)("input",{type:"text",value:h.loan_number||"",onChange:e=>b("loan_number",e.target.value)})]})})]})]}),"employment"===p&&(0,Te.jsxs)("div",{className:"tab-content",children:[(0,Te.jsx)("h2",{children:"Employment Information"}),(0,Te.jsx)("div",{className:"form-section",children:(0,Te.jsx)("p",{className:"info-text",children:"Employment information coming soon"})})]}),"loan"===p&&(0,Te.jsxs)("div",{className:"tab-content",children:[(0,Te.jsx)("h2",{children:"Property & Loan Details"}),(0,Te.jsxs)("div",{className:"form-section",children:[(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Property Address"}),(0,Te.jsx)("input",{type:"text",value:h.property_address||"",onChange:e=>b("property_address",e.target.value)})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Property City"}),(0,Te.jsx)("input",{type:"text",value:h.property_city||"",onChange:e=>b("property_city",e.target.value)})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Property State"}),(0,Te.jsx)("input",{type:"text",value:h.property_state||"",onChange:e=>b("property_state",e.target.value),maxLength:"2"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Property ZIP"}),(0,Te.jsx)("input",{type:"text",value:h.property_zip||"",onChange:e=>b("property_zip",e.target.value)})]})]}),(0,Te.jsx)("div",{className:"form-row",children:(0,Te.jsxs)("div",{className:"form-group",style:{gridColumn:"span 4"},children:[(0,Te.jsx)("label",{children:"Notes"}),(0,Te.jsx)("textarea",{rows:"4",value:h.notes||"",onChange:e=>b("notes",e.target.value),placeholder:"Add notes about this loan..."})]})})]})]}),"team"===p&&(0,Te.jsxs)("div",{className:"tab-content",children:[(0,Te.jsx)("h2",{children:"Team Members"}),(0,Te.jsx)("div",{className:"team-description",children:(0,Te.jsx)("p",{children:"Assign internal team members who are working on this loan."})}),(0,Te.jsxs)("div",{className:"form-section",children:[(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Loan Officer"}),(0,Te.jsx)("input",{type:"text",value:h.loan_officer_name||h.loan_officer||"",onChange:e=>b("loan_officer_name",e.target.value),placeholder:"Enter loan officer name"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Loan Officer Email"}),(0,Te.jsx)("input",{type:"email",value:h.loan_officer_email||"",onChange:e=>b("loan_officer_email",e.target.value),placeholder:"email@example.com"})]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Processor"}),(0,Te.jsx)("input",{type:"text",value:h.processor||"",onChange:e=>b("processor",e.target.value),placeholder:"Enter processor name"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Processor Email"}),(0,Te.jsx)("input",{type:"email",value:h.processor_email||"",onChange:e=>b("processor_email",e.target.value),placeholder:"email@example.com"})]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Underwriter"}),(0,Te.jsx)("input",{type:"text",value:h.underwriter||"",onChange:e=>b("underwriter",e.target.value),placeholder:"Enter underwriter name"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Underwriter Email"}),(0,Te.jsx)("input",{type:"email",value:h.underwriter_email||"",onChange:e=>b("underwriter_email",e.target.value),placeholder:"email@example.com"})]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Closer"}),(0,Te.jsx)("input",{type:"text",value:h.closer||"",onChange:e=>b("closer",e.target.value),placeholder:"Enter closer name"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Closer Email"}),(0,Te.jsx)("input",{type:"email",value:h.closer_email||"",onChange:e=>b("closer_email",e.target.value),placeholder:"email@example.com"})]})]})]})]}),"conversation"===p&&(0,Te.jsxs)("div",{className:"tab-content",children:[(0,Te.jsx)("h2",{children:"Conversation Log"}),(0,Te.jsx)("div",{className:"activity-feed",children:0===i.length?(0,Te.jsx)("p",{className:"no-activities",children:"No conversation history yet"}):i.map(e=>(0,Te.jsxs)("div",{className:"activity-item",children:[(0,Te.jsx)("div",{className:"activity-icon",children:e.type}),(0,Te.jsxs)("div",{className:"activity-details",children:[(0,Te.jsxs)("div",{className:"activity-header",children:[(0,Te.jsx)("strong",{children:e.title}),(0,Te.jsx)("span",{className:"activity-time",children:new Date(e.created_at).toLocaleString()})]}),(0,Te.jsx)("p",{children:e.description})]})]},e.id))})]}),"checklist"===p&&(0,Te.jsxs)("div",{className:"tab-content",children:[(0,Te.jsx)("h2",{children:"Loan Checklist"}),(0,Te.jsx)("div",{className:"form-section",children:(0,Te.jsx)("p",{className:"info-text",children:"Loan checklist coming soon"})})]})]})]})};function ts(e){let{onClose:t,onAdd:n}=e;const[A,s]=(0,a.useState)({name:"",loan_number:"",original_close_date:"",original_rate:"",loan_balance:""});return(0,Te.jsx)("div",{className:"modal-overlay",onClick:t,children:(0,Te.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Te.jsx)("h3",{children:"Add MUM Client"}),(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(Wt(Wt({},A),{},{original_rate:parseFloat(A.original_rate),loan_balance:parseFloat(A.loan_balance),original_close_date:new Date(A.original_close_date).toISOString()}))},children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Client Name *"}),(0,Te.jsx)("input",{type:"text",required:!0,value:A.name,onChange:e=>s(Wt(Wt({},A),{},{name:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Loan Number *"}),(0,Te.jsx)("input",{type:"text",required:!0,value:A.loan_number,onChange:e=>s(Wt(Wt({},A),{},{loan_number:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Original Close Date *"}),(0,Te.jsx)("input",{type:"date",required:!0,value:A.original_close_date,onChange:e=>s(Wt(Wt({},A),{},{original_close_date:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Original Interest Rate (%) *"}),(0,Te.jsx)("input",{type:"number",step:"0.001",required:!0,value:A.original_rate,onChange:e=>s(Wt(Wt({},A),{},{original_rate:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Current Loan Balance ($) *"}),(0,Te.jsx)("input",{type:"number",required:!0,value:A.loan_balance,onChange:e=>s(Wt(Wt({},A),{},{loan_balance:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-actions",children:[(0,Te.jsx)("button",{type:"button",onClick:t,children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"btn-primary",children:"Add Client"})]})]})]})})}const ns=function(){const e=$(),[t,n]=(0,a.useState)("mum-dashboard"),[A,s]=(0,a.useState)({totalLoans:0,totalVolume:0,commissionGenerated:0,portfolioValue:0,annualReturn:0,loans:[]}),[r,i]=(0,a.useState)([]),[l,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)("all"),[m,p]=(0,a.useState)("");(0,a.useEffect)(()=>{g()},[]);const g=async()=>{try{o(!0);const[e,t,n]=await Promise.all([Ka(),Ma(),Sa()]),a=e.total_volume||0,A=e.total_loans||0,r=.01*a,l=.9*a;s({totalLoans:A,totalVolume:a,commissionGenerated:r,portfolioValue:l,annualReturn:l>0?r/l*100:0,loans:Array.isArray(t)?t.map(e=>({id:e.id,borrower:e.client_name||e.borrower_name||"Unknown",loanAmount:e.loan_amount||0,loanType:e.loan_type||"N/A",status:e.status||"Unknown",closeDate:e.close_date||e.created_at,rate:e.interest_rate||0})):[]}),i(Array.isArray(n)?n:[])}catch(e){console.error("Failed to load portfolio data:",e);const t=(()=>{const e=(new Date).getFullYear(),t=(new Date).getMonth();return[{id:1,borrower:"Thomas Anderson",loanAmount:425e3,loanType:"30-Year Fixed",status:"Active",closeDate:new Date(e,t-2,15).toISOString(),rate:6.875},{id:2,borrower:"Sarah Connor",loanAmount:38e4,loanType:"15-Year Fixed",status:"Active",closeDate:new Date(e,t-4,22).toISOString(),rate:6.25},{id:3,borrower:"John McClane",loanAmount:52e4,loanType:"30-Year Fixed",status:"Active",closeDate:new Date(e,t-6,10).toISOString(),rate:7},{id:4,borrower:"Ellen Ripley",loanAmount:295e3,loanType:"FHA 30-Year",status:"Active",closeDate:new Date(e,t-8,5).toISOString(),rate:6.5},{id:5,borrower:"Luke Skywalker",loanAmount:615e3,loanType:"Jumbo 30-Year",status:"Active",closeDate:new Date(e,t-10,18).toISOString(),rate:7.25},{id:6,borrower:"Princess Leia",loanAmount:34e4,loanType:"VA 30-Year",status:"Active",closeDate:new Date(e,t-12,30).toISOString(),rate:6},{id:7,borrower:"Han Solo",loanAmount:45e4,loanType:"30-Year Fixed",status:"Active",closeDate:new Date(e-1,11,15).toISOString(),rate:6.75},{id:8,borrower:"Indiana Jones",loanAmount:385e3,loanType:"20-Year Fixed",status:"Active",closeDate:new Date(e-1,9,8).toISOString(),rate:6.5},{id:9,borrower:"Marty McFly",loanAmount:495e3,loanType:"30-Year Fixed",status:"Active",closeDate:new Date(e-1,7,22).toISOString(),rate:6.875},{id:10,borrower:"Tony Stark",loanAmount:725e3,loanType:"Jumbo 15-Year",status:"Active",closeDate:new Date(e-1,5,12).toISOString(),rate:6.375},{id:11,borrower:"Bruce Wayne",loanAmount:85e4,loanType:"Jumbo 30-Year",status:"Active",closeDate:new Date(e-1,3,28).toISOString(),rate:7.125},{id:12,borrower:"Diana Prince",loanAmount:415e3,loanType:"30-Year Fixed",status:"Active",closeDate:new Date(e-1,1,14).toISOString(),rate:6.625},{id:13,borrower:"Peter Parker",loanAmount:325e3,loanType:"FHA 30-Year",status:"Active",closeDate:new Date(e-2,10,20).toISOString(),rate:6.25},{id:14,borrower:"Clark Kent",loanAmount:565e3,loanType:"30-Year Fixed",status:"Active",closeDate:new Date(e-2,8,5).toISOString(),rate:6.5},{id:15,borrower:"Natasha Romanoff",loanAmount:395e3,loanType:"15-Year Fixed",status:"Active",closeDate:new Date(e-2,6,18).toISOString(),rate:5.875}]})(),n=(()=>{const e=new Date;return[{id:1,name:"Thomas Anderson",email:"tanderson@email.com",phone:"(555) 111-2222",loan_amount:425e3,close_date:new Date(e.getFullYear(),e.getMonth()-2,15).toISOString(),days_since_funding:60,next_touchpoint:new Date(e.getTime()+6048e5).toISOString(),engagement_score:85,refinance_opportunity:!0,last_contact:new Date(e.getTime()-12096e5).toISOString(),referrals_sent:2,anniversary_date:new Date(e.getFullYear(),e.getMonth()-2,15).toISOString()},{id:2,name:"Sarah Connor",email:"sconnor@email.com",phone:"(555) 222-3333",loan_amount:38e4,close_date:new Date(e.getFullYear(),e.getMonth()-4,22).toISOString(),days_since_funding:120,next_touchpoint:new Date(e.getTime()+2592e5).toISOString(),engagement_score:92,refinance_opportunity:!1,last_contact:new Date(e.getTime()-6048e5).toISOString(),referrals_sent:1,anniversary_date:new Date(e.getFullYear(),e.getMonth()-4,22).toISOString()},{id:3,name:"John McClane",email:"jmcclane@email.com",phone:"(555) 333-4444",loan_amount:52e4,close_date:new Date(e.getFullYear(),e.getMonth()-6,10).toISOString(),days_since_funding:180,next_touchpoint:new Date(e.getTime()+12096e5).toISOString(),engagement_score:78,refinance_opportunity:!0,last_contact:new Date(e.getTime()-18144e5).toISOString(),referrals_sent:3,anniversary_date:new Date(e.getFullYear(),e.getMonth()-6,10).toISOString()},{id:4,name:"Ellen Ripley",email:"eripley@email.com",phone:"(555) 444-5555",loan_amount:295e3,close_date:new Date(e.getFullYear(),e.getMonth()-8,5).toISOString(),days_since_funding:240,next_touchpoint:new Date(e.getTime()+432e6).toISOString(),engagement_score:88,refinance_opportunity:!1,last_contact:new Date(e.getTime()-864e6).toISOString(),referrals_sent:0,anniversary_date:new Date(e.getFullYear(),e.getMonth()-8,5).toISOString()},{id:5,name:"Luke Skywalker",email:"lskywalker@email.com",phone:"(555) 555-6666",loan_amount:615e3,close_date:new Date(e.getFullYear(),e.getMonth()-10,18).toISOString(),days_since_funding:300,next_touchpoint:new Date(e.getTime()+1728e5).toISOString(),engagement_score:95,refinance_opportunity:!0,last_contact:new Date(e.getTime()-432e6).toISOString(),referrals_sent:4,anniversary_date:new Date(e.getFullYear(),e.getMonth()-10,18).toISOString()},{id:6,name:"Princess Leia",email:"pleia@email.com",phone:"(555) 666-7777",loan_amount:34e4,close_date:new Date(e.getFullYear(),e.getMonth()-12,30).toISOString(),days_since_funding:360,next_touchpoint:new Date(e.getTime()+864e5).toISOString(),engagement_score:90,refinance_opportunity:!1,last_contact:new Date(e.getTime()-2592e5).toISOString(),referrals_sent:2,anniversary_date:new Date(e.getFullYear(),e.getMonth()-12,30).toISOString()},{id:7,name:"Han Solo",email:"hsolo@email.com",phone:"(555) 777-8888",loan_amount:45e4,close_date:new Date(e.getFullYear()-1,11,15).toISOString(),days_since_funding:395,next_touchpoint:new Date(e.getTime()+864e6).toISOString(),engagement_score:82,refinance_opportunity:!0,last_contact:new Date(e.getTime()-24192e5).toISOString(),referrals_sent:1,anniversary_date:new Date(e.getFullYear()-1,11,15).toISOString()},{id:8,name:"Indiana Jones",email:"ijones@email.com",phone:"(555) 888-9999",loan_amount:385e3,close_date:new Date(e.getFullYear()-1,9,8).toISOString(),days_since_funding:455,next_touchpoint:new Date(e.getTime()+1728e6).toISOString(),engagement_score:75,refinance_opportunity:!1,last_contact:new Date(e.getTime()-3024e6).toISOString(),referrals_sent:0,anniversary_date:new Date(e.getFullYear()-1,9,8).toISOString()},{id:9,name:"Marty McFly",email:"mmcfly@email.com",phone:"(555) 999-0000",loan_amount:495e3,close_date:new Date(e.getFullYear()-1,7,22).toISOString(),days_since_funding:500,next_touchpoint:new Date(e.getTime()+3456e5).toISOString(),engagement_score:87,refinance_opportunity:!0,last_contact:new Date(e.getTime()-10368e5).toISOString(),referrals_sent:2,anniversary_date:new Date(e.getFullYear()-1,7,22).toISOString()},{id:10,name:"Tony Stark",email:"tstark@email.com",phone:"(555) 000-1111",loan_amount:725e3,close_date:new Date(e.getFullYear()-1,5,12).toISOString(),days_since_funding:560,next_touchpoint:new Date(e.getTime()+5184e5).toISOString(),engagement_score:98,refinance_opportunity:!1,last_contact:new Date(e.getTime()-6048e5).toISOString(),referrals_sent:5,anniversary_date:new Date(e.getFullYear()-1,5,12).toISOString()}]})(),a=t.reduce((e,t)=>e+t.loanAmount,0),A=.01*a,r=.9*a,l=r>0?A/r*100:0;s({totalLoans:t.length,totalVolume:a,commissionGenerated:A,portfolioValue:r,annualReturn:l,loans:t}),i(n)}finally{o(!1)}};let f="all"===u?r:"opportunities"===u?r.filter(e=>e.refinance_opportunity):r;if(m.trim()){const e=m.toLowerCase();f=f.filter(t=>{var n,a,A,s;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(a=t.email)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(A=t.phone)||void 0===A?void 0:A.toLowerCase().includes(e))||(null===(s=t.loan_amount)||void 0===s?void 0:s.toString().includes(e))})}return l?(0,Te.jsx)("div",{className:"portfolio-container",children:(0,Te.jsx)("div",{className:"loading",children:"Loading portfolio..."})}):(0,Te.jsxs)("div",{className:"portfolio-container",children:[(0,Te.jsxs)("div",{className:"portfolio-header",children:[(0,Te.jsx)("h1",{className:"portfolio-title",children:"Portfolio"}),(0,Te.jsxs)("div",{className:"header-actions",children:[(0,Te.jsx)("button",{className:"btn-totals",onClick:()=>e("/portfolio/year-over-year"),children:"Totals"}),"mum"===t&&(0,Te.jsx)("button",{className:"btn-add",onClick:()=>d(!0),children:"+ Add MUM Client"})]})]}),(0,Te.jsxs)("div",{className:"portfolio-tabs",children:[(0,Te.jsx)("button",{className:"mum-dashboard"===t?"active":"",onClick:()=>n("mum-dashboard"),children:"MUM Dashboard"}),(0,Te.jsxs)("button",{className:"mum"===t?"active":"",onClick:()=>n("mum"),children:["MUM Clients (",r.length,")"]})]}),"mum-dashboard"===t&&(0,Te.jsxs)("div",{className:"mum-dashboard",children:[(0,Te.jsxs)("div",{className:"dashboard-section-header",children:[(0,Te.jsx)("h2",{children:"MORTGAGES UNDER MANAGEMENT"}),(0,Te.jsx)("p",{children:"Portfolio Performance"})]}),(0,Te.jsxs)("div",{className:"mum-stats-grid mum-stats-row",children:[(0,Te.jsxs)("div",{className:"mum-stat-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"$184,250,000"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"TOTAL UPB UNDER MGT"})]}),(0,Te.jsxs)("div",{className:"mum-stat-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"+$3.4M"}),(0,Te.jsx)("div",{className:"mum-stat-sublabel",children:"(MoM)"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"NET MUM GROWTH"})]}),(0,Te.jsxs)("div",{className:"mum-stat-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"1.82%"}),(0,Te.jsx)("div",{className:"mum-stat-sublabel",children:"Annual Yield"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"PORTFOLIO REVENUE YIELD"})]}),(0,Te.jsxs)("div",{className:"mum-stat-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"$12,480"}),(0,Te.jsx)("div",{className:"mum-stat-sublabel",children:"Avg. per Client"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"CLIENT LIFETIME VALUE"})]})]}),(0,Te.jsxs)("div",{className:"mum-stats-grid mum-stats-row",children:[(0,Te.jsxs)("div",{className:"mum-stat-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"487"}),(0,Te.jsx)("div",{className:"mum-stat-sublabel",children:"Active Clients"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"CLIENT COUNT"})]}),(0,Te.jsxs)("div",{className:"mum-stat-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"+22 / -5"}),(0,Te.jsx)("div",{className:"mum-stat-sublabel",children:"Added / Lost"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"LOANS ADDED VS LOST"})]}),(0,Te.jsxs)("div",{className:"mum-stat-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"+41%"}),(0,Te.jsx)("div",{className:"mum-stat-sublabel",children:"Above Industry Avg"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"CAPTURE RATE ALPHA"})]}),(0,Te.jsxs)("div",{className:"mum-stat-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"12.4%"}),(0,Te.jsx)("div",{className:"mum-stat-sublabel",children:"At-Risk Clients"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"ATTRITION RISK INDEX"})]})]}),(0,Te.jsx)("div",{className:"dashboard-section-header",children:(0,Te.jsx)("h2",{children:"PORTFOLIO OPPORTUNITIES"})}),(0,Te.jsxs)("div",{className:"mum-stats-grid mum-opportunities-row",children:[(0,Te.jsxs)("div",{className:"mum-stat-card opportunity-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"74"}),(0,Te.jsx)("div",{className:"mum-stat-sublabel",children:"Clients Eligible"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"RATE REBOUND OPPS"}),(0,Te.jsx)("div",{className:"opportunity-highlight",children:"18 High-Priority"})]}),(0,Te.jsxs)("div",{className:"mum-stat-card opportunity-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"112"}),(0,Te.jsx)("div",{className:"mum-stat-sublabel",children:"Clients > $150K Equity"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"EQUITY ACCESS OPPS"}),(0,Te.jsx)("div",{className:"opportunity-highlight",children:"37 Ready Now"})]}),(0,Te.jsxs)("div",{className:"mum-stat-card opportunity-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"32"}),(0,Te.jsx)("div",{className:"mum-stat-sublabel",children:"High-Priority Files"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"HELOC / REFI HEATMAP"}),(0,Te.jsx)("div",{className:"opportunity-highlight",children:"rate drop + equity + LTV"})]})]}),(0,Te.jsx)("div",{className:"dashboard-section-header",children:(0,Te.jsx)("h2",{children:"ANNUAL REVENUE PERFORMANCE"})}),(0,Te.jsxs)("div",{className:"mum-stats-grid mum-revenue-row",children:[(0,Te.jsxs)("div",{className:"mum-stat-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"$2,180"}),(0,Te.jsx)("div",{className:"mum-stat-sublabel",children:"per Client"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"ANNUAL REVENUE / CL"})]}),(0,Te.jsxs)("div",{className:"mum-stat-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"0.64"}),(0,Te.jsx)("div",{className:"mum-stat-sublabel",children:"Referrals/yr"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"REFERRAL RATE / CLIENT"})]}),(0,Te.jsxs)("div",{className:"mum-stat-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"21%"}),(0,Te.jsx)("div",{className:"mum-stat-sublabel",children:"5-Yr Rolling"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"REPEAT PURCHASE RATE"})]})]}),(0,Te.jsx)("div",{className:"dashboard-section-header",children:(0,Te.jsx)("h2",{children:"PORTFOLIO HEALTH"})}),(0,Te.jsxs)("div",{className:"mum-stats-grid mum-health-row",children:[(0,Te.jsxs)("div",{className:"mum-stat-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"89/100"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"PORTFOLIO STABILITY"})]}),(0,Te.jsxs)("div",{className:"mum-stat-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"\xb114%"}),(0,Te.jsx)("div",{className:"mum-stat-sublabel",children:"Month-to-Month"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"VARIANCE IN VOLUME"})]}),(0,Te.jsxs)("div",{className:"mum-stat-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"-28%"}),(0,Te.jsx)("div",{className:"mum-stat-sublabel",children:"Last 12 Months"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"PIPELINE MAX DRAWDOWN"})]})]}),(0,Te.jsx)("div",{className:"dashboard-section-header",children:(0,Te.jsx)("h2",{children:"CLIENT SEGMENTS"})}),(0,Te.jsxs)("div",{className:"mum-stats-grid mum-segments-row",children:[(0,Te.jsxs)("div",{className:"mum-stat-card segment-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"62%"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"PRIMARY RESIDENCE"})]}),(0,Te.jsxs)("div",{className:"mum-stat-card segment-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"18%"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"INVESTORS"})]}),(0,Te.jsxs)("div",{className:"mum-stat-card segment-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"12%"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"BUILDERS / RTO"})]}),(0,Te.jsxs)("div",{className:"mum-stat-card segment-card",children:[(0,Te.jsx)("div",{className:"mum-stat-value",children:"8%"}),(0,Te.jsx)("div",{className:"mum-stat-label",children:"REFINANCE / OTHER"})]})]}),(0,Te.jsx)("div",{className:"dashboard-section-header",children:(0,Te.jsx)("h2",{children:"AI-DRIVEN SUGGESTIONS"})}),(0,Te.jsxs)("div",{className:"ai-suggestions-container",children:[(0,Te.jsxs)("div",{className:"ai-suggestion-item",children:[(0,Te.jsx)("span",{className:"ai-bullet",children:"\u2022"}),(0,Te.jsxs)("span",{className:"ai-suggestion-text",children:[(0,Te.jsx)("strong",{children:"18 clients"})," qualify for refinance now based on Rate Rebound"]})]}),(0,Te.jsxs)("div",{className:"ai-suggestion-item",children:[(0,Te.jsx)("span",{className:"ai-bullet",children:"\u2022"}),(0,Te.jsxs)("span",{className:"ai-suggestion-text",children:[(0,Te.jsx)("strong",{children:"37 clients"})," should be contacted for HELOC/cash-out education"]})]}),(0,Te.jsxs)("div",{className:"ai-suggestion-item",children:[(0,Te.jsx)("span",{className:"ai-bullet",children:"\u2022"}),(0,Te.jsxs)("span",{className:"ai-suggestion-text",children:[(0,Te.jsx)("strong",{children:"12 high-risk attrition clients"})," need immediate outreach"]})]}),(0,Te.jsxs)("div",{className:"ai-suggestion-item",children:[(0,Te.jsx)("span",{className:"ai-bullet",children:"\u2022"}),(0,Te.jsxs)("span",{className:"ai-suggestion-text",children:[(0,Te.jsx)("strong",{children:"4 clients"})," have homes listed\u2014trigger Purchase-Next call"]})]}),(0,Te.jsxs)("div",{className:"ai-suggestion-item",children:[(0,Te.jsx)("span",{className:"ai-bullet",children:"\u2022"}),(0,Te.jsxs)("span",{className:"ai-suggestion-text",children:[(0,Te.jsx)("strong",{children:"89 clients"})," are 6\u201312 months from next mortgage event"]})]})]})]}),"mum"===t&&(0,Te.jsxs)("div",{className:"mum-section",children:[(0,Te.jsxs)("div",{className:"mum-header",children:[(0,Te.jsxs)("p",{className:"mum-subtitle",children:[r.length," closed clients \u2022 ",r.filter(e=>e.refinance_opportunity).length," refinance opportunities"]}),(0,Te.jsxs)("div",{className:"filter-bar",children:[(0,Te.jsxs)("button",{className:"all"===u?"active":"",onClick:()=>h("all"),children:["All Clients (",r.length,")"]}),(0,Te.jsxs)("button",{className:"opportunities"===u?"active":"",onClick:()=>h("opportunities"),children:["Refinance Opportunities (",r.filter(e=>e.refinance_opportunity).length,")"]})]})]}),(0,Te.jsxs)("div",{className:"search-bar-container",children:[(0,Te.jsx)("input",{type:"text",className:"search-bar",placeholder:"Search clients by name, email, phone, or loan amount...",value:m,onChange:e=>p(e.target.value)}),m&&(0,Te.jsx)("button",{className:"clear-search",onClick:()=>p(""),children:"\xd7"})]}),(0,Te.jsxs)("div",{className:"clients-table",children:[(0,Te.jsxs)("table",{children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{children:"Client Name"}),(0,Te.jsx)("th",{children:"Loan Number"}),(0,Te.jsx)("th",{children:"Closed Date"}),(0,Te.jsx)("th",{children:"Days Since Funding"}),(0,Te.jsx)("th",{children:"Original Rate"}),(0,Te.jsx)("th",{children:"Current Rate"}),(0,Te.jsx)("th",{children:"Loan Balance"}),(0,Te.jsx)("th",{children:"Opportunity"}),(0,Te.jsx)("th",{children:"Est. Savings"}),(0,Te.jsx)("th",{children:"Actions"})]})}),(0,Te.jsx)("tbody",{children:f.map(t=>{var n,a;return(0,Te.jsxs)("tr",{onClick:()=>e("/portfolio/".concat(t.id)),style:{cursor:"pointer"},children:[(0,Te.jsx)("td",{children:(0,Te.jsx)("strong",{children:t.name})}),(0,Te.jsx)("td",{children:t.loan_number}),(0,Te.jsx)("td",{children:new Date(t.original_close_date).toLocaleDateString()}),(0,Te.jsx)("td",{children:(0,Te.jsxs)("span",{className:"days-badge ".concat((a=t.days_since_funding,a<180?"recent":a<365?"medium":"old")),children:[t.days_since_funding," days"]})}),(0,Te.jsx)("td",{children:t.original_rate?"".concat(t.original_rate,"%"):"N/A"}),(0,Te.jsx)("td",{children:t.current_rate?"".concat(t.current_rate,"%"):"N/A"}),(0,Te.jsxs)("td",{children:["$",(null===(n=t.loan_balance)||void 0===n?void 0:n.toLocaleString())||0]}),(0,Te.jsx)("td",{children:t.refinance_opportunity?(0,Te.jsx)("span",{className:"opportunity-yes",children:"Yes"}):(0,Te.jsx)("span",{className:"opportunity-no",children:"No"})}),(0,Te.jsx)("td",{children:t.estimated_savings?(0,Te.jsxs)("span",{className:"savings",children:["$",t.estimated_savings.toLocaleString()]}):"-"}),(0,Te.jsx)("td",{children:(0,Te.jsxs)("div",{className:"action-buttons",children:[(0,Te.jsx)("button",{className:"btn-contact",children:"Contact"}),(0,Te.jsx)("button",{className:"btn-delete-small",onClick:()=>(async e=>{if(window.confirm("Delete this client?"))try{await Ia(e),g()}catch(t){console.error("Failed to delete client:",t)}})(t.id),children:"\xd7"})]})})]},t.id)})})]}),0===f.length&&(0,Te.jsx)("div",{className:"empty-state",children:"No clients found. Add your first MUM client to track post-closing opportunities."})]})]}),c&&(0,Te.jsx)(ts,{onClose:()=>d(!1),onAdd:async e=>{try{console.log("Creating MUM client with data:",e),await Ea(e),g(),d(!1)}catch(A){var t,n,a;console.error("Failed to create client:",A),console.error("Error response:",null===(t=A.response)||void 0===t?void 0:t.data);const e=null!==(n=A.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.detail?"string"===typeof A.response.data.detail?A.response.data.detail:JSON.stringify(A.response.data.detail):A.message||"Unknown error";alert("Failed to create MUM client: "+e)}}})]})};const as=function(){const{id:e}=ee(),t=$(),[n,A]=(0,a.useState)(null),[s,r]=(0,a.useState)(!0),[i,l]=(0,a.useState)(!0),[o,c]=(0,a.useState)({}),[d,u]=(0,a.useState)("personal"),[h,m]=(0,a.useState)(null),[p,g]=(0,a.useState)(!1),[f,x]=(0,a.useState)(!1),[v,y]=(0,a.useState)(""),[w,B]=(0,a.useState)(!1),[j,b]=(0,a.useState)([]);(0,a.useEffect)(()=>{C()},[e]);const C=async()=>{try{r(!0);const[t,n]=await Promise.all([ka(e),Ha({mum_client_id:e})]);A(t),c(t),b(n||[])}catch(t){console.error("Failed to load MUM client data:",t),alert("Failed to load client details")}finally{r(!1)}},N=(t,n)=>{const a=Wt(Wt({},o),{},{[t]:n});c(a),h&&clearTimeout(h),m(setTimeout(async()=>{try{await _a(e,{[t]:n}),console.log("Field ".concat(t," saved successfully"))}catch(a){console.error("Auto-save failed:",a)}},1e3))},Q=async e=>{switch(e){case"call":window.open("tel:".concat(n.phone),"_self");break;case"sms":g(!0);break;case"email":window.open("mailto:".concat(n.email),"_blank");break;case"teams":x(!0)}},F=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e);if(s)return(0,Te.jsx)("div",{className:"loading",children:"Loading client details..."});if(!n)return(0,Te.jsx)("div",{className:"error",children:"Client not found"});const U=(e=>{if(!e)return 0;const t=new Date(e),n=new Date;return Math.floor((n-t)/864e5)})(n.original_close_date||n.close_date);return(0,Te.jsxs)("div",{className:"lead-detail-page",children:[(0,Te.jsxs)("div",{className:"detail-header",children:[(0,Te.jsx)("button",{className:"btn-back",onClick:()=>t("/portfolio"),children:"\u2190 Back to Portfolio"}),(0,Te.jsxs)("div",{className:"header-title",children:[(0,Te.jsx)("h1",{children:n.name}),n.refinance_opportunity&&(0,Te.jsx)("span",{className:"opportunity-badge",children:"Refinance Opportunity"})]})]}),(0,Te.jsxs)("div",{className:"loan-toolbar",children:[(0,Te.jsx)("div",{className:"toolbar-header",children:(0,Te.jsx)("h3",{children:"Portfolio Client Details"})}),(0,Te.jsxs)("div",{className:"loan-fields-grid",children:[(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Days Since Funding"}),(0,Te.jsxs)("div",{className:"stat-display",children:[U," days"]})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Original Rate"}),(0,Te.jsx)("input",{type:"number",step:"0.001",value:o.original_rate||"",onChange:e=>N("original_rate",parseFloat(e.target.value)),placeholder:"%"})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Current Rate"}),(0,Te.jsx)("input",{type:"number",step:"0.001",value:o.current_rate||"",onChange:e=>N("current_rate",parseFloat(e.target.value)),placeholder:"%"})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Loan Balance"}),(0,Te.jsx)("input",{type:"number",value:o.loan_balance||"",onChange:e=>N("loan_balance",parseFloat(e.target.value)),placeholder:"$"})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Loan Number"}),(0,Te.jsx)("input",{type:"text",value:o.loan_number||"",onChange:e=>N("loan_number",e.target.value)})]}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Original Close Date"}),(0,Te.jsx)("input",{type:"date",value:o.original_close_date?o.original_close_date.split("T")[0]:"",onChange:e=>N("original_close_date",e.target.value)})]}),n.estimated_savings&&(0,Te.jsx)(Te.Fragment,{children:(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Est. Monthly Savings"}),(0,Te.jsx)("input",{type:"number",value:o.estimated_savings||"",onChange:e=>N("estimated_savings",parseFloat(e.target.value)),placeholder:"$"})]})}),(0,Te.jsxs)("div",{className:"loan-field",children:[(0,Te.jsx)("label",{children:"Refinance Opportunity"}),(0,Te.jsxs)("select",{value:o.refinance_opportunity?"yes":"no",onChange:e=>N("refinance_opportunity","yes"===e.target.value),children:[(0,Te.jsx)("option",{value:"no",children:"No"}),(0,Te.jsx)("option",{value:"yes",children:"Yes"})]})]})]})]}),(0,Te.jsxs)("div",{className:"profile-tabs",children:[(0,Te.jsx)("button",{className:"tab-btn ".concat("personal"===d?"active":""),onClick:()=>u("personal"),children:"Personal"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("loan"===d?"active":""),onClick:()=>u("loan"),children:"Loan Details"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("team"===d?"active":""),onClick:()=>u("team"),children:"Team Members"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("touchpoints"===d?"active":""),onClick:()=>u("touchpoints"),children:"Touchpoints"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("opportunities"===d?"active":""),onClick:()=>u("opportunities"),children:"Opportunities"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("conversation"===d?"active":""),onClick:()=>u("conversation"),children:"Conversation Log"})]}),(0,Te.jsxs)("div",{className:"detail-content",children:[(0,Te.jsxs)("div",{className:"left-column",children:["personal"===d&&(0,Te.jsxs)("div",{className:"info-section",children:[(0,Te.jsx)("h2",{children:"Personal Information"}),(0,Te.jsxs)("div",{className:"info-grid compact",children:[(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Client Name"}),(0,Te.jsx)("input",{type:"text",value:o.name||"",onChange:e=>N("name",e.target.value)})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Email"}),(0,Te.jsx)("input",{type:"email",value:o.email||"",onChange:e=>N("email",e.target.value)})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Phone"}),(0,Te.jsx)("input",{type:"tel",value:o.phone||"",onChange:e=>N("phone",e.target.value)})]})]})]}),"loan"===d&&(0,Te.jsxs)("div",{className:"info-section",children:[(0,Te.jsx)("h2",{children:"Loan Information"}),(0,Te.jsxs)("div",{className:"info-grid compact",children:[(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Original Close Date"}),(0,Te.jsx)("input",{type:"date",value:o.original_close_date?o.original_close_date.split("T")[0]:"",onChange:e=>N("original_close_date",e.target.value)})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Original Interest Rate (%)"}),(0,Te.jsx)("input",{type:"number",step:"0.001",value:o.original_rate||"",onChange:e=>N("original_rate",parseFloat(e.target.value))})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Current Rate (%)"}),(0,Te.jsx)("input",{type:"number",step:"0.001",value:o.current_rate||"",onChange:e=>N("current_rate",parseFloat(e.target.value))})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Loan Balance ($)"}),(0,Te.jsx)("input",{type:"number",value:o.loan_balance||"",onChange:e=>N("loan_balance",parseFloat(e.target.value))})]}),(0,Te.jsxs)("div",{className:"info-field",style:{gridColumn:"span 2"},children:[(0,Te.jsx)("label",{children:"Notes"}),(0,Te.jsx)("textarea",{rows:"4",value:o.notes||"",onChange:e=>N("notes",e.target.value),placeholder:"Add notes about this client..."})]})]})]}),"team"===d&&(0,Te.jsxs)("div",{className:"info-section",children:[(0,Te.jsx)("h2",{children:"Team Members"}),(0,Te.jsx)("div",{className:"team-description",children:(0,Te.jsx)("p",{children:"Assign internal team members who are working on this client's loan."})}),(0,Te.jsxs)("div",{className:"info-grid compact",children:[(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Loan Officer"}),(0,Te.jsx)("input",{type:"text",value:o.loan_officer||"",onChange:e=>N("loan_officer",e.target.value),placeholder:"Enter loan officer name"})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Loan Officer Email"}),(0,Te.jsx)("input",{type:"email",value:o.loan_officer_email||"",onChange:e=>N("loan_officer_email",e.target.value),placeholder:"email@example.com"})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Processor"}),(0,Te.jsx)("input",{type:"text",value:o.processor||"",onChange:e=>N("processor",e.target.value),placeholder:"Enter processor name"})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Processor Email"}),(0,Te.jsx)("input",{type:"email",value:o.processor_email||"",onChange:e=>N("processor_email",e.target.value),placeholder:"email@example.com"})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Underwriter"}),(0,Te.jsx)("input",{type:"text",value:o.underwriter||"",onChange:e=>N("underwriter",e.target.value),placeholder:"Enter underwriter name"})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Underwriter Email"}),(0,Te.jsx)("input",{type:"email",value:o.underwriter_email||"",onChange:e=>N("underwriter_email",e.target.value),placeholder:"email@example.com"})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Closer"}),(0,Te.jsx)("input",{type:"text",value:o.closer||"",onChange:e=>N("closer",e.target.value),placeholder:"Enter closer name"})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Closer Email"}),(0,Te.jsx)("input",{type:"email",value:o.closer_email||"",onChange:e=>N("closer_email",e.target.value),placeholder:"email@example.com"})]})]})]}),"touchpoints"===d&&(0,Te.jsxs)("div",{className:"info-section",children:[(0,Te.jsx)("h2",{children:"Client Touchpoints"}),(0,Te.jsxs)("div",{className:"info-grid compact",children:[(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Last Contact"}),(0,Te.jsx)("input",{type:"date",value:o.last_contact?o.last_contact.split("T")[0]:"",onChange:e=>N("last_contact",e.target.value)})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Next Touchpoint"}),(0,Te.jsx)("input",{type:"date",value:o.next_touchpoint?o.next_touchpoint.split("T")[0]:"",onChange:e=>N("next_touchpoint",e.target.value)})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Engagement Score"}),(0,Te.jsx)("input",{type:"number",min:"0",max:"100",value:o.engagement_score||0,onChange:e=>N("engagement_score",parseInt(e.target.value))}),(0,Te.jsx)("small",{children:"Score from 0-100 based on client responsiveness"})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Referrals Sent"}),(0,Te.jsx)("input",{type:"number",min:"0",value:o.referrals_sent||0,onChange:e=>N("referrals_sent",parseInt(e.target.value))})]})]})]}),"opportunities"===d&&(0,Te.jsxs)("div",{className:"info-section",children:[(0,Te.jsx)("h2",{children:"Refinance Opportunities"}),(0,Te.jsx)("div",{className:"info-grid compact",children:n.refinance_opportunity?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"opportunity-alert",style:{gridColumn:"span 2"},children:[(0,Te.jsx)("h3",{children:"Refinance Opportunity Detected"}),(0,Te.jsx)("p",{children:"This client may benefit from refinancing based on current market rates."})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Estimated Monthly Savings"}),(0,Te.jsx)("input",{type:"number",value:o.estimated_savings||"",onChange:e=>N("estimated_savings",parseFloat(e.target.value)),placeholder:"$"})]}),(0,Te.jsxs)("div",{className:"info-field",style:{gridColumn:"span 2"},children:[(0,Te.jsx)("label",{children:"Opportunity Notes"}),(0,Te.jsx)("textarea",{rows:"4",value:o.opportunity_notes||"",onChange:e=>N("opportunity_notes",e.target.value),placeholder:"Details about the refinance opportunity..."})]})]}):(0,Te.jsxs)("div",{className:"no-opportunity",style:{gridColumn:"span 2"},children:[(0,Te.jsx)("p",{children:"No refinance opportunity identified at this time."}),(0,Te.jsx)("p",{children:"Monitor market rates and client circumstances for future opportunities."})]})})]}),"conversation"===d&&(0,Te.jsxs)("div",{className:"info-section",children:[(0,Te.jsx)("h2",{children:"Conversation Log"}),(0,Te.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),v.trim())try{B(!0),await Ta({type:"Note",content:v,mum_client_id:parseInt(e)}),y(""),C()}catch(n){console.error("Failed to add note:",n),alert("Failed to add note")}finally{B(!1)}},className:"add-note-form",children:[(0,Te.jsx)("textarea",{value:v,onChange:e=>y(e.target.value),placeholder:"Add a note to the conversation log...",rows:"3",disabled:w}),(0,Te.jsx)("button",{type:"submit",disabled:w||!v.trim(),children:w?"Adding...":"Add Note"})]}),(0,Te.jsx)("div",{className:"conversation-log",children:j.length>0?j.map(e=>(0,Te.jsxs)("div",{className:"activity-item",children:[(0,Te.jsxs)("div",{className:"activity-header",children:[(0,Te.jsx)("span",{className:"activity-type ".concat(e.type),children:e.type}),(0,Te.jsx)("span",{className:"activity-date",children:new Date(e.created_at).toLocaleString()})]}),(0,Te.jsx)("div",{className:"activity-description",children:e.content||e.description})]},e.id)):(0,Te.jsx)("div",{className:"empty-state",children:"No activities yet"})})]})]}),(0,Te.jsxs)("div",{className:"right-column",children:[(0,Te.jsxs)("div",{className:"actions-card",children:[(0,Te.jsx)("h3",{children:"Quick Actions"}),(0,Te.jsxs)("div",{className:"action-buttons",children:[(0,Te.jsxs)("button",{className:"action-btn call",onClick:()=>Q("call"),disabled:!n.phone,title:"Click to call",children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83d\udcde"}),(0,Te.jsx)("span",{children:"Call"})]}),(0,Te.jsxs)("button",{className:"action-btn sms",onClick:()=>Q("sms"),disabled:!n.phone,title:"Send SMS",children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83d\udcac"}),(0,Te.jsx)("span",{children:"SMS Text"})]}),(0,Te.jsxs)("button",{className:"action-btn email",onClick:()=>Q("email"),disabled:!n.email,children:[(0,Te.jsx)("span",{className:"icon",children:"\u2709\ufe0f"}),(0,Te.jsx)("span",{children:"Send Email"})]}),(0,Te.jsxs)("button",{className:"action-btn teams",onClick:()=>Q("teams"),title:"Create Microsoft Teams meeting",children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83d\udc65"}),(0,Te.jsx)("span",{children:"Teams Meeting"})]})]})]}),(0,Te.jsxs)("div",{className:"stats-card",children:[(0,Te.jsx)("h3",{children:"Client Stats"}),(0,Te.jsxs)("div",{className:"stats-list",children:[(0,Te.jsxs)("div",{className:"stat-row",children:[(0,Te.jsx)("span",{className:"stat-label",children:"Days Since Funding"}),(0,Te.jsx)("span",{className:"stat-value",children:U})]}),(0,Te.jsxs)("div",{className:"stat-row",children:[(0,Te.jsx)("span",{className:"stat-label",children:"Original Rate"}),(0,Te.jsxs)("span",{className:"stat-value",children:[o.original_rate||"N/A","%"]})]}),(0,Te.jsxs)("div",{className:"stat-row",children:[(0,Te.jsx)("span",{className:"stat-label",children:"Current Rate"}),(0,Te.jsxs)("span",{className:"stat-value",children:[o.current_rate||"N/A","%"]})]}),(0,Te.jsxs)("div",{className:"stat-row",children:[(0,Te.jsx)("span",{className:"stat-label",children:"Loan Balance"}),(0,Te.jsx)("span",{className:"stat-value",children:F(o.loan_balance||0)})]}),o.estimated_savings&&(0,Te.jsxs)("div",{className:"stat-row highlight",children:[(0,Te.jsx)("span",{className:"stat-label",children:"Est. Savings"}),(0,Te.jsx)("span",{className:"stat-value",children:F(o.estimated_savings)})]})]})]})]})]}),n&&(0,Te.jsx)(WA,{isOpen:p,onClose:()=>g(!1),lead:n}),n&&(0,Te.jsx)(zA,{isOpen:f,onClose:()=>x(!1),lead:n})]})};const As=function(){var e,t,n,A,s,r,i,l,o,c;const d=$(),[u,h]=(0,a.useState)([]),[m,p]=(0,a.useState)(!0);(0,a.useEffect)(()=>{g()},[]);const g=async()=>{try{p(!0);const e="https://mortgage-crm-production-7a9a.up.railway.app",t=localStorage.getItem("token"),n=await fetch("".concat(e,"/api/v1/portfolio/yearly-stats"),{headers:{Authorization:"Bearer ".concat(t)}});if(n.ok){const e=await n.json();h(Array.isArray(e)?e:[])}else h(f())}catch(e){console.error("Failed to load yearly data:",e),h(f())}finally{p(!1)}},f=()=>{const e=(new Date).getFullYear();return[{year:e-3,total_loans:45,total_volume:1525e4,active_loans:12,commission_earned:152500,closed_loans:45},{year:e-2,total_loans:52,total_volume:189e5,active_loans:15,commission_earned:189e3,closed_loans:52},{year:e-1,total_loans:60,total_volume:213e5,active_loans:18,commission_earned:213e3,closed_loans:60},{year:e,total_loans:68,total_volume:245e5,active_loans:22,commission_earned:245e3,closed_loans:68,is_current:!0}]},x=(e,t)=>t&&0!==t?(e-t)/t*100:0,v=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e),y=(e,t)=>{const n=(e=>Math.max(...u.map(t=>t[e]||0)))(t);return n>0?e/n*100:0};return m?(0,Te.jsx)("div",{className:"year-over-year-page",children:(0,Te.jsx)("div",{className:"loading",children:"Loading yearly data..."})}):(0,Te.jsxs)("div",{className:"year-over-year-page",children:[(0,Te.jsx)("div",{className:"page-header",children:(0,Te.jsxs)("div",{children:[(0,Te.jsx)("button",{className:"btn-back",onClick:()=>d("/portfolio"),children:"\u2190 Back to Portfolio"}),(0,Te.jsx)("h1",{children:"Year Over Year Performance"}),(0,Te.jsx)("p",{className:"page-subtitle",children:"Annual totals and ROI trends"})]})}),(0,Te.jsxs)("div",{className:"roi-cards",children:[(0,Te.jsxs)("div",{className:"roi-card",children:[(0,Te.jsx)("div",{className:"roi-label",children:"Volume Growth"}),(0,Te.jsx)("div",{className:"roi-value",children:u.length>=2?(0,Te.jsxs)(Te.Fragment,{children:[x(null===(e=u[u.length-1])||void 0===e?void 0:e.total_volume,null===(t=u[u.length-2])||void 0===t?void 0:t.total_volume).toFixed(1),"%"]}):"N/A"}),(0,Te.jsx)("div",{className:"roi-subtitle",children:"Year over Year"})]}),(0,Te.jsxs)("div",{className:"roi-card",children:[(0,Te.jsx)("div",{className:"roi-label",children:"Loan Count Growth"}),(0,Te.jsx)("div",{className:"roi-value",children:u.length>=2?(0,Te.jsxs)(Te.Fragment,{children:[x(null===(n=u[u.length-1])||void 0===n?void 0:n.total_loans,null===(A=u[u.length-2])||void 0===A?void 0:A.total_loans).toFixed(1),"%"]}):"N/A"}),(0,Te.jsx)("div",{className:"roi-subtitle",children:"Year over Year"})]}),(0,Te.jsxs)("div",{className:"roi-card",children:[(0,Te.jsx)("div",{className:"roi-label",children:"Commission Growth"}),(0,Te.jsx)("div",{className:"roi-value",children:u.length>=2?(0,Te.jsxs)(Te.Fragment,{children:[x(null===(s=u[u.length-1])||void 0===s?void 0:s.commission_earned,null===(r=u[u.length-2])||void 0===r?void 0:r.commission_earned).toFixed(1),"%"]}):"N/A"}),(0,Te.jsx)("div",{className:"roi-subtitle",children:"Year over Year"})]}),(0,Te.jsxs)("div",{className:"roi-card highlight",children:[(0,Te.jsx)("div",{className:"roi-label",children:"Average ROI"}),(0,Te.jsx)("div",{className:"roi-value",children:u.length>=2?(0,Te.jsxs)(Te.Fragment,{children:[((x(null===(i=u[u.length-1])||void 0===i?void 0:i.total_volume,null===(l=u[u.length-2])||void 0===l?void 0:l.total_volume)+x(null===(o=u[u.length-1])||void 0===o?void 0:o.commission_earned,null===(c=u[u.length-2])||void 0===c?void 0:c.commission_earned))/2).toFixed(1),"%"]}):"N/A"}),(0,Te.jsx)("div",{className:"roi-subtitle",children:"Composite Growth Rate"})]})]}),(0,Te.jsxs)("div",{className:"chart-section",children:[(0,Te.jsx)("h2",{children:"Total Volume by Year"}),(0,Te.jsx)("div",{className:"bar-chart",children:u.map(e=>(0,Te.jsxs)("div",{className:"bar-group",children:[(0,Te.jsx)("div",{className:"bar-container",children:(0,Te.jsx)("div",{className:"bar ".concat(e.is_current?"current-year":""),style:{height:"".concat(y(e.total_volume,"total_volume"),"%")},children:(0,Te.jsx)("span",{className:"bar-value",children:v(e.total_volume)})})}),(0,Te.jsxs)("div",{className:"bar-label",children:[e.year,e.is_current?" (Current)":""]})]},e.year))})]}),(0,Te.jsxs)("div",{className:"chart-section",children:[(0,Te.jsx)("h2",{children:"Total Loans by Year"}),(0,Te.jsx)("div",{className:"bar-chart",children:u.map(e=>(0,Te.jsxs)("div",{className:"bar-group",children:[(0,Te.jsx)("div",{className:"bar-container",children:(0,Te.jsx)("div",{className:"bar ".concat(e.is_current?"current-year":""),style:{height:"".concat(y(e.total_loans,"total_loans"),"%")},children:(0,Te.jsx)("span",{className:"bar-value",children:e.total_loans})})}),(0,Te.jsxs)("div",{className:"bar-label",children:[e.year,e.is_current?" (Current)":""]})]},e.year))})]}),(0,Te.jsxs)("div",{className:"chart-section",children:[(0,Te.jsx)("h2",{children:"Commission Earned by Year"}),(0,Te.jsx)("div",{className:"bar-chart",children:u.map(e=>(0,Te.jsxs)("div",{className:"bar-group",children:[(0,Te.jsx)("div",{className:"bar-container",children:(0,Te.jsx)("div",{className:"bar ".concat(e.is_current?"current-year":""),style:{height:"".concat(y(e.commission_earned,"commission_earned"),"%")},children:(0,Te.jsx)("span",{className:"bar-value",children:v(e.commission_earned)})})}),(0,Te.jsxs)("div",{className:"bar-label",children:[e.year,e.is_current?" (Current)":""]})]},e.year))})]}),(0,Te.jsxs)("div",{className:"data-table-section",children:[(0,Te.jsx)("h2",{children:"Yearly Summary"}),(0,Te.jsx)("div",{className:"table-container",children:(0,Te.jsxs)("table",{className:"yearly-table",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{children:"Year"}),(0,Te.jsx)("th",{children:"Total Loans"}),(0,Te.jsx)("th",{children:"Total Volume"}),(0,Te.jsx)("th",{children:"Commission Earned"}),(0,Te.jsx)("th",{children:"Active Loans (EOY)"}),(0,Te.jsx)("th",{children:"Volume Growth"}),(0,Te.jsx)("th",{children:"Commission Growth"})]})}),(0,Te.jsx)("tbody",{children:u.map((e,t)=>{const n=t>0?u[t-1]:null,a=n?x(e.total_volume,n.total_volume):null,A=n?x(e.commission_earned,n.commission_earned):null;return(0,Te.jsxs)("tr",{className:e.is_current?"current-year-row":"",children:[(0,Te.jsxs)("td",{className:"year-cell",children:[e.year,e.is_current&&(0,Te.jsx)("span",{className:"current-badge",children:"Current"})]}),(0,Te.jsx)("td",{children:e.total_loans}),(0,Te.jsx)("td",{children:v(e.total_volume)}),(0,Te.jsx)("td",{children:v(e.commission_earned)}),(0,Te.jsx)("td",{children:e.active_loans}),(0,Te.jsx)("td",{className:a>0?"positive":a<0?"negative":"",children:null!==a?"".concat(a>0?"+":"").concat(a.toFixed(1),"%"):"N/A"}),(0,Te.jsx)("td",{className:A>0?"positive":A<0?"negative":"",children:null!==A?"".concat(A>0?"+":"").concat(A.toFixed(1),"%"):"N/A"})]},e.year)})})]})})]}),(0,Te.jsxs)("div",{className:"info-note",children:[(0,Te.jsx)("strong",{children:"Note:"})," Yearly totals are automatically captured at midnight on December 31st. At year-end, active loans and commission values reset for the new year, while total loans and total volume continue to accumulate across all years."]})]})};const ss=()=>[{title:"Follow up on pre-approval",borrower:"Sarah Johnson",stage:"Pre-Approved",urgency:"high",ai_action:"AI can send follow-up email \u2014 approve?",owner:"Loan Officer",date_created:"2025-11-09T10:30:00",preferred_contact_method:"Email",ai_message:"Hi Sarah,\n\nI hope this message finds you well! I wanted to follow up on your pre-approval that we completed last week.\n\nYour pre-approval is valid for 90 days, expiring on February 8, 2025. I wanted to check in and see if you've had a chance to view any properties or if you have any questions about next steps.\n\nIf you'd like to discuss your home search or need any assistance, I'm here to help. Feel free to reply to this email or give me a call at (555) 123-4567.\n\nLooking forward to hearing from you!\n\nBest regards,\n[Your Name]\nLoan Officer",communication_history:[{date:"2025-11-08",type:"Email",subject:"Pre-approval completed",status:"Sent",message:"Sent pre-approval letter and next steps"},{date:"2025-11-05",type:"Phone",subject:"Initial consultation",status:"Completed",message:"30-minute call discussing loan options and requirements"},{date:"2025-11-03",type:"Email",subject:"Welcome email",status:"Sent",message:"Introduced myself and requested initial documents"}]},{title:"Upload missing documents",borrower:"Mike Chen",stage:"Processing",urgency:"critical",ai_action:"AI detected missing documents from email analysis",owner:"Loan Processor",date_created:"2025-11-10T14:20:00",preferred_contact_method:"Text",missing_documents:["2024 W-2 forms (both employers)","Last 2 pay stubs from current job","2 months recent bank statements (checking account)"],ai_message:"Hi Mike,\n\nHope you're doing well! I've been reviewing your loan file and noticed we're still missing a few documents to move forward with processing:\n\n\ud83d\udcc4 Still Needed:\n\u2022 2024 W-2 forms (both employers)\n\u2022 Last 2 pay stubs from current job\n\u2022 2 months recent bank statements (checking)\n\nCan you upload these through the portal? Or you can reply with photos and I'll handle the upload for you.\n\nOnce we have these, we can move to the next stage! Let me know if you have any questions.\n\nThanks!\n[Your Name]\nLoan Processor",communication_history:[{date:"2025-11-10",type:"Email",subject:"Re: Document checklist",status:"Received",message:'Mike replied: "I uploaded the tax returns and my W-2 from my main job. Will send the other W-2 tomorrow."'},{date:"2025-11-09",type:"Text",subject:"Quick check-in",status:"Sent",message:"Asked Mike about document upload progress"},{date:"2025-11-08",type:"Email",subject:"Document checklist",status:"Sent",message:"Sent comprehensive list of all required documents for loan processing"},{date:"2025-11-07",type:"Email",subject:"Welcome to processing",status:"Sent",message:"Introduced loan processing phase and set expectations"}]},{title:"Schedule appraisal",borrower:"Emily Davis",stage:"Application Complete",urgency:"medium",ai_action:"AI can schedule appraisal \u2014 approve?",owner:"Loan Officer",date_created:"2025-11-10T09:15:00",preferred_contact_method:"Phone",ai_message:"Hi Emily,\n\nGreat news! Your loan application has been approved and we're ready to move forward with the appraisal.\n\nI have availability with our preferred appraiser for the following dates:\n- Thursday, November 14th at 10:00 AM\n- Friday, November 15th at 2:00 PM\n- Monday, November 18th at 9:00 AM\n\nThe appraisal typically takes 45-60 minutes. Please let me know which time works best for you, and I'll get it scheduled right away.\n\nThanks!\n[Your Name]",communication_history:[{date:"2025-11-09",type:"Email",subject:"Application approved",status:"Sent",message:"Congratulations email sent with next steps"},{date:"2025-11-07",type:"Phone",subject:"Application review",status:"Completed",message:"Reviewed application details"}]}],rs=()=>[{borrower:"John Smith",issue:"Appraisal delay",time_remaining:"2 days",time_color:"#f59e0b",action:"Follow up"},{borrower:"Jane Doe",issue:"Insurance missing",time_remaining:"5 hours",time_color:"#dc2626",action:"Send reminder"}],is=()=>({pending:[{id:1,task:"Draft follow-up email to Sarah Johnson",confidence:94,what_ai_did:"Composed personalized email based on last conversation"},{id:2,task:"Schedule appointment with Mike Chen",confidence:87,what_ai_did:"Found mutual availability on calendar for Thursday 2pm"}],waiting:[{task:"Approve rate lock for Emily Davis file"},{task:"Review updated credit report for John Smith"}]}),ls=()=>[{icon:"\ud83d\udcc5",title:"Annual review due",client:"Tom Wilson",action:"Schedule"},{icon:"\ud83d\udcc9",title:"Rate drop opportunity",client:"Lisa Brown",action:"Send alert"},{icon:"\ud83c\udf82",title:"Home anniversary",client:"Mark Taylor",action:"Send card"}],os=()=>({new_today:3,avg_contact_time:1.2,conversion_rate:23,hot_leads:5,alerts:["3 leads haven't been contacted in 24 hours.","2 leads showed high buying intent in email.","A referral partner sent you a lead and you haven't responded."]}),cs=()=>[{id:1,type:"email",type_icon:"\ud83d\udce7",from:"Sarah Johnson",client_type:"Pre-Approved",source:"Outlook",timestamp:"2 hours ago",preview:"Quick question about my pre-approval...",ai_summary:"Asking about pre-approval expiration date",read:!1,requires_response:!0},{id:2,type:"text",type_icon:"\ud83d\udcac",from:"Mike Chen",client_type:"Processing",source:"Teams",timestamp:"5 hours ago",preview:"Thanks for the update!",ai_summary:null,read:!0,requires_response:!1},{id:3,type:"voicemail",type_icon:"\ud83c\udf99\ufe0f",from:"Emily Davis",client_type:"Application Started",source:"Voicemail",timestamp:"1 day ago",preview:"Left voicemail about appraisal timing",ai_summary:"Wants to know when appraisal will be scheduled",duration:"1:23",read:!1,requires_response:!0},{id:4,type:"email",type_icon:"\ud83d\udce7",from:"John Smith",client_type:"Prospect",source:"Outlook",timestamp:"3 days ago",preview:"Following up on our conversation...",ai_summary:"Requesting rate quote for $450k loan",read:!0,requires_response:!1,task_created:!0,task_id:"TASK-123"}],ds=function(){$();const[e,t]=(0,a.useState)(!0),[n,A]=(0,a.useState)(new Set),[s,r]=(0,a.useState)("outstanding"),[i,l]=(0,a.useState)(null),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(""),[h,m]=(0,a.useState)(!1),[p,g]=(0,a.useState)(""),[f,x]=(0,a.useState)(null),[v,y]=(0,a.useState)([]),[w,B]=(0,a.useState)([]),[j,b]=(0,a.useState)({pending:[],waiting:[]}),[C,N]=(0,a.useState)([]),[Q,F]=(0,a.useState)({}),[U,S]=(0,a.useState)([]);(0,a.useEffect)(()=>{k()},[]),(0,a.useEffect)(()=>{if(!e){const e=E();e.length>0?l(e[0]):l(null)}},[e,s]),(0,a.useEffect)(()=>{i&&(u(i.ai_message||""),g(i.owner||"Loan Officer"),c(!1),m(!1))},[i]);const k=async()=>{try{t(!0),y(ss()),B(rs()),b(is()),N(ls()),F(os()),S(cs())}catch(e){console.error("Failed to load tasks:",e),y(ss()),B(rs()),b(is()),N(ls()),F(os()),S(cs())}finally{t(!1)}},E=()=>{const e=_();switch(s){case"outstanding":default:return e;case"ai-approval":return e.filter(e=>"AI Engine"===e.source);case"reconciliation":return e.filter(e=>"Milestone Risk"===e.source);case"messages":return e.filter(e=>"Messages"===e.source);case"mum":return e.filter(e=>"Client for Life"===e.source)}},_=()=>{const e=[];return v.forEach((t,a)=>{n.has("priority-".concat(a))||e.push(Wt(Wt({id:"priority-".concat(a)},t),{},{source:"Manual Priority",sourceIcon:"\ud83c\udfaf"}))}),w.forEach((t,a)=>{n.has("issue-".concat(a))||e.push({id:"issue-".concat(a),title:t.issue,borrower:t.borrower,stage:"Milestone Alert",urgency:"critical",ai_action:null,source:"Milestone Risk",sourceIcon:"\ud83d\udd25",action:t.action})}),j.pending.forEach((t,a)=>{n.has("ai-pending-".concat(a))||e.push({id:"ai-pending-".concat(a),title:t.task,borrower:"",stage:"AI Suggested",urgency:"medium",ai_action:"AI confidence: ".concat(t.confidence,"%"),source:"AI Engine",sourceIcon:"\ud83e\udd16"})}),j.waiting.forEach((t,a)=>{n.has("ai-waiting-".concat(a))||e.push({id:"ai-waiting-".concat(a),title:t.task,borrower:"",stage:"Needs Approval",urgency:"low",ai_action:null,source:"AI Engine",sourceIcon:"\ud83e\udd16"})}),C.forEach((t,a)=>{n.has("mum-".concat(a))||e.push({id:"mum-".concat(a),title:t.title,borrower:t.client,stage:"Client Retention",urgency:"medium",ai_action:null,source:"Client for Life",sourceIcon:"\ud83d\udc8e",action:t.action})}),Q.alerts&&Q.alerts.forEach((t,a)=>{t&&!n.has("lead-".concat(a))&&e.push({id:"lead-".concat(a),title:t,borrower:"",stage:"Leads",urgency:"high",ai_action:null,source:"Leads Engine",sourceIcon:"\ud83d\ude80"})}),U.filter(e=>!e.read).forEach((t,a)=>{n.has("message-".concat(a))||e.push({id:"message-".concat(a),title:"Message from ".concat(t.from),borrower:t.from,stage:"Communication",urgency:"medium",ai_action:t.ai_summary?"AI Summary: ".concat(t.ai_summary):null,source:"Messages",sourceIcon:"\ud83d\udcac"})}),e},I=e=>({critical:"#dc2626",high:"#f59e0b",medium:"#3b82f6",low:"#6b7280"}[e]||"#6b7280");if(e)return(0,Te.jsx)("div",{className:"loading",children:"Loading tasks..."});const H=_(),T=E(),L=e=>{let{tasks:t,emptyMessage:n="No tasks"}=e;return(0,Te.jsxs)("div",{className:"email-layout",children:[(0,Te.jsxs)("div",{className:"task-inbox",children:[(0,Te.jsxs)("div",{className:"inbox-header",children:[(0,Te.jsx)("h3",{children:"Tasks"}),(0,Te.jsx)("span",{className:"task-count",children:t.length})]}),(0,Te.jsxs)("div",{className:"inbox-list",children:[t.map(e=>(0,Te.jsxs)("div",{className:"inbox-item ".concat(i&&i.id===e.id?"selected":""),onClick:()=>l(e),children:[(0,Te.jsxs)("div",{className:"inbox-item-header",children:[(0,Te.jsx)("span",{className:"source-icon",children:e.sourceIcon}),(0,Te.jsx)("span",{className:"task-title-compact",children:e.title})]}),(0,Te.jsxs)("div",{className:"inbox-item-meta",children:[(0,Te.jsx)("span",{className:"task-client-compact",children:e.borrower||e.source}),(0,Te.jsx)("span",{className:"urgency-dot",style:{backgroundColor:I(e.urgency)},title:e.urgency})]}),(0,Te.jsx)("div",{className:"task-preview",children:e.stage})]},e.id)),0===t.length&&(0,Te.jsx)("div",{className:"empty-inbox",children:(0,Te.jsx)("p",{children:n})})]})]}),(0,Te.jsx)("div",{className:"task-detail-pane",children:i?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"detail-header",children:(0,Te.jsxs)("div",{className:"detail-title-section",children:[(0,Te.jsxs)("div",{className:"detail-source",children:[(0,Te.jsx)("span",{className:"source-icon-large",children:i.sourceIcon}),(0,Te.jsx)("span",{className:"source-name",children:i.source})]}),(0,Te.jsx)("h2",{className:"detail-title",children:i.title})]})}),(0,Te.jsxs)("div",{className:"detail-body",children:[(0,Te.jsxs)("div",{className:"detail-info-grid",children:[i.borrower&&(0,Te.jsxs)("div",{className:"detail-info-item",children:[(0,Te.jsx)("span",{className:"detail-label",children:"Client"}),(0,Te.jsx)("span",{className:"detail-value",children:i.borrower})]}),(0,Te.jsxs)("div",{className:"detail-info-item",children:[(0,Te.jsx)("span",{className:"detail-label",children:"Stage"}),(0,Te.jsx)("span",{className:"detail-value",children:i.stage})]}),(0,Te.jsxs)("div",{className:"detail-info-item",children:[(0,Te.jsx)("span",{className:"detail-label",children:"Priority"}),(0,Te.jsx)("span",{className:"detail-urgency-badge",style:{backgroundColor:I(i.urgency)},children:i.urgency})]}),(0,Te.jsxs)("div",{className:"detail-info-item",children:[(0,Te.jsx)("span",{className:"detail-label",children:"Source"}),(0,Te.jsx)("span",{className:"detail-value",children:i.source})]}),(0,Te.jsxs)("div",{className:"detail-info-item",children:[(0,Te.jsx)("span",{className:"detail-label",children:"Owner"}),(0,Te.jsxs)("select",{className:"detail-owner-select",value:p,onChange:e=>g(e.target.value),children:[(0,Te.jsx)("option",{value:"Loan Officer",children:"Loan Officer"}),(0,Te.jsx)("option",{value:"Loan Processor",children:"Loan Processor"}),(0,Te.jsx)("option",{value:"Executive Assistant",children:"Executive Assistant"}),(0,Te.jsx)("option",{value:"Underwriter",children:"Underwriter"}),(0,Te.jsx)("option",{value:"Closer",children:"Closer"})]})]}),(0,Te.jsxs)("div",{className:"detail-info-item",children:[(0,Te.jsx)("span",{className:"detail-label",children:"Date Created"}),(0,Te.jsx)("span",{className:"detail-value",children:i.date_created?new Date(i.date_created).toLocaleString():"N/A"})]}),i.preferred_contact_method&&(0,Te.jsxs)("div",{className:"detail-info-item",children:[(0,Te.jsx)("span",{className:"detail-label",children:"Preferred Contact"}),(0,Te.jsxs)("span",{className:"detail-contact-badge",children:["Email"===i.preferred_contact_method&&"\ud83d\udce7","Phone"===i.preferred_contact_method&&"\ud83d\udcde","Text"===i.preferred_contact_method&&"\ud83d\udcac"," ",i.preferred_contact_method]})]})]}),i.missing_documents&&i.missing_documents.length>0&&(0,Te.jsxs)("div",{className:"detail-missing-docs-section",children:[(0,Te.jsxs)("div",{className:"missing-docs-header",children:[(0,Te.jsx)("span",{className:"docs-icon",children:"\ud83d\udcc4"}),(0,Te.jsx)("h3",{children:"Missing Documents Detected by AI"})]}),(0,Te.jsx)("div",{className:"missing-docs-list",children:i.missing_documents.map((e,t)=>(0,Te.jsxs)("div",{className:"missing-doc-item",children:[(0,Te.jsx)("span",{className:"doc-bullet",children:"\u2022"}),(0,Te.jsx)("span",{className:"doc-name",children:e})]},t))}),(0,Te.jsxs)("div",{className:"missing-docs-note",children:[(0,Te.jsx)("span",{className:"ai-badge",children:"\ud83e\udd16 AI Analysis"}),(0,Te.jsx)("span",{className:"analysis-text",children:"Detected from email thread analysis"})]})]}),i.ai_message&&(0,Te.jsxs)("div",{className:"detail-ai-message-section",children:[(0,Te.jsxs)("div",{className:"ai-message-header",children:[(0,Te.jsxs)("div",{className:"ai-message-title-row",children:[(0,Te.jsx)("span",{className:"ai-icon-large",children:"\ud83e\udd16"}),(0,Te.jsx)("span",{className:"ai-message-title",children:"AI-Drafted Message"})]}),(0,Te.jsx)("button",{className:"btn-edit-message",onClick:()=>c(!o),children:o?"\u2713 Done Editing":"\u270f\ufe0f Edit Message"})]}),(0,Te.jsx)("div",{className:"ai-message-body",children:o?(0,Te.jsx)("textarea",{className:"message-editor",value:d,onChange:e=>u(e.target.value),rows:12}):(0,Te.jsx)("div",{className:"message-preview",children:d.split("\n").map((e,t)=>(0,Te.jsx)("p",{children:e||"\xa0"},t))})})]}),i.action&&(0,Te.jsxs)("div",{className:"detail-action-section",children:[(0,Te.jsx)("h3",{children:"Recommended Action"}),(0,Te.jsx)("p",{children:i.action})]}),i.communication_history&&i.communication_history.length>0&&(0,Te.jsxs)("div",{className:"communication-history-section",children:[(0,Te.jsxs)("button",{className:"history-accordion-button",onClick:()=>m(!h),children:[(0,Te.jsx)("span",{className:"history-icon",children:"\ud83d\udccb"}),(0,Te.jsxs)("span",{className:"history-title",children:["Communication History (",i.communication_history.length,")"]}),(0,Te.jsx)("span",{className:"history-toggle",children:h?"\u25bc":"\u25b6"})]}),h&&(0,Te.jsx)("div",{className:"history-content",children:i.communication_history.map((e,t)=>(0,Te.jsxs)("div",{className:"history-item clickable",onClick:()=>(e=>{let t=null;"Email"===e.type?t={type:"Email",subject:e.subject,thread:[{from:"You",to:(null===i||void 0===i?void 0:i.borrower)||"Client",date:e.date,body:e.message},{from:(null===i||void 0===i?void 0:i.borrower)||"Client",to:"You",date:e.date,body:"Thank you for reaching out! I appreciate the information. I have a few questions about the next steps..."}]}:"Phone"===e.type?t={type:"Phone",subject:e.subject,duration:"30 minutes",date:e.date,summary:e.message,details:"Call started at 2:30 PM and lasted 30 minutes.\n\nKey Discussion Points:\n\u2022 Reviewed loan options and interest rates\n\u2022 Discussed pre-qualification requirements\n\u2022 Explained the application process timeline\n\u2022 Answered questions about documentation needed\n\u2022 Scheduled follow-up for next week\n\nNext Steps:\n\u2022 Client will gather employment verification documents\n\u2022 Send detailed loan comparison email\n\u2022 Schedule property search consultation\n\nClient seemed very engaged and interested in moving forward with the pre-qualification process."}:"Text"===e.type&&(t={type:"Text",subject:e.subject,messages:[{from:"You",text:e.message,time:"10:30 AM"},{from:(null===i||void 0===i?void 0:i.borrower)||"Client",text:"Thanks for the reminder! I'll upload them today.",time:"10:45 AM"},{from:"You",text:"Perfect! Let me know if you need any help.",time:"10:46 AM"},{from:(null===i||void 0===i?void 0:i.borrower)||"Client",text:"Will do \ud83d\udc4d",time:"10:47 AM"}]}),x(t)})(e),children:[(0,Te.jsxs)("div",{className:"history-item-header",children:[(0,Te.jsxs)("div",{className:"history-type-date",children:[(0,Te.jsxs)("span",{className:"history-type-icon",children:["Email"===e.type&&"\ud83d\udce7","Phone"===e.type&&"\ud83d\udcde","Text"===e.type&&"\ud83d\udcac"]}),(0,Te.jsx)("span",{className:"history-type",children:e.type}),(0,Te.jsx)("span",{className:"history-date",children:new Date(e.date).toLocaleDateString()})]}),(0,Te.jsx)("span",{className:"history-status ".concat(e.status.toLowerCase()),children:e.status})]}),(0,Te.jsxs)("div",{className:"history-item-body",children:[(0,Te.jsx)("div",{className:"history-subject",children:e.subject}),(0,Te.jsx)("div",{className:"history-message",children:e.message})]})]},t))})]})]}),(0,Te.jsxs)("div",{className:"detail-footer",children:[(0,Te.jsx)("button",{className:"btn-detail-complete",onClick:()=>(e=>{if(A(t=>{const n=new Set(t);return n.add(e),n}),i&&i.id===e){const t=_(),n=t.findIndex(t=>t.id===e),a=t[n+1]||t[n-1]||null;l(a)}})(i.id),children:"\u2713 Mark Complete"}),i.ai_action&&(0,Te.jsx)("button",{className:"btn-detail-approve",onClick:()=>(async e=>{alert("Approved task ".concat(e))})(i.id),children:"Approve AI Action"}),i.action&&(0,Te.jsx)("button",{className:"btn-detail-action",children:i.action}),(0,Te.jsx)("button",{className:"btn-detail-secondary",children:"Snooze"}),(0,Te.jsx)("button",{className:"btn-detail-secondary",children:"Delegate"})]})]}):(0,Te.jsx)("div",{className:"detail-empty",children:(0,Te.jsx)("p",{children:"Select a task to view details"})})})]})};return(0,Te.jsxs)("div",{className:"tasks-page",children:[(0,Te.jsxs)("div",{className:"page-header",children:[(0,Te.jsx)("h1",{children:"Tasks"}),(0,Te.jsxs)("p",{children:[H.length," total tasks"]})]}),(0,Te.jsxs)("div",{className:"task-tabs",children:[(0,Te.jsxs)("button",{className:"tab-button ".concat("outstanding"===s?"active":""),onClick:()=>r("outstanding"),children:["Outstanding Tasks",(0,Te.jsx)("span",{className:"tab-badge",children:H.length})]}),(0,Te.jsxs)("button",{className:"tab-button ".concat("ai-approval"===s?"active":""),onClick:()=>r("ai-approval"),children:["\ud83e\udd16 Pending Your Approval",(0,Te.jsx)("span",{className:"tab-badge",children:j.pending.length+j.waiting.length})]}),(0,Te.jsx)("button",{className:"tab-button ".concat("reconciliation"===s?"active":""),onClick:()=>r("reconciliation"),children:"\ud83d\udd04 Reconciliation"}),(0,Te.jsxs)("button",{className:"tab-button ".concat("messages"===s?"active":""),onClick:()=>r("messages"),children:["\ud83d\udcec Unified Messages",(0,Te.jsx)("span",{className:"tab-badge",children:U.filter(e=>!e.read).length})]}),(0,Te.jsxs)("button",{className:"tab-button ".concat("mum"===s?"active":""),onClick:()=>r("mum"),children:["\u267b\ufe0f Client for Life Engine (MUM)",(0,Te.jsx)("span",{className:"tab-badge",children:C.length})]})]}),"outstanding"===s&&(0,Te.jsx)("div",{className:"tab-content",children:(0,Te.jsx)(L,{tasks:T,emptyMessage:"No outstanding tasks"})}),"ai-approval"===s&&(0,Te.jsx)("div",{className:"tab-content",children:(0,Te.jsx)(L,{tasks:T,emptyMessage:"No AI tasks pending approval"})}),"reconciliation"===s&&(0,Te.jsx)("div",{className:"tab-content",children:(0,Te.jsx)(L,{tasks:T,emptyMessage:"No reconciliation tasks"})}),"messages"===s&&(0,Te.jsx)("div",{className:"tab-content",children:(0,Te.jsx)(L,{tasks:T,emptyMessage:"No unread messages"})}),"mum"===s&&(0,Te.jsx)("div",{className:"tab-content",children:(0,Te.jsx)(L,{tasks:T,emptyMessage:"No client retention actions needed"})}),f&&(0,Te.jsx)("div",{className:"comm-modal-overlay",onClick:()=>x(null),children:(0,Te.jsxs)("div",{className:"comm-modal",onClick:e=>e.stopPropagation(),children:[(0,Te.jsx)("button",{className:"btn-close-comm-modal",onClick:()=>x(null),children:"\xd7"}),(0,Te.jsxs)("div",{className:"comm-modal-header",children:[(0,Te.jsxs)("span",{className:"comm-modal-icon",children:["Email"===f.type&&"\ud83d\udce7","Phone"===f.type&&"\ud83d\udcde","Text"===f.type&&"\ud83d\udcac"]}),(0,Te.jsx)("h2",{children:f.subject})]}),(0,Te.jsxs)("div",{className:"comm-modal-body",children:["Email"===f.type&&(0,Te.jsx)("div",{className:"email-thread",children:f.thread.map((e,t)=>(0,Te.jsxs)("div",{className:"email-message",children:[(0,Te.jsxs)("div",{className:"email-message-header",children:[(0,Te.jsxs)("div",{className:"email-from-to",children:[(0,Te.jsx)("strong",{children:"From:"})," ",e.from,(0,Te.jsx)("br",{}),(0,Te.jsx)("strong",{children:"To:"})," ",e.to]}),(0,Te.jsx)("div",{className:"email-date",children:new Date(e.date).toLocaleString()})]}),(0,Te.jsx)("div",{className:"email-message-body",children:e.body})]},t))}),"Phone"===f.type&&(0,Te.jsxs)("div",{className:"phone-summary",children:[(0,Te.jsxs)("div",{className:"call-meta",children:[(0,Te.jsxs)("div",{className:"call-info-item",children:[(0,Te.jsx)("strong",{children:"Duration:"})," ",f.duration]}),(0,Te.jsxs)("div",{className:"call-info-item",children:[(0,Te.jsx)("strong",{children:"Date:"})," ",new Date(f.date).toLocaleString()]})]}),(0,Te.jsxs)("div",{className:"call-summary-section",children:[(0,Te.jsx)("h3",{children:"Summary"}),(0,Te.jsx)("p",{children:f.summary})]}),(0,Te.jsxs)("div",{className:"call-details-section",children:[(0,Te.jsx)("h3",{children:"Call Notes"}),(0,Te.jsx)("pre",{className:"call-notes",children:f.details})]})]}),"Text"===f.type&&(0,Te.jsx)("div",{className:"text-thread",children:f.messages.map((e,t)=>(0,Te.jsx)("div",{className:"text-message ".concat("You"===e.from?"sent":"received"),children:(0,Te.jsxs)("div",{className:"text-message-bubble",children:[(0,Te.jsx)("div",{className:"text-message-sender",children:e.from}),(0,Te.jsx)("div",{className:"text-message-text",children:e.text}),(0,Te.jsx)("div",{className:"text-message-time",children:e.time})]})},t))})]})]})})]})};function us(e){let{selectedDate:t,onClose:n,onAdd:A}=e;const[s,r]=(0,a.useState)({title:"",description:"",event_type:"meeting",location:"",all_day:!1,start_time:t?t.toISOString().slice(0,16):"",end_time:t?new Date(t.getTime()+36e5).toISOString().slice(0,16):""});return(0,Te.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,Te.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Te.jsx)("h3",{children:"Add Event"}),(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault(),A(Wt(Wt({},s),{},{start_time:new Date(s.start_time).toISOString(),end_time:new Date(s.end_time).toISOString()}))},children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Title *"}),(0,Te.jsx)("input",{type:"text",required:!0,value:s.title,onChange:e=>r(Wt(Wt({},s),{},{title:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Type"}),(0,Te.jsxs)("select",{value:s.event_type,onChange:e=>r(Wt(Wt({},s),{},{event_type:e.target.value})),children:[(0,Te.jsx)("option",{value:"meeting",children:"Meeting"}),(0,Te.jsx)("option",{value:"call",children:"Call"}),(0,Te.jsx)("option",{value:"appraisal",children:"Appraisal"}),(0,Te.jsx)("option",{value:"closing",children:"Closing"}),(0,Te.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Start Time *"}),(0,Te.jsx)("input",{type:"datetime-local",required:!0,value:s.start_time,onChange:e=>r(Wt(Wt({},s),{},{start_time:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"End Time *"}),(0,Te.jsx)("input",{type:"datetime-local",required:!0,value:s.end_time,onChange:e=>r(Wt(Wt({},s),{},{end_time:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Location"}),(0,Te.jsx)("input",{type:"text",value:s.location,onChange:e=>r(Wt(Wt({},s),{},{location:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Description"}),(0,Te.jsx)("textarea",{value:s.description,onChange:e=>r(Wt(Wt({},s),{},{description:e.target.value})),rows:3})]}),(0,Te.jsxs)("div",{className:"form-actions",children:[(0,Te.jsx)("button",{type:"button",onClick:n,children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"btn-primary",children:"Add Event"})]})]})]})})}const hs=function(){const[e,t]=(0,a.useState)(new Date),[n,A]=(0,a.useState)("month"),[s,r]=(0,a.useState)([]),[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(null),[p,g]=(0,a.useState)(0);(0,a.useEffect)(()=>{f(),x()},[e]);const f=async()=>{try{c(!0);const t=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59),a=await Ga({start_date:t.toISOString(),end_date:n.toISOString()});r(a)}catch(t){console.error("Failed to load events:",t)}finally{c(!1)}},x=async()=>{try{const e=new Date;e.setMonth(e.getMonth()-6);const t=new Date;t.setMonth(t.getMonth()+6);const n=await Ga({start_date:e.toISOString(),end_date:t.toISOString()});l(n||[])}catch(e){console.error("Failed to load all events:",e),l([])}},v=()=>[...i].sort((e,t)=>new Date(e.start_time)-new Date(t.start_time)),y=e=>{const t=new Date(e),n=new Date,a=new Date(n);if(a.setDate(a.getDate()+1),t.toDateString()===n.toDateString())return"Today";if(t.toDateString()===a.toDateString())return"Tomorrow";{const e=["January","February","March","April","May","June","July","August","September","October","November","December"];return"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]," \u2022 ").concat(e[t.getMonth()]," ").concat(t.getDate())}},w=["January","February","March","April","May","June","July","August","September","October","November","December"],B=e=>{const t=e.getFullYear(),n=e.getMonth(),a=new Date(t,n,1);return{daysInMonth:new Date(t,n+1,0).getDate(),startingDayOfWeek:a.getDay(),year:t,month:n}},j=new Date;j.setMonth(j.getMonth()+p);const b=B(j),C=B(new Date(j.getFullYear(),j.getMonth()+1,1)),N=function(e){const{daysInMonth:t,startingDayOfWeek:n,year:a,month:A}=e;new Date(a,A,1);return(0,Te.jsxs)("div",{className:"mini-calendar",children:[(0,Te.jsx)("div",{className:"mini-calendar-header",children:(0,Te.jsxs)("h3",{children:[w[A]," ",a]})}),(0,Te.jsx)("div",{className:"mini-calendar-weekdays",children:["S","M","T","W","T","F","S"].map((e,t)=>(0,Te.jsx)("div",{className:"mini-weekday-label",children:e},t))}),(0,Te.jsxs)("div",{className:"mini-calendar-days",children:[[...Array(n)].map((e,t)=>(0,Te.jsx)("div",{className:"mini-calendar-day empty"},"empty-".concat(t))),[...Array(t)].map((e,t)=>{const n=t+1,s=((e,t,n)=>{const a=new Date(t,n,e),A=new Date(t,n,e,23,59,59);return i.filter(e=>{const t=new Date(e.start_time);return t>=a&&t<=A})})(n,a,A),r=new Date(a,A,n),l=(new Date).toDateString()===r.toDateString();return(0,Te.jsxs)("div",{className:"mini-calendar-day ".concat(l?"today":""," ").concat(s.length>0?"has-events":""),onClick:()=>{m(r),u(!0)},children:[(0,Te.jsx)("div",{className:"mini-day-number",children:n}),s.length>0&&(0,Te.jsx)("div",{className:"event-dots",children:s.slice(0,3).map((e,t)=>(0,Te.jsx)("div",{className:"event-dot event-dot-".concat(e.event_type||"meeting")},t))})]},n)})]})]})};return(0,Te.jsxs)("div",{className:"calendar-page",children:[(0,Te.jsxs)("div",{className:"calendar-header",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{children:"Calendar"}),(0,Te.jsxs)("p",{children:[w[e.getMonth()]," ",e.getFullYear()]})]}),(0,Te.jsxs)("div",{className:"calendar-controls",children:[(0,Te.jsxs)("div",{className:"view-switcher",children:[(0,Te.jsx)("button",{className:"day"===n?"active":"",onClick:()=>A("day"),children:"Day"}),(0,Te.jsx)("button",{className:"week"===n?"active":"",onClick:()=>A("week"),children:"Week"}),(0,Te.jsx)("button",{className:"month"===n?"active":"",onClick:()=>A("month"),children:"Month"})]}),(0,Te.jsxs)("div",{className:"month-navigation",children:[(0,Te.jsx)("button",{onClick:()=>{t(new Date(e.getFullYear(),e.getMonth()-1))},children:"\u2190"}),(0,Te.jsx)("button",{onClick:()=>{t(new Date)},children:"Today"}),(0,Te.jsx)("button",{onClick:()=>{t(new Date(e.getFullYear(),e.getMonth()+1))},children:"\u2192"}),(0,Te.jsx)("button",{className:"btn-add-event",onClick:()=>{m(new Date),u(!0)},children:"+ Add Event"})]})]})]}),(0,Te.jsxs)("div",{className:"calendar-content",children:[(0,Te.jsxs)("div",{className:"appointments-sidebar",children:[(0,Te.jsxs)("div",{className:"appointments-sidebar-header",children:[(0,Te.jsx)("h2",{children:"Appointments"}),(0,Te.jsx)("button",{className:"btn-add-appointment",onClick:()=>{m(new Date),u(!0)},title:"Add new appointment",children:"+ Add"})]}),(0,Te.jsx)("div",{className:"appointments-list",children:0===v().length?(0,Te.jsx)("div",{className:"empty-appointments",children:(0,Te.jsx)("p",{children:"No appointments scheduled"})}):v().map((e,t)=>{const{startStr:n,duration:a}=((e,t)=>{const n=new Date(e),a=new Date(t);return{startStr:n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),endStr:a.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),duration:Math.round((a-n)/6e4)}})(e.start_time,e.end_time),A=y(e.start_time),s=0===t||y(v()[t-1].start_time)!==A;return(0,Te.jsxs)("div",{children:[s&&(0,Te.jsx)("div",{className:"appointment-date-header",children:A}),(0,Te.jsxs)("div",{className:"appointment-item appointment-".concat(e.event_type||"meeting"),children:[(0,Te.jsxs)("div",{className:"appointment-time",children:[(0,Te.jsx)("div",{className:"time-start",children:n}),(0,Te.jsxs)("div",{className:"time-duration",children:[a,"m"]})]}),(0,Te.jsxs)("div",{className:"appointment-details",children:[(0,Te.jsx)("div",{className:"appointment-title",children:e.title}),e.location&&(0,Te.jsx)("div",{className:"appointment-location",children:e.location}),e.description&&(0,Te.jsx)("div",{className:"appointment-description",children:e.description})]}),(0,Te.jsx)("button",{className:"delete-appointment",onClick:()=>(async e=>{if(window.confirm("Delete this event?"))try{await Wa(e),f(),x()}catch(t){console.error("Failed to delete event:",t)}})(e.id),title:"Delete event",children:"\xd7"})]})]},e.id)})})]}),(0,Te.jsx)("div",{className:"calendar-main",children:o?(0,Te.jsx)("div",{className:"loading",children:"Loading events..."}):(0,Te.jsxs)("div",{className:"calendar-scroll-container",children:[(0,Te.jsx)("button",{className:"calendar-scroll-btn scroll-up",onClick:()=>{g(p-1)},title:"Previous month",children:(0,Te.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Te.jsx)("polyline",{points:"18 15 12 9 6 15"})})}),(0,Te.jsxs)("div",{className:"two-month-view",children:[N(b),N(C,!0)]}),(0,Te.jsx)("button",{className:"calendar-scroll-btn scroll-down",onClick:()=>{g(p+1)},title:"Next month",children:(0,Te.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Te.jsx)("polyline",{points:"6 9 12 15 18 9"})})})]})})]}),d&&(0,Te.jsx)(us,{selectedDate:h,onClose:()=>u(!1),onAdd:async e=>{try{await Va(e),f(),x(),u(!1)}catch(t){console.error("Failed to create event:",t),alert("Failed to create event. Please try again.")}}})]})};const ms=function(){const[e,t]=(0,a.useState)({avgLoanAmount:2e5,annualClosingsDollarGoal:4e7,pullThroughRate:.9,conversionToApp:.25,totalReferralPartners:10,annualIncomeGoal:3e5,avgCommissionBasisPoints:.01,preQualToAppRate:.17}),[n,A]=(0,a.useState)({}),[s,r]=(0,a.useState)({}),[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[h,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{g(),p()},[]),(0,a.useEffect)(()=>{x(),f()},[e]);const p=async()=>{m(!0);try{const e=localStorage.getItem("token"),t="https://mortgage-crm-production-7a9a.up.railway.app",n=await fetch("".concat(t,"/api/v1/loans"),{headers:{Authorization:"Bearer ".concat(e)}}),a=await n.json(),A=Array.isArray(a)?a:[],s=await fetch("".concat(t,"/api/v1/leads"),{headers:{Authorization:"Bearer ".concat(e)}}),i=await s.json(),l=Array.isArray(i)?i:[],o=new Date,c=new Date(o.getFullYear(),0,1),d=new Date(o.getFullYear(),o.getMonth(),1),u=new Date(o);u.setDate(o.getDate()-o.getDay());const h=new Date(o);h.setHours(0,0,0,0);const m=A.filter(e=>"Funded"===e.stage||"Closed"===e.stage||"funded"===e.stage||"closed"===e.stage),p=m.filter(e=>new Date(e.updated_at||e.created_at)>=c),g=(m.filter(e=>new Date(e.updated_at||e.created_at)>=d),m.filter(e=>new Date(e.updated_at||e.created_at)>=u),m.filter(e=>new Date(e.updated_at||e.created_at)>=h),p.length),f=p.reduce((e,t)=>e+(parseFloat(t.amount)||0),0),x=A.filter(e=>"Funded"!==e.stage&&"Closed"!==e.stage&&"Denied"!==e.stage&&"funded"!==e.stage&&"closed"!==e.stage&&"denied"!==e.stage),v=x.filter(e=>new Date(e.created_at)>=c),y=x.filter(e=>new Date(e.created_at)>=d),w=x.filter(e=>new Date(e.created_at)>=u),B=x.filter(e=>new Date(e.created_at)>=h),j=v.length,b=y.length,C=w.length,N=B.length,Q=l.filter(e=>"Pre-Qualified"===e.stage||"Qualified"===e.stage),F=Q.filter(e=>new Date(e.updated_at||e.created_at)>=c),U=Q.filter(e=>new Date(e.updated_at||e.created_at)>=d),S=Q.filter(e=>new Date(e.updated_at||e.created_at)>=h);r({annualFundedUnits:g,annualFundedVolume:f,annualOriginatedUnits:j,monthlyOriginatedUnits:b,weeklyOriginatedUnits:C,dailyOriginatedUnits:N,annualPreQuals:F.length,monthlyPreQuals:U.length,dailyPreQuals:S.length})}catch(e){console.error("Failed to load actual data:",e),r({annualFundedUnits:0,annualFundedVolume:0,annualOriginatedUnits:0,monthlyOriginatedUnits:0,weeklyOriginatedUnits:0,dailyOriginatedUnits:0,annualPreQuals:0,monthlyPreQuals:0,dailyPreQuals:0})}finally{m(!1)}},g=()=>{try{const e=localStorage.getItem("goalTrackerInputs");e&&t(JSON.parse(e));const n=localStorage.getItem("goalTrackerHistory");n&&l(JSON.parse(n));const a=localStorage.getItem("goalTrackerLastSaved");a&&u(new Date(a))}catch(e){console.error("Failed to load saved data:",e)}},f=async()=>{try{localStorage.setItem("goalTrackerInputs",JSON.stringify(e));const a=new Date;localStorage.setItem("goalTrackerLastSaved",a.toISOString()),u(a);const A=localStorage.getItem("token");if(A&&n.annualOriginationUnitGoal)try{const e="https://mortgage-crm-production-7a9a.up.railway.app";await fetch("".concat(e,"/api/v1/users/me/goals"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(A),"Content-Type":"application/json"},body:JSON.stringify({annualGoal:n.annualOriginationUnitGoal,monthlyGoal:n.monthlyUnitsGoal,weeklyGoal:n.weeklyUnitsGoal,dailyGoal:n.dailyUnitsGoal})})}catch(t){console.error("Failed to sync goals to server:",t)}}catch(a){console.error("Failed to save data:",a)}},x=()=>{const t=e.annualClosingsDollarGoal/e.avgLoanAmount,n=e.annualClosingsDollarGoal/e.pullThroughRate,a=t/e.pullThroughRate,s=a,r=s/12,i=s/52,l=i/5,o=l,c=o/e.conversionToApp,d=Math.round(5*c*52/12),u=d/e.totalReferralPartners,h=e.annualIncomeGoal/e.avgCommissionBasisPoints,m=h/e.avgLoanAmount,p=h/e.pullThroughRate,g=m/e.pullThroughRate,f=g,x=f/12,v=f/52,y=v/5,w=y,B=v,j=w/e.preQualToAppRate,b=B/e.preQualToAppRate,C=Math.round(5*j*52/12),N=Math.round(C/u);A({annualClosingsUnitGoal:t,annualOriginationDollarGoal:n,annualOriginationUnitGoal:a,annualUnitsGoal:s,monthlyUnitsGoal:r,weeklyUnitsGoal:i,dailyUnitsGoal:l,dailyLoans:o,dailyReferredPreQuals:c,monthlyReferredPreQuals:d,minPreQualPerPartner:u,targetClosings:h,annualFundedUnitGoal:m,annualSubmittedOrigination:p,annualOriginationUnitNeeded:g,ht_annualOriginationUnits:f,ht_monthlyUnitsGoal:x,ht_weeklyUnitsGoal:v,ht_dailyUnitsGoal:y,ht_dailyLoans:w,ht_weeklyLoans:B,ht_dailyPreQualsNeeded:j,ht_weeklyPreQualsNeeded:b,ht_monthlyPreQualInquiries:C,ht_totalPartnersNeeded:N})},v=(e,n)=>{t(t=>Wt(Wt({},t),{},{[e]:parseFloat(n)||0}))},y=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),w=e=>e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}),B=e=>"".concat((100*e).toFixed(0),"%"),j=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;const a=((e,t)=>t&&0!==t?Math.min(Math.round(e/t*100),100):0)(t,e),A=a>=100?"#10b981":a>=75?"#f59e0b":"#ef4444";return(0,Te.jsxs)("td",{className:"goal-actual-cell",children:[(0,Te.jsxs)("div",{className:"goal-value",children:["Goal: ",n(e||0)]}),(0,Te.jsxs)("div",{className:"actual-value",children:["Actual: ",n(t||0)]}),(0,Te.jsx)("div",{className:"progress-bar-container",children:(0,Te.jsx)("div",{className:"progress-bar-fill",style:{width:"".concat(a,"%"),background:A}})}),(0,Te.jsxs)("div",{className:"progress-text",style:{color:A},children:[a,"% of goal"]})]})};return(0,Te.jsxs)("div",{className:"goal-tracker-page",children:[(0,Te.jsxs)("div",{className:"page-header",children:[(0,Te.jsxs)("div",{className:"action-buttons",children:[(0,Te.jsx)("button",{className:"btn-primary",onClick:()=>{const t=[{date:(new Date).toISOString(),inputs:Wt({},e),calculated:Wt({},n)},...i].slice(0,50);l(t),localStorage.setItem("goalTrackerHistory",JSON.stringify(t))},children:"\ud83d\udcbe Save Snapshot"}),(0,Te.jsxs)("button",{className:"btn-secondary",onClick:()=>c(!o),children:["\ud83d\udcc8 ",o?"Hide":"View"," History (",i.length,")"]}),(0,Te.jsx)("button",{className:"btn-secondary",onClick:()=>{const t=[["High Trust Business Plan - Export"],["Generated:",(new Date).toLocaleString()],[],["INPUTS"],["Average Loan Amount",e.avgLoanAmount],["Annual Closings Dollar Goal",e.annualClosingsDollarGoal],["Pull Through Rate",e.pullThroughRate],["Conversion to App",e.conversionToApp],["Total Referral Partners",e.totalReferralPartners],["Annual Income Goal",e.annualIncomeGoal],["Average Commission Basis Points",e.avgCommissionBasisPoints],["Pre-Qual to App Rate",e.preQualToAppRate],[],["CALCULATED METRICS"],["Annual Closings Unit Goal",n.annualClosingsUnitGoal],["Annual Origination Dollar Goal",n.annualOriginationDollarGoal],["Annual Origination Unit Goal",n.annualOriginationUnitGoal],["Monthly Units Goal",n.monthlyUnitsGoal],["Weekly Units Goal",n.weeklyUnitsGoal],["Daily Units Goal",n.dailyUnitsGoal],["Daily Referred Pre-Quals Needed",n.dailyReferredPreQuals],["Monthly Referred Pre-Quals Needed",n.monthlyReferredPreQuals],["Min Pre-Qual Per Partner",n.minPreQualPerPartner]].map(e=>e.join(",")).join("\n"),a=new Blob([t],{type:"text/csv"}),A=window.URL.createObjectURL(a),s=document.createElement("a");s.href=A,s.download="business-plan-".concat((new Date).toISOString().split("T")[0],".csv"),s.click(),window.URL.revokeObjectURL(A)},children:"\ud83d\udce5 Export to Excel"}),d&&(0,Te.jsxs)("span",{className:"last-saved",children:["Last saved: ",d.toLocaleTimeString()]})]}),o&&(0,Te.jsxs)("div",{className:"history-panel",children:[(0,Te.jsxs)("div",{className:"history-header",children:[(0,Te.jsx)("h3",{children:"\ud83d\udcca Historical Snapshots"}),i.length>0&&(0,Te.jsx)("button",{className:"btn-danger-sm",onClick:()=>{window.confirm("Are you sure you want to clear all historical data?")&&(l([]),localStorage.removeItem("goalTrackerHistory"))},children:"Clear All"})]}),0===i.length?(0,Te.jsx)("p",{className:"no-history",children:'No snapshots saved yet. Click "Save Snapshot" to track your progress over time.'}):(0,Te.jsx)("div",{className:"history-list",children:i.map((e,n)=>(0,Te.jsxs)("div",{className:"history-item",children:[(0,Te.jsx)("div",{className:"history-date",children:new Date(e.date).toLocaleString()}),(0,Te.jsxs)("div",{className:"history-metrics",children:[(0,Te.jsxs)("span",{children:["Daily Goal: ",w(e.calculated.dailyUnitsGoal||0)]}),(0,Te.jsxs)("span",{children:["Monthly: ",w(e.calculated.monthlyUnitsGoal||0)]}),(0,Te.jsxs)("span",{children:["Annual: ",y(e.inputs.annualClosingsDollarGoal||0)]})]}),(0,Te.jsx)("button",{className:"btn-load",onClick:()=>(e=>{t(e.inputs),A(e.calculated)})(e),children:"Load"})]},n))})]}),(0,Te.jsxs)("div",{className:"plan-key",children:[(0,Te.jsxs)("span",{className:"key-item",children:[(0,Te.jsx)("span",{className:"key-box user-input"})," User Input Fields"]}),(0,Te.jsxs)("span",{className:"key-item",children:[(0,Te.jsx)("span",{className:"key-box calculated"})," Calculated Values"]})]})]}),(0,Te.jsx)("div",{className:"business-plans-container",children:(0,Te.jsxs)("div",{className:"business-plan-section",children:[(0,Te.jsx)("h2",{className:"plan-title",children:"\ud83d\udcc8 Simplified Business Plan"}),(0,Te.jsxs)("div",{className:"goal-section",children:[(0,Te.jsx)("h3",{children:"Part 1: Volume Goals"}),(0,Te.jsx)("div",{className:"spreadsheet-table",children:(0,Te.jsx)("table",{children:(0,Te.jsxs)("tbody",{children:[(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label-cell",children:"Average Loan Amount"}),(0,Te.jsxs)("td",{className:"input-cell user-input",children:[y(e.avgLoanAmount),(0,Te.jsx)("input",{type:"number",value:e.avgLoanAmount,onChange:e=>v("avgLoanAmount",e.target.value)})]})]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label-cell",children:"Annual Closings Dollar Goal"}),(0,Te.jsxs)("td",{className:"input-cell user-input",children:[y(e.annualClosingsDollarGoal),(0,Te.jsx)("input",{type:"number",value:e.annualClosingsDollarGoal,onChange:e=>v("annualClosingsDollarGoal",e.target.value)})]})]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label-cell",children:"Annual Closings Unit Goal"}),j(n.annualClosingsUnitGoal,s.annualFundedUnits,w)]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label-cell",children:'Determine Your "Pull Through" %'}),(0,Te.jsxs)("td",{className:"input-cell user-input",children:[B(e.pullThroughRate),(0,Te.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1",value:e.pullThroughRate,onChange:e=>v("pullThroughRate",e.target.value)})]})]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label-cell",children:"Annual Origination Dollar Goal"}),j(n.annualOriginationDollarGoal,s.annualFundedVolume,y)]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label-cell",children:"Annual Origination Unit Goal"}),j(n.annualOriginationUnitGoal,s.annualOriginatedUnits,w)]})]})})})]}),(0,Te.jsxs)("div",{className:"goal-section",children:[(0,Te.jsx)("h3",{children:"Part 2: Chunk Down - Building Consistency"}),(0,Te.jsx)("div",{className:"spreadsheet-table",children:(0,Te.jsx)("table",{children:(0,Te.jsxs)("tbody",{children:[(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label-cell",children:"Annual Units Goal"}),j(n.annualUnitsGoal,s.annualOriginatedUnits,w)]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label-cell",children:"Monthly Units Goal"}),j(n.monthlyUnitsGoal,s.monthlyOriginatedUnits,w)]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label-cell",children:"Weekly Units Goal"}),j(n.weeklyUnitsGoal,s.weeklyOriginatedUnits,w)]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label-cell",children:"Daily Units Goal"}),j(n.dailyUnitsGoal,s.dailyOriginatedUnits,w)]})]})})})]}),(0,Te.jsxs)("div",{className:"goal-section",children:[(0,Te.jsx)("h3",{children:"Part 3: Referred Pre-Qual Conversion and Follow-Up"}),(0,Te.jsx)("div",{className:"spreadsheet-table",children:(0,Te.jsx)("table",{children:(0,Te.jsxs)("tbody",{children:[(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label-cell",children:"Daily Loans"}),j(n.dailyLoans,s.dailyOriginatedUnits,w)]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label-cell",children:"Conversion to Application"}),(0,Te.jsxs)("td",{className:"input-cell user-input",children:[B(e.conversionToApp),(0,Te.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1",value:e.conversionToApp,onChange:e=>v("conversionToApp",e.target.value)})]})]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label-cell",children:"Daily Referred Pre-Qualifications Needed"}),j(n.dailyReferredPreQuals,s.dailyPreQuals,w)]})]})})})]}),(0,Te.jsxs)("div",{className:"goal-section",children:[(0,Te.jsx)("h3",{children:"Part 4: Referral Standards for Strategic Partners"}),(0,Te.jsx)("div",{className:"spreadsheet-table",children:(0,Te.jsx)("table",{children:(0,Te.jsxs)("tbody",{children:[(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label-cell",children:"Monthly Referred Pre-Qual Conversations Needed"}),j(n.monthlyReferredPreQuals,s.monthlyPreQuals,w)]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label-cell",children:"Minimum Referred Pre-Qual Goal per Partner"}),(0,Te.jsx)("td",{className:"calculated-cell",children:w(n.minPreQualPerPartner||0)})]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label-cell",children:"Total Referral Partners Needed"}),(0,Te.jsxs)("td",{className:"input-cell user-input",children:[e.totalReferralPartners,(0,Te.jsx)("input",{type:"number",value:e.totalReferralPartners,onChange:e=>v("totalReferralPartners",e.target.value)})]})]})]})})})]}),(0,Te.jsx)("div",{className:"goal-summary-message",children:(0,Te.jsxs)("strong",{children:["I need ",w(n.dailyUnitsGoal||0)," loans every day"]})})]})})]})};const ps=function(){const[e,t]=(0,a.useState)("scorecard"),[n,A]=(0,a.useState)(!0),[s,r]=(0,a.useState)(null),[i,l]=(0,a.useState)({start:null,end:null});(0,a.useEffect)(()=>{o();const e=setInterval(o,6e4);return()=>clearInterval(e)},[]);const o=async()=>{try{var e,t,n,a,s;A(!0);const i=await La(),o={conversion_metrics:(null===i||void 0===i?void 0:i.conversion_metrics)||[],conversion_upswing:(null===i||void 0===i?void 0:i.conversion_upswing)||{current_starts:0,current_pull_thru_pct:0,target_pull_thru_pct:0,current_avg_amount:0,target_avg_amount:0,current_volume:0,volume_increase:0,current_bps:0,target_bps:0,current_compensation:0,additional_compensation:0},funding_totals:{total_units:(null===i||void 0===i||null===(e=i.funding_totals)||void 0===e?void 0:e.total_units)||0,total_volume:(null===i||void 0===i||null===(t=i.funding_totals)||void 0===t?void 0:t.total_volume)||0,avg_loan_amount:(null===i||void 0===i||null===(n=i.funding_totals)||void 0===n?void 0:n.avg_loan_amount)||0,loan_types:(null===i||void 0===i||null===(a=i.funding_totals)||void 0===a?void 0:a.loan_types)||[],referral_sources:(null===i||void 0===i||null===(s=i.funding_totals)||void 0===s?void 0:s.referral_sources)||[]},period:(null===i||void 0===i?void 0:i.period)||{start_date:"",end_date:""},generated_at:(null===i||void 0===i?void 0:i.generated_at)||(new Date).toISOString()};r(o),o.period&&l(o.period),A(!1)}catch(i){console.error("Failed to load scorecard:",i),r({conversion_metrics:[],conversion_upswing:{current_starts:0,current_pull_thru_pct:0,target_pull_thru_pct:0,current_avg_amount:0,target_avg_amount:0,current_volume:0,volume_increase:0,current_bps:0,target_bps:0,current_compensation:0,additional_compensation:0},funding_totals:{total_units:0,total_volume:0,avg_loan_amount:0,loan_types:[],referral_sources:[]},period:{start_date:(new Date).toISOString(),end_date:(new Date).toISOString()},generated_at:(new Date).toISOString()}),A(!1)}},c=e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e):"$0.00";return n||!s?(0,Te.jsx)("div",{className:"scorecard-page",children:(0,Te.jsx)("div",{className:"loading",children:"Loading scorecard..."})}):(0,Te.jsxs)("div",{className:"scorecard-page",children:[(0,Te.jsxs)("div",{className:"scorecard-header-main",children:[(0,Te.jsx)("h1",{children:"Loan Scorecard Report"}),(0,Te.jsxs)("div",{className:"scorecard-subtitle",children:[(e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long"})})(i.start_date)," | LO Scorecard"]})]}),(0,Te.jsxs)("div",{className:"scorecard-tabs",children:[(0,Te.jsx)("button",{className:"tab-button ".concat("scorecard"===e?"active":""),onClick:()=>t("scorecard"),children:"Scorecard Report"}),(0,Te.jsx)("button",{className:"tab-button ".concat("goal-tracker"===e?"active":""),onClick:()=>t("goal-tracker"),children:"Goal Tracker"})]}),"scorecard"===e?(0,Te.jsxs)("div",{className:"scorecard-content",children:[(0,Te.jsxs)("div",{className:"scorecard-top-row",children:[(0,Te.jsxs)("section",{className:"scorecard-section green-section",children:[(0,Te.jsxs)("div",{className:"section-header green-header",children:[(0,Te.jsx)("span",{className:"indicator"}),"Loan Starts vs. Activity Totals"]}),(0,Te.jsxs)("div",{className:"section-subheader",children:["Counts: ",i.start_date," - ",i.end_date]}),(0,Te.jsx)("div",{className:"metrics-table-container",children:(0,Te.jsxs)("table",{className:"scorecard-table",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{children:"Counts"}),(0,Te.jsx)("th",{}),(0,Te.jsx)("th",{}),(0,Te.jsx)("th",{children:"MoT%"}),(0,Te.jsx)("th",{children:"Progress"}),(0,Te.jsx)("th",{children:"Goal%"})]})}),(0,Te.jsx)("tbody",{children:s.conversion_metrics&&s.conversion_metrics.length>0?s.conversion_metrics.map((e,t)=>{return(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"metric-name",children:e.metric}),(0,Te.jsx)("td",{className:"metric-count",children:e.total}),(0,Te.jsx)("td",{className:"metric-count",children:e.current}),(0,Te.jsxs)("td",{className:"metric-pct",children:[e.mot_pct,"%"]}),(0,Te.jsx)("td",{className:"progress-cell",children:(0,Te.jsx)("div",{className:"progress-bar-container",children:(0,Te.jsx)("div",{className:"progress-bar-fill",style:{width:"".concat(Math.min(e.mot_pct/e.goal_pct*100,100),"%"),backgroundColor:(n=e.status,"good"===n?"#4caf50":"warning"===n?"#ff9800":"critical"===n?"#f44336":"#9e9e9e")}})})}),(0,Te.jsxs)("td",{className:"metric-pct goal-pct",children:[e.goal_pct,"%"]})]},t);var n}):(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"6",style:{textAlign:"center",padding:"40px",color:"#666"},children:"No conversion metrics available"})})})]})})]}),(0,Te.jsxs)("section",{className:"scorecard-section pink-section",children:[(0,Te.jsxs)("div",{className:"section-header pink-header",children:[(0,Te.jsx)("span",{className:"indicator"}),"Conversion Upswing:"]}),(0,Te.jsxs)("div",{className:"section-subheader",children:[i.start_date," - ",i.end_date]}),(0,Te.jsx)("div",{className:"upswing-grid",children:(0,Te.jsxs)("div",{className:"upswing-table",children:[(0,Te.jsx)("h4",{children:"10% in Starts"}),(0,Te.jsx)("table",{children:(0,Te.jsxs)("tbody",{children:[(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{children:"Starts"}),(0,Te.jsx)("td",{className:"value",children:(d=s.conversion_upswing.current_starts,d?new Intl.NumberFormat("en-US").format(d):"0")}),(0,Te.jsx)("td",{className:"target",children:"Current"})]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{children:"Starts to Funded Pull-thru"}),(0,Te.jsxs)("td",{className:"value",children:[s.conversion_upswing.current_pull_thru_pct,"%"]}),(0,Te.jsxs)("td",{className:"target",children:[s.conversion_upswing.target_pull_thru_pct,"%"]})]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{children:"Avg loan amount"}),(0,Te.jsx)("td",{className:"value",children:c(s.conversion_upswing.current_avg_amount)}),(0,Te.jsx)("td",{className:"target",children:c(s.conversion_upswing.target_avg_amount)})]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{children:"Increase in volume"}),(0,Te.jsx)("td",{className:"value",children:c(s.conversion_upswing.current_volume)}),(0,Te.jsx)("td",{className:"target",children:c(s.conversion_upswing.volume_increase)})]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{children:"Current Avg bps"}),(0,Te.jsx)("td",{className:"value",children:s.conversion_upswing.current_bps}),(0,Te.jsx)("td",{className:"target",children:s.conversion_upswing.target_bps})]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{children:"Additional compensation"}),(0,Te.jsx)("td",{className:"value",children:c(s.conversion_upswing.current_compensation)}),(0,Te.jsx)("td",{className:"target highlight",children:c(s.conversion_upswing.additional_compensation)})]})]})})]})})]})]}),(0,Te.jsxs)("section",{className:"scorecard-section yellow-section",children:[(0,Te.jsxs)("div",{className:"section-header yellow-header",children:[(0,Te.jsx)("span",{className:"indicator"}),"Funding Totals"]}),(0,Te.jsxs)("div",{className:"section-subheader",children:[i.start_date," - ",i.end_date]}),(0,Te.jsxs)("div",{className:"funding-grid",children:[(0,Te.jsx)("div",{className:"funding-table-container",children:(0,Te.jsxs)("table",{className:"funding-table",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{}),(0,Te.jsx)("th",{children:"Units"}),(0,Te.jsx)("th",{children:"Volume"})]})}),(0,Te.jsxs)("tbody",{children:[(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label",children:"Funded Loans"}),(0,Te.jsx)("td",{children:s.funding_totals.total_units}),(0,Te.jsx)("td",{className:"volume",children:c(s.funding_totals.total_volume)})]}),(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"label",children:"Avg Loan Amount"}),(0,Te.jsx)("td",{colSpan:"2",children:c(s.funding_totals.avg_loan_amount)})]})]})]})}),(0,Te.jsx)("div",{className:"funding-table-container",children:(0,Te.jsxs)("table",{className:"funding-table",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{children:"Loan Type"}),(0,Te.jsx)("th",{children:"Units"}),(0,Te.jsx)("th",{children:"Volume"}),(0,Te.jsx)("th",{children:"%"})]})}),(0,Te.jsx)("tbody",{children:s.funding_totals.loan_types&&s.funding_totals.loan_types.length>0?s.funding_totals.loan_types.map((e,t)=>(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{children:e.type}),(0,Te.jsx)("td",{children:e.units}),(0,Te.jsx)("td",{className:"volume",children:c(e.volume)}),(0,Te.jsxs)("td",{children:[e.percentage.toFixed(2),"%"]})]},t)):(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"4",style:{textAlign:"center",padding:"20px",color:"#666"},children:"No loan type data available"})})})]})}),(0,Te.jsx)("div",{className:"funding-table-container",children:(0,Te.jsxs)("table",{className:"funding-table",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{children:"Referral Source"}),(0,Te.jsx)("th",{children:"Referrals"}),(0,Te.jsx)("th",{children:"Closed Volume"})]})}),(0,Te.jsx)("tbody",{children:s.funding_totals.referral_sources&&s.funding_totals.referral_sources.length>0?s.funding_totals.referral_sources.map((e,t)=>(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{children:e.source}),(0,Te.jsx)("td",{children:e.referrals}),(0,Te.jsx)("td",{className:"volume",children:c(e.closed_volume)})]},t)):(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"3",style:{textAlign:"center",padding:"20px",color:"#666"},children:"No referral source data available"})})})]})})]})]}),(0,Te.jsxs)("div",{className:"scorecard-footer",children:[(0,Te.jsxs)("small",{children:["Last updated: ",new Date(s.generated_at).toLocaleString()]}),(0,Te.jsx)("small",{children:"Auto-refreshes every 60 seconds"})]})]}):(0,Te.jsx)(ms,{})]});var d};const gs=function(){const[e,t]=(0,a.useState)([]),[n,A]=(0,a.useState)(""),[s,r]=(0,a.useState)(!1),[i,l]=(0,a.useState)(null),[o,c]=(0,a.useState)([]),d=(0,a.useRef)(null);(0,a.useEffect)(()=>{h(),m()},[]),(0,a.useEffect)(()=>{u()},[e]);const u=()=>{var e;null===(e=d.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},h=async()=>{try{const e=(await Oa()).flatMap(e=>[{role:"user",content:e.message,timestamp:e.created_at},{role:"assistant",content:e.response,timestamp:e.created_at}]);t(e)}catch(e){console.error("Failed to load conversation history:",e)}},m=async()=>{try{const e=await Da();c(e.suggestions||[])}catch(e){console.error("Failed to generate suggestions:",e)}},p=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;if(!e.trim())return;const a={role:"user",content:e,timestamp:(new Date).toISOString()};t(e=>[...e,a]),A(""),r(!0);try{const n=await Pa({message:e,context:i}),a={role:"assistant",content:n.response||n.message,timestamp:(new Date).toISOString(),suggestions:n.suggestions};t(e=>[...e,a]),n.context&&l(n.context),await Ra({message:e,response:n.response||n.message,context:i})}catch(s){console.error("Failed to send message:",s);const e={role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:(new Date).toISOString(),isError:!0};t(t=>[...t,e])}finally{r(!1)}};return(0,Te.jsxs)("div",{className:"assistant-page",children:[(0,Te.jsxs)("div",{className:"assistant-header",children:[(0,Te.jsxs)("div",{className:"header-content",children:[(0,Te.jsx)("h1",{children:"\ud83e\udd16 AI Assistant"}),(0,Te.jsx)("p",{children:"Your intelligent mortgage CRM copilot"})]}),(0,Te.jsx)("button",{className:"btn-clear",onClick:()=>{window.confirm("Clear all conversation history?")&&(t([]),l(null))},children:"Clear History"})]}),(0,Te.jsxs)("div",{className:"assistant-container",children:[(0,Te.jsxs)("div",{className:"quick-actions",children:[(0,Te.jsx)("h3",{children:"Quick Actions"}),(0,Te.jsx)("div",{className:"quick-actions-grid",children:[{icon:"\ud83d\udcca",text:"Show my pipeline overview",action:"pipeline_overview"},{icon:"\u2705",text:"What tasks need my attention?",action:"urgent_tasks"},{icon:"\ud83d\udcc8",text:"Analyze my conversion rates",action:"conversion_analysis"},{icon:"\ud83c\udfaf",text:"Find hot leads to contact",action:"hot_leads"},{icon:"\ud83d\udcc5",text:"What's on my calendar today?",action:"today_calendar"},{icon:"\ud83d\udcb0",text:"Calculate my month's pipeline value",action:"pipeline_value"}].map((e,t)=>(0,Te.jsxs)("button",{className:"quick-action-btn",onClick:()=>(e=>{p({pipeline_overview:"Show me a comprehensive overview of my entire pipeline",urgent_tasks:"What tasks need my immediate attention today?",conversion_analysis:"Analyze my lead-to-close conversion rates and suggest improvements",hot_leads:"Show me the hottest leads I should contact right now",today_calendar:"What appointments and meetings do I have scheduled for today?",pipeline_value:"Calculate the total dollar value of my current pipeline"}[e]||e.text)})(e.action),children:[(0,Te.jsx)("span",{className:"action-icon",children:e.icon}),(0,Te.jsx)("span",{className:"action-text",children:e.text})]},t))})]}),(0,Te.jsxs)("div",{className:"chat-container",children:[(0,Te.jsx)("div",{className:"messages-area",children:0===e.length?(0,Te.jsxs)("div",{className:"empty-state",children:[(0,Te.jsx)("div",{className:"empty-icon",children:"\ud83e\udd16"}),(0,Te.jsx)("h2",{children:"Welcome to Your AI Assistant!"}),(0,Te.jsx)("p",{children:"I can help you with:"}),(0,Te.jsxs)("ul",{children:[(0,Te.jsx)("li",{children:"Analyzing your pipeline and performance metrics"}),(0,Te.jsx)("li",{children:"Finding and prioritizing leads to contact"}),(0,Te.jsx)("li",{children:"Managing tasks and appointments"}),(0,Te.jsx)("li",{children:"Providing insights on loan progress"}),(0,Te.jsx)("li",{children:"Answering questions about your clients"}),(0,Te.jsx)("li",{children:"Suggesting next best actions"})]}),(0,Te.jsx)("p",{children:"Click a quick action above or type a question below to get started!"})]}):(0,Te.jsxs)(Te.Fragment,{children:[e.map((e,t)=>(0,Te.jsxs)("div",{className:"message message-".concat(e.role),children:[(0,Te.jsx)("div",{className:"message-avatar",children:"user"===e.role?"\ud83d\udc64":"\ud83e\udd16"}),(0,Te.jsxs)("div",{className:"message-content",children:[(0,Te.jsx)("div",{className:"message-text",children:e.content}),e.suggestions&&e.suggestions.length>0&&(0,Te.jsxs)("div",{className:"message-suggestions",children:[(0,Te.jsx)("p",{className:"suggestions-label",children:"Suggested actions:"}),e.suggestions.map((e,t)=>(0,Te.jsx)("button",{className:"suggestion-chip",onClick:()=>p(e),children:e},t))]}),(0,Te.jsx)("div",{className:"message-time",children:new Date(e.timestamp).toLocaleTimeString()})]})]},t)),s&&(0,Te.jsxs)("div",{className:"message message-assistant",children:[(0,Te.jsx)("div",{className:"message-avatar",children:"\ud83e\udd16"}),(0,Te.jsx)("div",{className:"message-content",children:(0,Te.jsxs)("div",{className:"typing-indicator",children:[(0,Te.jsx)("span",{}),(0,Te.jsx)("span",{}),(0,Te.jsx)("span",{})]})})]}),(0,Te.jsx)("div",{ref:d})]})}),(0,Te.jsxs)("div",{className:"input-area",children:[(0,Te.jsx)("textarea",{className:"message-input",placeholder:"Ask me anything about your mortgage business...",value:n,onChange:e=>A(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),p())},rows:"3",disabled:s}),(0,Te.jsxs)("button",{className:"btn-send",onClick:()=>p(),disabled:s||!n.trim(),children:[s?"\u23f3":"\ud83d\udce4"," Send"]})]})]}),o.length>0&&(0,Te.jsxs)("div",{className:"insights-panel",children:[(0,Te.jsx)("h3",{children:"\ud83d\udca1 AI Insights"}),(0,Te.jsx)("div",{className:"insights-list",children:o.map((e,t)=>(0,Te.jsxs)("div",{className:"insight-card",children:[(0,Te.jsx)("div",{className:"insight-icon",children:"\ud83d\udca1"}),(0,Te.jsx)("div",{className:"insight-content",children:(0,Te.jsx)("p",{children:e})})]},t))})]})]})]})};const fs=function(){var e;const{type:t,id:n}=ee(),A=$(),[s,r]=(0,a.useState)(null),[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{h(),m()},[t,n]);const h=async()=>{try{c(!0);const e="lead"===t?await fa(n):await Ba(n);r(e)}catch(e){console.error("Failed to load client:",e)}finally{c(!1)}},m=async()=>{try{const e="lead"===t?{lead_id:n}:{loan_id:n},a=await Oa(e);l(a)}catch(e){console.error("Failed to load conversations:",e)}};if(o)return(0,Te.jsx)("div",{className:"loading",children:"Loading client profile..."});if(!s)return(0,Te.jsx)("div",{className:"error",children:"Client not found"});const p="lead"===t?{lead_id:n}:{loan_id:n};return(0,Te.jsxs)("div",{className:"client-profile-page",children:[(0,Te.jsxs)("div",{className:"profile-header",children:[(0,Te.jsx)("button",{className:"back-button",onClick:()=>A(-1),children:"\u2190 Back"}),(0,Te.jsx)("h1",{children:"lead"===t?s.name:s.borrower_name}),(0,Te.jsx)("div",{className:"profile-actions",children:(0,Te.jsxs)("button",{className:"btn-ai",onClick:()=>u(!d),children:[d?"Close":"Open"," AI Assistant"]})})]}),(0,Te.jsxs)("div",{className:"profile-content ".concat(d?"with-assistant":""),children:[(0,Te.jsxs)("div",{className:"profile-main",children:[(0,Te.jsxs)("div",{className:"info-card",children:[(0,Te.jsx)("h2",{children:"Client Information"}),(0,Te.jsx)("div",{className:"info-grid",children:"lead"===t?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"Email"}),(0,Te.jsx)("p",{children:s.email||"N/A"})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"Phone"}),(0,Te.jsx)("p",{children:s.phone||"N/A"})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"Stage"}),(0,Te.jsx)("p",{className:"badge",children:s.stage})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"Source"}),(0,Te.jsx)("p",{children:s.source||"N/A"})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"Credit Score"}),(0,Te.jsx)("p",{children:s.credit_score||"N/A"})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"AI Score"}),(0,Te.jsxs)("p",{className:"score score-".concat(s.ai_score>=80?"high":s.ai_score>=50?"medium":"low"),children:[s.ai_score,"/100"]})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"Preapproval Amount"}),(0,Te.jsx)("p",{children:s.preapproval_amount?"$".concat(s.preapproval_amount.toLocaleString()):"N/A"})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"Next Action"}),(0,Te.jsx)("p",{children:s.next_action||"N/A"})]})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"Loan Number"}),(0,Te.jsx)("p",{children:s.loan_number})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"Stage"}),(0,Te.jsx)("p",{className:"badge",children:s.stage})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"Loan Amount"}),(0,Te.jsxs)("p",{children:["$",null===(e=s.amount)||void 0===e?void 0:e.toLocaleString()]})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"Program"}),(0,Te.jsx)("p",{children:s.program||"N/A"})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"Interest Rate"}),(0,Te.jsx)("p",{children:s.rate?"".concat(s.rate,"%"):"N/A"})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"Property Address"}),(0,Te.jsx)("p",{children:s.property_address||"N/A"})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"Closing Date"}),(0,Te.jsx)("p",{children:s.closing_date?new Date(s.closing_date).toLocaleDateString():"N/A"})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"Days in Stage"}),(0,Te.jsxs)("p",{children:[s.days_in_stage," days"]})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"Processor"}),(0,Te.jsx)("p",{children:s.processor||"N/A"})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("label",{children:"SLA Status"}),(0,Te.jsx)("p",{className:"badge badge-".concat(s.sla_status),children:s.sla_status})]})]})})]}),(0,Te.jsxs)("div",{className:"conversations-card",children:[(0,Te.jsx)("h2",{children:"Conversation History"}),0===i.length?(0,Te.jsx)("p",{className:"empty-state",children:"No conversations yet. Use the AI Assistant to start chatting."}):(0,Te.jsx)("div",{className:"conversations-list",children:i.map(e=>(0,Te.jsxs)("div",{className:"conversation-item ".concat(e.role),children:[(0,Te.jsxs)("div",{className:"conv-header",children:[(0,Te.jsx)("span",{className:"conv-role",children:"user"===e.role?"You":"AI Assistant"}),(0,Te.jsx)("span",{className:"conv-time",children:new Date(e.created_at).toLocaleString()})]}),(0,Te.jsx)("div",{className:"conv-content",children:"user"===e.role?e.message:e.response})]},e.id))})]})]}),d&&(0,Te.jsx)("div",{className:"assistant-sidebar",children:(0,Te.jsx)(xA,{isOpen:!0,onClose:()=>u(!1),context:p})})]})]})};function xs(e){let{onClose:t,onAdd:n,defaultCategory:A}=e;const[s,r]=(0,a.useState)({name:"",company:"",type:"",phone:"",email:"",partner_category:A||"individual"});return(0,Te.jsx)("div",{className:"modal-overlay",onClick:t,children:(0,Te.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Te.jsx)("h3",{children:"Add Referral Partner"}),(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(s)},children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Name *"}),(0,Te.jsx)("input",{type:"text",required:!0,value:s.name,onChange:e=>r(Wt(Wt({},s),{},{name:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Company"}),(0,Te.jsx)("input",{type:"text",value:s.company,onChange:e=>r(Wt(Wt({},s),{},{company:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Type"}),(0,Te.jsxs)("select",{value:s.type,onChange:e=>r(Wt(Wt({},s),{},{type:e.target.value})),children:[(0,Te.jsx)("option",{value:"",children:"Select type..."}),(0,Te.jsx)("option",{value:"Real Estate Agent",children:"Real Estate Agent"}),(0,Te.jsx)("option",{value:"Builder",children:"Builder"}),(0,Te.jsx)("option",{value:"Financial Advisor",children:"Financial Advisor"}),(0,Te.jsx)("option",{value:"CPA",children:"CPA"}),(0,Te.jsx)("option",{value:"Attorney",children:"Attorney"}),(0,Te.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Partner Category"}),(0,Te.jsxs)("div",{className:"radio-group",children:[(0,Te.jsxs)("label",{className:"radio-label",children:[(0,Te.jsx)("input",{type:"radio",name:"partner_category",value:"individual",checked:"individual"===s.partner_category,onChange:e=>r(Wt(Wt({},s),{},{partner_category:e.target.value}))}),(0,Te.jsx)("span",{children:"\ud83d\udc64 Individual Partner"})]}),(0,Te.jsxs)("label",{className:"radio-label",children:[(0,Te.jsx)("input",{type:"radio",name:"partner_category",value:"team",checked:"team"===s.partner_category,onChange:e=>r(Wt(Wt({},s),{},{partner_category:e.target.value}))}),(0,Te.jsx)("span",{children:"\ud83d\udc65 Team Partner"})]})]})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Email"}),(0,Te.jsx)("input",{type:"email",value:s.email,onChange:e=>r(Wt(Wt({},s),{},{email:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Phone"}),(0,Te.jsx)("input",{type:"tel",value:s.phone,onChange:e=>r(Wt(Wt({},s),{},{phone:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-actions",children:[(0,Te.jsx)("button",{type:"button",onClick:t,children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"btn-primary",children:"Add Partner"})]})]})]})})}const vs=function(){const e=$(),[t,n]=(0,a.useState)([]),[A,s]=(0,a.useState)(!0),[r,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)("all"),[c,d]=(0,a.useState)("individual");(0,a.useEffect)(()=>{u()},[]);const u=async()=>{try{s(!0);const e=await Na();console.log("Loaded partners data:",e),console.log("Is array?",Array.isArray(e)),console.log("Type:",typeof e),Array.isArray(e)?n(e):(console.error("API returned non-array data:",e),n([]))}catch(t){var e;console.error("Failed to load referral partners:",t),console.error("Error details:",null===(e=t.response)||void 0===e?void 0:e.data),n([])}finally{s(!1)}},h=Array.isArray(t)?t:[],m=h.filter(e=>(e.partner_category||"individual")===c),p="all"===l?m:m.filter(e=>e.status===l);return(0,Te.jsxs)("div",{className:"referral-partners-page",children:[(0,Te.jsxs)("div",{className:"page-header",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{children:"Referral Partners"}),(0,Te.jsxs)("p",{children:[h.length," total partners"]})]}),(0,Te.jsx)("button",{className:"btn-add",onClick:()=>i(!0),children:"+ Add Partner"})]}),(0,Te.jsxs)("div",{className:"category-toggle",children:[(0,Te.jsxs)("button",{className:"category-toggle-btn ".concat("individual"===c?"active":""),onClick:()=>d("individual"),children:["\ud83d\udc64 Individual Partners",(0,Te.jsxs)("span",{className:"category-count",children:["(",h.filter(e=>"individual"===(e.partner_category||"individual")).length,")"]})]}),(0,Te.jsxs)("button",{className:"category-toggle-btn ".concat("team"===c?"active":""),onClick:()=>d("team"),children:["\ud83d\udc65 Team Partners",(0,Te.jsxs)("span",{className:"category-count",children:["(",h.filter(e=>"team"===e.partner_category).length,")"]})]})]}),(0,Te.jsxs)("div",{className:"filter-bar",children:[(0,Te.jsxs)("button",{className:"all"===l?"active":"",onClick:()=>o("all"),children:["All (",m.length,")"]}),(0,Te.jsxs)("button",{className:"active"===l?"active":"",onClick:()=>o("active"),children:["Active (",m.filter(e=>"active"===e.status).length,")"]}),(0,Te.jsxs)("button",{className:"inactive"===l?"active":"",onClick:()=>o("inactive"),children:["Inactive (",m.filter(e=>"inactive"===e.status).length,")"]})]}),A?(0,Te.jsx)("div",{className:"loading",children:"Loading partners..."}):(0,Te.jsxs)("div",{className:"partners-list",children:[(0,Te.jsxs)("table",{className:"partners-table",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{children:"Name"}),(0,Te.jsx)("th",{children:"Company"}),(0,Te.jsx)("th",{children:"Type"}),(0,Te.jsx)("th",{children:"Tier"}),(0,Te.jsx)("th",{children:"Contact"}),(0,Te.jsx)("th",{children:"Referrals In"}),(0,Te.jsx)("th",{children:"Closed Loans"}),(0,Te.jsx)("th",{children:"Volume"}),(0,Te.jsx)("th",{children:"Actions"})]})}),(0,Te.jsx)("tbody",{children:p.map(t=>{return(0,Te.jsxs)("tr",{className:"partner-row",onClick:()=>e("/referral-partners/".concat(t.id)),children:[(0,Te.jsx)("td",{className:"partner-name",children:t.name}),(0,Te.jsx)("td",{children:t.company||"N/A"}),(0,Te.jsx)("td",{children:t.type||"N/A"}),(0,Te.jsx)("td",{children:(0,Te.jsx)("span",{className:"tier-badge ".concat((n=t.loyalty_tier,{gold:"tier-gold",silver:"tier-silver",bronze:"tier-bronze"}[null===n||void 0===n?void 0:n.toLowerCase()]||"tier-bronze")),children:t.loyalty_tier||"Bronze"})}),(0,Te.jsx)("td",{children:(0,Te.jsxs)("div",{className:"contact-info",children:[(0,Te.jsx)("div",{children:t.email||"N/A"}),(0,Te.jsx)("div",{className:"phone",children:t.phone||"N/A"})]})}),(0,Te.jsx)("td",{className:"stat-cell",children:t.referrals_in||0}),(0,Te.jsx)("td",{className:"stat-cell",children:t.closed_loans||0}),(0,Te.jsxs)("td",{className:"stat-cell",children:["$",((t.volume||0)/1e6).toFixed(1),"M"]}),(0,Te.jsx)("td",{children:(0,Te.jsx)("button",{className:"btn-delete-small",onClick:e=>(async(e,t)=>{if(t.stopPropagation(),window.confirm("Delete this referral partner?"))try{await Ua(e),u()}catch(n){console.error("Failed to delete partner:",n)}})(t.id,e),title:"Delete",children:"\xd7"})})]},t.id);var n})})]}),0===p.length&&(0,Te.jsx)("div",{className:"empty-state",children:"No referral partners found. Add your first partner to start tracking referrals."})]}),r&&(0,Te.jsx)(xs,{onClose:()=>i(!1),onAdd:async e=>{try{console.log("Creating referral partner with data:",e),await Fa(e),u(),i(!1)}catch(A){var t,n,a;console.error("Failed to create partner:",A),console.error("Error response:",null===(t=A.response)||void 0===t?void 0:t.data);const e=null!==(n=A.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.detail?"string"===typeof A.response.data.detail?A.response.data.detail:JSON.stringify(A.response.data.detail):A.message||"Unknown error";alert("Failed to create referral partner: "+e)}},defaultCategory:c})]})};const ys=function(){const{id:e}=ee(),t=$(),[n,A]=(0,a.useState)(null),[s,r]=(0,a.useState)([]),[i,l]=(0,a.useState)(!0),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[h,m]=(0,a.useState)(""),[p,g]=(0,a.useState)([]),[f,x]=(0,a.useState)([]),[v,y]=(0,a.useState)("overview"),[w,B]=(0,a.useState)(()=>{const t=localStorage.getItem("partner_".concat(e,"_marketing_spend"));return t?parseFloat(t):500}),[j,b]=(0,a.useState)(()=>{const t=localStorage.getItem("partner_".concat(e,"_avg_commission"));return t?parseFloat(t):4e3});(0,a.useEffect)(()=>{C()},[e]);const C=async()=>{try{l(!0);const[t,n]=await Promise.all([Qa(e),ga()]);A(t),g(n);const a=n.filter(n=>{var a,A;return n.referral_partner_id===parseInt(e)||(null===(a=n.source)||void 0===a?void 0:a.toLowerCase().includes(null===(A=t.name)||void 0===A?void 0:A.toLowerCase()))});r(a)}catch(t){console.error("Failed to load partner data:",t),alert("Failed to load referral partner details")}finally{l(!1)}},N=e=>{u(e),m(""),x([]),c(!0)},Q=()=>({leads:s.filter(e=>["New","Attempted Contact","Prospect"].includes(e.stage)),active:s.filter(e=>["Application","Pre-Qualified","Pre-Approved"].includes(e.stage)),closed:s.filter(e=>"Completed"===e.stage),nurtured:s.filter(e=>"Prospect"===e.stage),disqualified:s.filter(e=>["Withdrawn","Does Not Qualify"].includes(e.stage))}),F=t=>{B(t),localStorage.setItem("partner_".concat(e,"_marketing_spend"),t)},U=t=>{b(t),localStorage.setItem("partner_".concat(e,"_avg_commission"),t)},S=e=>{t("/leads/".concat(e))};if(i)return(0,Te.jsx)("div",{className:"partner-detail-container",children:(0,Te.jsx)("div",{className:"loading",children:"Loading partner details..."})});if(!n)return(0,Te.jsx)("div",{className:"partner-detail-container",children:(0,Te.jsx)("div",{className:"error",children:"Partner not found"})});const k=Q();return(0,Te.jsxs)("div",{className:"partner-detail-container",children:[(0,Te.jsxs)("div",{className:"detail-header",children:[(0,Te.jsx)("button",{className:"btn-back",onClick:()=>t("/referral-partners"),children:"\u2190 Back to Partners"}),(0,Te.jsxs)("div",{className:"partner-title-section",children:[(0,Te.jsx)("h1",{children:n.name}),(0,Te.jsx)("span",{className:"tier-badge ".concat((E=n.loyalty_tier,{gold:"tier-gold",silver:"tier-silver",bronze:"tier-bronze"}[null===E||void 0===E?void 0:E.toLowerCase()]||"tier-bronze")),children:n.loyalty_tier||"Bronze"})]})]}),(0,Te.jsxs)("div",{className:"partner-info-card",children:[(0,Te.jsxs)("div",{className:"info-grid",children:[(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("span",{className:"label",children:"Company"}),(0,Te.jsx)("span",{className:"value",children:n.company||"N/A"})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("span",{className:"label",children:"Type"}),(0,Te.jsx)("span",{className:"value",children:n.type||"N/A"})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("span",{className:"label",children:"Email"}),(0,Te.jsx)("span",{className:"value",children:(0,Te.jsx)(GA,{email:n.email})})]}),(0,Te.jsxs)("div",{className:"info-item",children:[(0,Te.jsx)("span",{className:"label",children:"Phone"}),(0,Te.jsx)("span",{className:"value",children:(0,Te.jsx)(VA,{phone:n.phone})})]})]}),(0,Te.jsxs)("div",{className:"stats-row",children:[(0,Te.jsxs)("div",{className:"stat-box",children:[(0,Te.jsx)("div",{className:"stat-value",children:s.length}),(0,Te.jsx)("div",{className:"stat-label",children:"Total Referrals"})]}),(0,Te.jsxs)("div",{className:"stat-box",children:[(0,Te.jsx)("div",{className:"stat-value",children:k.closed.length}),(0,Te.jsx)("div",{className:"stat-label",children:"Closed Loans"})]}),(0,Te.jsxs)("div",{className:"stat-box",children:[(0,Te.jsx)("div",{className:"stat-value",children:k.active.length}),(0,Te.jsx)("div",{className:"stat-label",children:"Active Clients"})]}),(0,Te.jsxs)("div",{className:"stat-box",children:[(0,Te.jsxs)("div",{className:"stat-value",children:["$",((n.volume||0)/1e6).toFixed(1),"M"]}),(0,Te.jsx)("div",{className:"stat-label",children:"Total Volume"})]})]})]}),(0,Te.jsxs)("div",{className:"partner-tabs",children:[(0,Te.jsx)("button",{className:"partner-tab ".concat("overview"===v?"active":""),onClick:()=>y("overview"),children:"Overview"}),(0,Te.jsx)("button",{className:"partner-tab ".concat("roi"===v?"active":""),onClick:()=>y("roi"),children:"\ud83d\udcb0 ROI Calculator"})]}),"overview"===v&&(0,Te.jsx)(Te.Fragment,{children:(0,Te.jsxs)("div",{className:"referrals-section",children:[(0,Te.jsx)("h2",{children:"Referrals by Status"}),(0,Te.jsxs)("div",{className:"status-category",children:[(0,Te.jsxs)("div",{className:"category-header",children:[(0,Te.jsxs)("h3",{children:["Leads (",k.leads.length,")"]}),(0,Te.jsxs)("div",{className:"category-header-actions",children:[(0,Te.jsx)("span",{className:"count-badge",children:k.leads.length}),(0,Te.jsx)("button",{className:"btn-add-to-category",onClick:()=>N("leads"),title:"Add lead to this category",children:"+"})]})]}),k.leads.length>0?(0,Te.jsx)("div",{className:"referrals-list",children:k.leads.map(e=>(0,Te.jsxs)("div",{className:"referral-item",onClick:()=>S(e.id),children:[(0,Te.jsx)("div",{className:"referral-name",children:e.name}),(0,Te.jsxs)("div",{className:"referral-details",children:[(0,Te.jsx)("span",{children:e.email||"No email"}),(0,Te.jsx)("span",{className:"separator",children:"\u2022"}),(0,Te.jsx)("span",{className:"status-badge status-".concat(e.stage.toLowerCase().replace(/\s+/g,"-")),children:e.stage})]})]},e.id))}):(0,Te.jsx)("div",{className:"empty-category",children:"No leads in this category"})]}),(0,Te.jsxs)("div",{className:"status-category",children:[(0,Te.jsxs)("div",{className:"category-header",children:[(0,Te.jsxs)("h3",{children:["Active Clients (",k.active.length,")"]}),(0,Te.jsxs)("div",{className:"category-header-actions",children:[(0,Te.jsx)("span",{className:"count-badge",children:k.active.length}),(0,Te.jsx)("button",{className:"btn-add-to-category",onClick:()=>N("active"),title:"Add lead to this category",children:"+"})]})]}),k.active.length>0?(0,Te.jsx)("div",{className:"referrals-list",children:k.active.map(e=>(0,Te.jsxs)("div",{className:"referral-item",onClick:()=>S(e.id),children:[(0,Te.jsx)("div",{className:"referral-name",children:e.name}),(0,Te.jsxs)("div",{className:"referral-details",children:[(0,Te.jsx)("span",{children:e.email||"No email"}),(0,Te.jsx)("span",{className:"separator",children:"\u2022"}),(0,Te.jsx)("span",{className:"status-badge status-".concat(e.stage.toLowerCase().replace(/\s+/g,"-")),children:e.stage})]})]},e.id))}):(0,Te.jsx)("div",{className:"empty-category",children:"No active clients in this category"})]}),(0,Te.jsxs)("div",{className:"status-category",children:[(0,Te.jsxs)("div",{className:"category-header",children:[(0,Te.jsxs)("h3",{children:["Closed Clients (",k.closed.length,")"]}),(0,Te.jsxs)("div",{className:"category-header-actions",children:[(0,Te.jsx)("span",{className:"count-badge",children:k.closed.length}),(0,Te.jsx)("button",{className:"btn-add-to-category",onClick:()=>N("closed"),title:"Add lead to this category",children:"+"})]})]}),k.closed.length>0?(0,Te.jsx)("div",{className:"referrals-list",children:k.closed.map(e=>(0,Te.jsxs)("div",{className:"referral-item",onClick:()=>S(e.id),children:[(0,Te.jsx)("div",{className:"referral-name",children:e.name}),(0,Te.jsxs)("div",{className:"referral-details",children:[(0,Te.jsx)("span",{children:e.email||"No email"}),(0,Te.jsx)("span",{className:"separator",children:"\u2022"}),(0,Te.jsx)("span",{className:"status-badge status-".concat(e.stage.toLowerCase().replace(/\s+/g,"-")),children:e.stage})]})]},e.id))}):(0,Te.jsx)("div",{className:"empty-category",children:"No closed clients in this category"})]}),(0,Te.jsxs)("div",{className:"status-category",children:[(0,Te.jsxs)("div",{className:"category-header",children:[(0,Te.jsxs)("h3",{children:["Nurtured Clients (",k.nurtured.length,")"]}),(0,Te.jsxs)("div",{className:"category-header-actions",children:[(0,Te.jsx)("span",{className:"count-badge",children:k.nurtured.length}),(0,Te.jsx)("button",{className:"btn-add-to-category",onClick:()=>N("nurtured"),title:"Add lead to this category",children:"+"})]})]}),k.nurtured.length>0?(0,Te.jsx)("div",{className:"referrals-list",children:k.nurtured.map(e=>(0,Te.jsxs)("div",{className:"referral-item",onClick:()=>S(e.id),children:[(0,Te.jsx)("div",{className:"referral-name",children:e.name}),(0,Te.jsxs)("div",{className:"referral-details",children:[(0,Te.jsx)("span",{children:e.email||"No email"}),(0,Te.jsx)("span",{className:"separator",children:"\u2022"}),(0,Te.jsx)("span",{className:"status-badge status-".concat(e.stage.toLowerCase().replace(/\s+/g,"-")),children:e.stage})]})]},e.id))}):(0,Te.jsx)("div",{className:"empty-category",children:"No nurtured clients in this category"})]}),(0,Te.jsxs)("div",{className:"status-category",children:[(0,Te.jsxs)("div",{className:"category-header",children:[(0,Te.jsxs)("h3",{children:["Do Not Qualify (",k.disqualified.length,")"]}),(0,Te.jsxs)("div",{className:"category-header-actions",children:[(0,Te.jsx)("span",{className:"count-badge",children:k.disqualified.length}),(0,Te.jsx)("button",{className:"btn-add-to-category",onClick:()=>N("disqualified"),title:"Add lead to this category",children:"+"})]})]}),k.disqualified.length>0?(0,Te.jsx)("div",{className:"referrals-list",children:k.disqualified.map(e=>(0,Te.jsxs)("div",{className:"referral-item",onClick:()=>S(e.id),children:[(0,Te.jsx)("div",{className:"referral-name",children:e.name}),(0,Te.jsxs)("div",{className:"referral-details",children:[(0,Te.jsx)("span",{children:e.email||"No email"}),(0,Te.jsx)("span",{className:"separator",children:"\u2022"}),(0,Te.jsx)("span",{className:"status-badge status-".concat(e.stage.toLowerCase().replace(/\s+/g,"-")),children:e.stage})]})]},e.id))}):(0,Te.jsx)("div",{className:"empty-category",children:"No disqualified clients in this category"})]})]})}),"roi"===v&&(0,Te.jsxs)("div",{className:"roi-calculator-section",children:[(0,Te.jsxs)("div",{className:"roi-header",children:[(0,Te.jsx)("h2",{children:"Partnership Profitability Calculator"}),(0,Te.jsx)("p",{children:"Track your marketing investment and measure ROI from this referral partnership"})]}),(0,Te.jsxs)("div",{className:"roi-calculator-grid",children:[(0,Te.jsxs)("div",{className:"roi-config-panel",children:[(0,Te.jsx)("h3",{children:"Configuration"}),(0,Te.jsxs)("div",{className:"roi-input-group",children:[(0,Te.jsxs)("label",{className:"roi-label",children:["Monthly Marketing Contribution",(0,Te.jsx)("span",{className:"info-tooltip",title:"Amount you contribute monthly to partner's marketing",children:"\u24d8"})]}),(0,Te.jsxs)("div",{className:"input-with-slider",children:[(0,Te.jsx)("input",{type:"number",className:"roi-input",value:w,onChange:e=>F(parseFloat(e.target.value)||0),min:"0",step:"100"}),(0,Te.jsx)("input",{type:"range",className:"roi-slider",value:w,onChange:e=>F(parseFloat(e.target.value)),min:"0",max:"10000",step:"100"}),(0,Te.jsxs)("div",{className:"slider-labels",children:[(0,Te.jsx)("span",{children:"$0"}),(0,Te.jsx)("span",{children:"$10,000"})]})]})]}),(0,Te.jsxs)("div",{className:"roi-input-group",children:[(0,Te.jsxs)("label",{className:"roi-label",children:["Average Commission Per Loan",(0,Te.jsx)("span",{className:"info-tooltip",title:"Your average commission per closed loan",children:"\u24d8"})]}),(0,Te.jsxs)("div",{className:"input-with-slider",children:[(0,Te.jsx)("input",{type:"number",className:"roi-input",value:j,onChange:e=>U(parseFloat(e.target.value)||0),min:"0",step:"100"}),(0,Te.jsx)("input",{type:"range",className:"roi-slider",value:j,onChange:e=>U(parseFloat(e.target.value)),min:"1000",max:"15000",step:"100"}),(0,Te.jsxs)("div",{className:"slider-labels",children:[(0,Te.jsx)("span",{children:"$1,000"}),(0,Te.jsx)("span",{children:"$15,000"})]})]})]}),(0,Te.jsxs)("div",{className:"live-data-indicator",children:[(0,Te.jsx)("span",{className:"live-dot"}),(0,Te.jsx)("span",{className:"live-text",children:"Using live data from closed clients"})]})]}),(0,Te.jsxs)("div",{className:"roi-results-panel",children:[(0,Te.jsx)("h3",{children:"Performance Results"}),(()=>{const e=(()=>{const e=Q().closed.length,t=s.length,n=12*w,a=e*j,A=n>0?(a-n)/n*100:0,r=e>0?n/e:0,i=a-n;return{closedLoans:e,totalLeads:t,conversionRate:(t>0?e/t*100:0).toFixed(1),costPerLoan:Math.round(r),annualROI:Math.round(A),annualProfit:Math.round(i),totalRevenue:Math.round(a),annualSpend:Math.round(n)}})(),t=(n=e.annualROI)>=300?{label:"Excellent",color:"#10b981"}:n>=150?{label:"Strong",color:"#3b82f6"}:n>=50?{label:"Good",color:"#f59e0b"}:{label:"Needs Improvement",color:"#ef4444"};var n;return(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"roi-metric-large",children:[(0,Te.jsx)("div",{className:"metric-label",children:"COST PER FUNDED LOAN"}),(0,Te.jsxs)("div",{className:"metric-value-big",style:{color:"#10b981"},children:["$",e.costPerLoan.toLocaleString()]}),(0,Te.jsx)("div",{className:"metric-status",style:{color:t.color},children:t.label})]}),(0,Te.jsxs)("div",{className:"roi-metrics-grid",children:[(0,Te.jsxs)("div",{className:"roi-metric-box",children:[(0,Te.jsx)("div",{className:"metric-label-small",children:"Annual Leads"}),(0,Te.jsx)("div",{className:"metric-value-medium",children:e.totalLeads}),(0,Te.jsx)("div",{className:"metric-sublabel",children:"Generated"})]}),(0,Te.jsxs)("div",{className:"roi-metric-box",children:[(0,Te.jsx)("div",{className:"metric-label-small",children:"Annual Loans"}),(0,Te.jsx)("div",{className:"metric-value-medium",children:e.closedLoans}),(0,Te.jsx)("div",{className:"metric-sublabel",children:"Closed"})]}),(0,Te.jsxs)("div",{className:"roi-metric-box",children:[(0,Te.jsx)("div",{className:"metric-label-small",children:"Conversion Rate"}),(0,Te.jsxs)("div",{className:"metric-value-medium",children:[e.conversionRate,"%"]}),(0,Te.jsx)("div",{className:"metric-sublabel",children:"Lead to Close"})]})]}),(0,Te.jsxs)("div",{className:"roi-bottom-metrics",children:[(0,Te.jsxs)("div",{className:"roi-metric-box-large",children:[(0,Te.jsx)("div",{className:"metric-label-small",children:"Annual ROI"}),(0,Te.jsxs)("div",{className:"metric-value-huge",style:{color:"#10b981"},children:["+",e.annualROI,"%"]}),(0,Te.jsxs)("div",{className:"metric-sublabel",style:{color:t.color},children:[t.label," returns"]})]}),(0,Te.jsxs)("div",{className:"roi-metric-box-large",children:[(0,Te.jsx)("div",{className:"metric-label-small",children:"Annual Profit"}),(0,Te.jsxs)("div",{className:"metric-value-huge",style:{color:"#10b981"},children:["+$",e.annualProfit.toLocaleString()]}),(0,Te.jsx)("div",{className:"metric-sublabel",children:"Annual profit"})]})]}),(0,Te.jsxs)("div",{className:"roi-info-boxes",children:[(0,Te.jsxs)("div",{className:"roi-info-item",children:[(0,Te.jsx)("span",{className:"info-label",children:"Annual Marketing Spend:"}),(0,Te.jsxs)("span",{className:"info-value",children:["$",e.annualSpend.toLocaleString()]})]}),(0,Te.jsxs)("div",{className:"roi-info-item",children:[(0,Te.jsx)("span",{className:"info-label",children:"Total Revenue Generated:"}),(0,Te.jsxs)("span",{className:"info-value",children:["$",e.totalRevenue.toLocaleString()]})]})]})]})})()]})]})]}),o&&(0,Te.jsx)("div",{className:"search-modal-overlay",onClick:()=>c(!1),children:(0,Te.jsxs)("div",{className:"search-modal-content",onClick:e=>e.stopPropagation(),children:[(0,Te.jsxs)("div",{className:"search-modal-header",children:[(0,Te.jsxs)("h3",{children:["Add Lead to ",n.name]}),(0,Te.jsx)("button",{className:"btn-close-modal",onClick:()=>c(!1),children:"\xd7"})]}),(0,Te.jsxs)("div",{className:"search-modal-body",children:[(0,Te.jsx)("input",{type:"text",className:"search-input",placeholder:"Search for a lead by name...",value:h,onChange:t=>{const n=t.target.value;if(m(n),""===n.trim())return void x([]);const a=p.filter(t=>{var a;const A=t.referral_partner_id!==parseInt(e),s=null===(a=t.name)||void 0===a?void 0:a.toLowerCase().includes(n.toLowerCase());return A&&s});x(a)},autoFocus:!0}),(0,Te.jsx)("div",{className:"search-results",children:""===h.trim()?(0,Te.jsx)("div",{className:"search-hint",children:"Start typing to search for leads..."}):f.length>0?f.map(t=>{var a;return(0,Te.jsxs)("div",{className:"search-result-item",onClick:()=>(async t=>{const a={leads:"Leads",active:"Active Clients",closed:"Closed Clients",nurtured:"Nurtured Clients",disqualified:"Do Not Qualify"},A={leads:"New",active:"Application",closed:"Completed",nurtured:"Prospect",disqualified:"Does Not Qualify"};if(window.confirm("Add ".concat(t.name," to ").concat(n.name,"'s ").concat(a[d],"?")))try{await va(t.id,{referral_partner_id:parseInt(e),stage:A[d]}),c(!1),m(""),x([]),await C(),alert("".concat(t.name," has been added to ").concat(n.name,"'s ").concat(a[d],"!"))}catch(s){console.error("Failed to assign lead:",s),alert("Failed to assign lead to partner. Please try again.")}})(t),children:[(0,Te.jsx)("div",{className:"result-name",children:t.name}),(0,Te.jsxs)("div",{className:"result-details",children:[(0,Te.jsx)("span",{children:t.email||"No email"}),(0,Te.jsx)("span",{className:"separator",children:"\u2022"}),(0,Te.jsx)("span",{className:"status-badge status-".concat(null===(a=t.stage)||void 0===a?void 0:a.toLowerCase().replace(/\s+/g,"-")),children:t.stage})]})]},t.id)}):(0,Te.jsxs)("div",{className:"no-results",children:['No leads found matching "',h,'"']})})]})]})})]});var E};const ws=function(){const[e,t]=(0,a.useState)([{role:"assistant",content:"Hello! I'm your AI Underwriter assistant. I can answer any mortgage lending questions by searching current guidelines. Just ask me anything!",timestamp:new Date}]),[n,A]=(0,a.useState)(""),[s,r]=(0,a.useState)(!1),i=(0,a.useRef)(null);return(0,a.useEffect)(()=>{(()=>{var e;null===(e=i.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[e]),(0,Te.jsxs)("div",{className:"ai-underwriter-page",children:[(0,Te.jsx)("div",{className:"underwriter-header",children:(0,Te.jsxs)("div",{className:"header-content",children:[(0,Te.jsx)("h1",{children:"AI Underwriter"}),(0,Te.jsx)("p",{className:"subtitle",children:"Ask any mortgage lending question and get answers with sources"})]})}),(0,Te.jsxs)("div",{className:"underwriter-container",children:[(0,Te.jsxs)("div",{className:"messages-container",children:[e.map((e,t)=>(0,Te.jsxs)("div",{className:"message ".concat(e.role," ").concat(e.isError?"error":""),children:[(0,Te.jsxs)("div",{className:"message-header",children:[(0,Te.jsx)("span",{className:"message-role",children:"user"===e.role?"You":"\ud83e\udd16 AI Underwriter"}),(0,Te.jsx)("span",{className:"message-time",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,Te.jsx)("div",{className:"message-content",children:e.content}),e.sources&&e.sources.length>0&&(0,Te.jsxs)("div",{className:"message-sources",children:[(0,Te.jsx)("div",{className:"sources-header",children:"\ud83d\udcda Sources:"}),e.sources.map((e,t)=>(0,Te.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"source-link",children:[(0,Te.jsx)("span",{className:"source-icon",children:"\ud83d\udd17"}),(0,Te.jsx)("span",{className:"source-title",children:e.title||e.url})]},t))]}),e.confidence&&(0,Te.jsxs)("div",{className:"message-confidence",children:["Confidence: ",Math.round(100*e.confidence),"%"]})]},t)),s&&(0,Te.jsxs)("div",{className:"message assistant loading-message",children:[(0,Te.jsx)("div",{className:"message-header",children:(0,Te.jsx)("span",{className:"message-role",children:"\ud83e\udd16 AI Underwriter"})}),(0,Te.jsxs)("div",{className:"message-content",children:[(0,Te.jsxs)("div",{className:"typing-indicator",children:[(0,Te.jsx)("span",{}),(0,Te.jsx)("span",{}),(0,Te.jsx)("span",{})]}),"Searching guidelines..."]})]}),(0,Te.jsx)("div",{ref:i})]}),1===e.length&&(0,Te.jsxs)("div",{className:"suggested-questions",children:[(0,Te.jsx)("h3",{children:"Suggested Questions:"}),(0,Te.jsx)("div",{className:"questions-grid",children:["What are the minimum credit score requirements for FHA loans?","What is the maximum DTI ratio for conventional loans?","What documentation is required for self-employed borrowers?","What are the LTV limits for cash-out refinances?","What are the reserve requirements for investment properties?"].map((e,t)=>(0,Te.jsx)("button",{className:"suggested-question-btn",onClick:()=>(e=>{A(e)})(e),children:e},t))})]}),(0,Te.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),!n.trim()||s)return;const a={role:"user",content:n,timestamp:new Date};t(e=>[...e,a]),A(""),r(!0);try{const e=await fetch("/api/v1/ai-underwriter/ask",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({question:n})});if(!e.ok)throw new Error("Failed to get answer");const a=await e.json(),A={role:"assistant",content:a.answer,sources:a.sources||[],confidence:a.confidence,timestamp:new Date};t(e=>[...e,A])}catch(i){console.error("Error asking question:",i);const e={role:"assistant",content:"Sorry, I encountered an error while searching for that information. Please try again.",timestamp:new Date,isError:!0};t(t=>[...t,e])}finally{r(!1)}},className:"input-form",children:(0,Te.jsxs)("div",{className:"input-container",children:[(0,Te.jsx)("input",{type:"text",value:n,onChange:e=>A(e.target.value),placeholder:"Ask a mortgage lending question...",className:"message-input",disabled:s}),(0,Te.jsx)("button",{type:"submit",className:"send-button",disabled:s||!n.trim(),children:s?"...":"Ask"})]})})]})]})},Bs=()=>(0,Te.jsx)("div",{className:"coach-page",children:(0,Te.jsx)("div",{className:"coach-page-container",children:(0,Te.jsx)(vA,{})})}),js="https://mortgage-crm-production-7a9a.up.railway.app";const bs=function(){var e,t,n;const[A,s]=(0,a.useState)([]),[r,i]=(0,a.useState)(!0),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)({}),[u,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{m()},[]);const m=async()=>{try{i(!0);const e=await fetch("".concat(js,"/api/v1/reconciliation/pending"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){const t=await e.json();s(t.items||[])}}catch(e){console.error("Error fetching pending items:",e)}finally{i(!1)}},p=e=>e>=.85?"#10b981":e>=.65?"#f59e0b":"#ef4444",g=e=>e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return r?(0,Te.jsx)("div",{className:"reconciliation-page",children:(0,Te.jsx)("div",{className:"reconciliation-container",children:(0,Te.jsxs)("div",{className:"loading-state",children:[(0,Te.jsx)("div",{className:"spinner"}),(0,Te.jsx)("p",{children:"Loading reconciliation items..."})]})})}):(0,Te.jsx)("div",{className:"reconciliation-page",children:(0,Te.jsxs)("div",{className:"reconciliation-container",children:[(0,Te.jsxs)("div",{className:"reconciliation-header",children:[(0,Te.jsxs)("div",{className:"header-content",children:[(0,Te.jsx)("h1",{children:"Data Reconciliation Center"}),(0,Te.jsx)("p",{children:"Review and approve AI-extracted loan data from emails"})]}),(0,Te.jsx)("div",{className:"header-stats",children:(0,Te.jsxs)("div",{className:"stat-card",children:[(0,Te.jsx)("div",{className:"stat-value",children:A.length}),(0,Te.jsx)("div",{className:"stat-label",children:"Pending Review"})]})})]}),0===A.length?(0,Te.jsxs)("div",{className:"empty-state",children:[(0,Te.jsx)("div",{className:"empty-icon",children:"\u2713"}),(0,Te.jsx)("h2",{children:"All Caught Up!"}),(0,Te.jsx)("p",{children:"No pending reconciliation items. The AI will notify you when new data arrives."})]}):(0,Te.jsxs)("div",{className:"reconciliation-content",children:[(0,Te.jsx)("div",{className:"items-list",children:A.map(e=>{var t,n,a,A,s;return(0,Te.jsxs)("div",{className:"reconciliation-item ".concat((null===l||void 0===l?void 0:l.id)===e.id?"selected":""),onClick:()=>o(e),children:[(0,Te.jsxs)("div",{className:"item-header",children:[(0,Te.jsx)("div",{className:"item-category",children:(null===(t=e.category)||void 0===t?void 0:t.toUpperCase())||"UNKNOWN"}),(0,Te.jsx)("div",{className:"confidence-badge",style:{backgroundColor:p(e.ai_confidence)},children:(s=e.ai_confidence,s>=.85?"HIGH":s>=.65?"MEDIUM":"LOW")})]}),(0,Te.jsx)("div",{className:"item-subject",children:null===(n=e.email)||void 0===n?void 0:n.subject}),(0,Te.jsxs)("div",{className:"item-meta",children:[(0,Te.jsxs)("span",{className:"meta-sender",children:["From: ",null===(a=e.email)||void 0===a?void 0:a.sender]}),(0,Te.jsx)("span",{className:"meta-date",children:new Date(null===(A=e.email)||void 0===A?void 0:A.received_at).toLocaleDateString()})]}),e.match_entity_type&&(0,Te.jsxs)("div",{className:"item-match",children:["Matched to: ",e.match_entity_type," #",e.match_entity_id," (",Math.round(100*e.match_confidence),"%)"]})]},e.id)})}),l&&(0,Te.jsxs)("div",{className:"detail-panel",children:[(0,Te.jsxs)("div",{className:"panel-header",children:[(0,Te.jsx)("h2",{children:"Review Extracted Data"}),(0,Te.jsx)("button",{className:"close-panel",onClick:()=>{o(null),d({})},children:"\u2715"})]}),(0,Te.jsxs)("div",{className:"email-context",children:[(0,Te.jsx)("h3",{children:"Email Context"}),(0,Te.jsxs)("div",{className:"context-field",children:[(0,Te.jsx)("strong",{children:"Subject:"})," ",null===(e=l.email)||void 0===e?void 0:e.subject]}),(0,Te.jsxs)("div",{className:"context-field",children:[(0,Te.jsx)("strong",{children:"From:"})," ",null===(t=l.email)||void 0===t?void 0:t.sender]}),(0,Te.jsxs)("div",{className:"context-field",children:[(0,Te.jsx)("strong",{children:"Received:"})," ",new Date(null===(n=l.email)||void 0===n?void 0:n.received_at).toLocaleString()]})]}),(0,Te.jsxs)("div",{className:"extracted-fields",children:[(0,Te.jsx)("h3",{children:"Extracted Fields"}),(0,Te.jsx)("div",{className:"fields-grid",children:Object.entries(l.fields||{}).map(e=>{let[t,n]=e;const a=n.confidence||0,A=n.value,s=t in c;s?c[t]:((e,t)=>{if(!t)return"N/A";if(e.includes("date"))try{return new Date(t).toLocaleDateString()}catch(n){return t}"loan_amount"===e||"appraisal_value"===e?"$".concat(parseFloat(t).toLocaleString()):"rate"===e&&"".concat(t,"%")})(t,A);return(0,Te.jsxs)("div",{className:"field-row",children:[(0,Te.jsxs)("div",{className:"field-label",children:[(0,Te.jsx)("span",{children:g(t)}),(0,Te.jsxs)("span",{className:"field-confidence",style:{color:p(a)},children:[Math.round(100*a),"%"]})]}),(0,Te.jsx)("input",{type:"text",className:"field-input ".concat(s?"edited":""),value:s?c[t]:A||"",onChange:e=>((e,t)=>{d(n=>Wt(Wt({},n),{},{[e]:t}))})(t,e.target.value)})]},t)})})]}),Object.keys(c).length>0&&(0,Te.jsxs)("div",{className:"corrections-notice",children:[(0,Te.jsx)("strong",{children:"Note:"})," ",Object.keys(c).length," field(s) edited. The AI will learn from your corrections."]}),(0,Te.jsxs)("div",{className:"action-buttons",children:[(0,Te.jsx)("button",{className:"btn-approve",onClick:()=>(async e=>{try{h(!0);const t=Object.keys(c).length>0?c:null;(await fetch("".concat(js,"/api/v1/reconciliation/approve"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({extracted_data_id:e,corrections:t})})).ok?(s(t=>t.filter(t=>t.id!==e)),o(null),d({})):alert("Failed to approve item")}catch(t){console.error("Error approving item:",t),alert("Error approving item")}finally{h(!1)}})(l.id),disabled:u,children:u?"Processing...":"Approve & Apply"}),(0,Te.jsx)("button",{className:"btn-reject",onClick:()=>{const e=prompt("Reason for rejection (optional):");null!==e&&(async(e,t)=>{try{h(!0),(await fetch("".concat(js,"/api/v1/reconciliation/reject"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({extracted_data_id:e,reason:t})})).ok?(s(t=>t.filter(t=>t.id!==e)),o(null),d({})):alert("Failed to reject item")}catch(n){console.error("Error rejecting item:",n),alert("Error rejecting item")}finally{h(!1)}})(l.id,e)},disabled:u,children:"Reject"})]}),(0,Te.jsxs)("div",{className:"ai-info",children:[(0,Te.jsxs)("div",{className:"info-row",children:[(0,Te.jsx)("strong",{children:"AI Confidence:"}),(0,Te.jsxs)("span",{style:{color:p(l.ai_confidence)},children:[Math.round(100*l.ai_confidence),"%"]})]}),l.match_entity_type&&(0,Te.jsxs)("div",{className:"info-row",children:[(0,Te.jsx)("strong",{children:"Entity Match:"}),(0,Te.jsxs)("span",{children:[l.match_entity_type," #",l.match_entity_id," (",Math.round(100*l.match_confidence),"%)"]})]})]})]})]})]})})};const Cs=function(){const e=$(),[t,n]=(0,a.useState)("integrations"),[A,s]=(0,a.useState)({integrations:!1,organizational:!1,scheduling:!1,onboarding:!1,masterAdmin:!1}),[r,i]=(0,a.useState)(""),[l,o]=(0,a.useState)(new Set),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)([]),[m,p]=(0,a.useState)(!1),[g,f]=(0,a.useState)(""),[x,v]=(0,a.useState)(""),[y,w]=(0,a.useState)([]),[B,j]=(0,a.useState)(!1),[b,C]=(0,a.useState)([]),[N,Q]=(0,a.useState)(null),[F,U]=(0,a.useState)([]),[S,k]=(0,a.useState)(!1),[E,_]=(0,a.useState)(""),[I,H]=(0,a.useState)(null),[T,L]=(0,a.useState)([]),[P,D]=(0,a.useState)(!1),[O,R]=(0,a.useState)(null),[M,K]=(0,a.useState)(null),[G,V]=(0,a.useState)({connected:!1,email_address:null,sync_enabled:!1,last_sync_at:null}),[W,J]=(0,a.useState)(!1),[z,Y]=(0,a.useState)({connected:!1,has_api_key:!1}),[X,q]=(0,a.useState)(!1),[Z,ee]=(0,a.useState)(!1),[te,ne]=(0,a.useState)(""),[ae,Ae]=(0,a.useState)([]),[se,re]=(0,a.useState)([]),[ie,le]=(0,a.useState)(!1),[oe,ce]=(0,a.useState)(""),[de,ue]=(0,a.useState)(!1),[he,me]=(0,a.useState)({configured:!1,phone_number:null,message:""}),[pe,ge]=(0,a.useState)(!1),[fe,xe]=(0,a.useState)(""),[ve,ye]=(0,a.useState)([]);(0,a.useEffect)(()=>{console.log("Settings component mounted"),console.log("showCalendlyModal initial state:",de);const e=new URLSearchParams(window.location.search),t=e.get("email");if("connected"===t)alert("Microsoft Outlook connected successfully!"),Ue(),window.history.replaceState({},document.title,window.location.pathname);else if("error"===t){const t=e.get("message")||"Unknown error";alert("Failed to connect Microsoft Outlook: ".concat(t)),window.history.replaceState({},document.title,window.location.pathname)}},[]);const we=e=>{s(Wt(Wt({},A),{},{[e]:!A[e]}))};(0,a.useEffect)(()=>{"team-members"===t&&(async()=>{le(!0);try{const e=await sA();console.log("Settings page - Team members loaded:",e),Ae(Array.isArray(e)?e:[]),re([])}catch(e){console.error("Error loading team members:",e),Ae([])}finally{le(!1)}})()},[t]);const Be=[{value:"New",label:"New Lead"},{value:"Attempted Contact",label:"Attempted Contact"},{value:"Prospect",label:"Prospect"},{value:"Application Started",label:"Application Started"},{value:"Application Complete",label:"Application Complete"},{value:"Pre-Approved",label:"Pre-Approved"},{value:"Disclosed",label:"Disclosed"},{value:"Processing",label:"Processing"},{value:"UW Received",label:"UW Received"},{value:"Approved",label:"Approved"},{value:"CTC",label:"Clear to Close"},{value:"Funded",label:"Funded"},{value:"Post Closing",label:"Post Closing"},{value:"Suspended",label:"Suspended"}],je=async()=>{p(!0);try{console.log("[Calendly] Fetching event types...");const e=await fetch("".concat(Fe,"/api/v1/calendly/event-types"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(console.log("[Calendly] Response status:",e.status),e.ok){const t=await e.json();console.log("[Calendly] Event types data:",t),d(t.event_types||[]);const n=new Set(l);t.event_types&&t.event_types.length>0?(n.add("calendly"),console.log("[Calendly] \u2713 Connected! Found",t.event_types.length,"event types")):(n.delete("calendly"),console.log("[Calendly] \u2717 No event types found")),o(n)}else{const t=await e.text();console.error("[Calendly] Failed to fetch event types. Status:",e.status,"Error:",t),d([]);const n=new Set(l);n.delete("calendly"),o(n)}}catch(e){console.error("[Calendly] Error fetching event types:",e),d([]);const t=new Set(l);t.delete("calendly"),o(t)}finally{p(!1)}},be=async()=>{try{const e=await fetch("".concat(Fe,"/api/v1/calendly/calendar-mappings"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),t=await e.json();h(t.mappings||[])}catch(e){console.error("Error fetching calendar mappings:",e)}},Ce=async()=>{j(!0);try{const e=await fetch("/api/v1/onboarding/steps",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),t=await e.json();w(t.steps||[]),C(t.steps||[])}catch(e){console.error("Error fetching onboarding steps:",e)}finally{j(!1)}},Ne=(e,t,n)=>{const a=[...b];a[e]=Wt(Wt({},a[e]),{},{[t]:n}),C(a)},Qe=async()=>{k(!0);try{const e=await fetch("".concat("https://mortgage-crm-production-7a9a.up.railway.app","/api/v1/api-keys"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.ok)throw new Error("API returned ".concat(e.status));const t=await e.json();console.log("API Keys response:",t),Array.isArray(t)?U(t):(console.error("API keys response is not an array:",t),U([]))}catch(e){console.error("Error fetching API keys:",e),U([])}finally{k(!1)}},Fe="https://mortgage-crm-production-7a9a.up.railway.app",Ue=("".concat(window.location.origin,"/settings"),async()=>{try{const e=await fetch("".concat(Fe,"/api/v1/microsoft/status"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){const t=await e.json();V(t);const n=new Set(l);t.connected?n.add("outlook"):n.delete("outlook"),o(n)}}catch(e){console.error("Error checking Microsoft status:",e)}}),Se=async()=>{if(window.confirm("Are you sure you want to disconnect Microsoft 365?")){J(!0);try{(await fetch("".concat(Fe,"/api/v1/microsoft/disconnect"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).ok?(alert("Microsoft 365 disconnected successfully"),await Ue()):alert("Failed to disconnect Microsoft 365")}catch(e){console.error("Error disconnecting Microsoft 365:",e),alert("Error disconnecting Microsoft 365")}finally{J(!1)}}},ke=async()=>{try{const e=await gA();Y(e);const t=new Set(l);e.connected?t.add("recallai"):t.delete("recallai"),o(t)}catch(e){console.error("Error checking Recall.ai status:",e)}},Ee=()=>{ee(!0)},_e=async()=>{D(!0),R(null);try{const e=localStorage.getItem("token"),t=await fetch("".concat(Fe,"/api/v1/admin/users"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw new Error("Failed to load users: ".concat(t.status));const n=await t.json();L(Array.isArray(n)?n:[])}catch(e){console.error("Failed to load users:",e),R("Failed to load users. Please try again."),L([])}finally{D(!1)}},Ie=e=>{if(!e)return"N/A";const t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString()},He=async()=>{ge(!0);try{const n=await fetch("".concat(Fe,"/api/v1/integrations/status"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(n.ok){var e;const a=null===(e=(await n.json()).integrations)||void 0===e?void 0:e.find(e=>"Twilio SMS"===e.name);if(a){var t;me({configured:"Active"===a.status,phone_number:(null===(t=a.details)||void 0===t?void 0:t.from_number)||null,message:"Active"===a.status?"Twilio is configured and ready":"Twilio is not configured"});const e=new Set(l);"Active"===a.status?e.add("twilio"):e.delete("twilio"),o(e)}}}catch(n){console.error("Error checking Twilio status:",n),me({configured:!1,phone_number:null,message:"Error checking Twilio status"})}finally{ge(!1)}},Le=(e,t,n)=>{const a={feature:e,status:t,message:n,timestamp:(new Date).toLocaleTimeString()};ye(e=>[a,...e].slice(0,5))},Pe=e=>{if("outlook"===e)return void(G.connected?Se():(async()=>{J(!0);try{const t=localStorage.getItem("token");if(!t)return alert("Your session has expired. Please log out and log back in."),void J(!1);const n=await fetch("".concat(Fe,"/api/v1/microsoft/oauth/start"),{headers:{Authorization:"Bearer ".concat(t)}});if(!n.ok){var e;const t=await n.json();return 401===n.status||null!==(e=t.detail)&&void 0!==e&&e.includes("credentials")?alert("Your session has expired. Please refresh the page or log out and log back in."):alert("Failed to start Microsoft OAuth: ".concat(t.detail)),void J(!1)}const a=(await n.json()).auth_url;console.log("Opening Microsoft login window..."),window.location.href=a}catch(t){console.error("Error starting Microsoft OAuth:",t),alert("Error connecting to Microsoft 365. Please try refreshing the page."),J(!1)}})());const t=new Set(l);t.has(e)?t.delete(e):t.add(e),o(t)},De=[{id:"outlook",name:"Outlook Email",description:"Sync emails and automatically extract lead information with AI",icon:"\ud83d\udce7",color:"#0078d4",category:"Email"},{id:"outlook-calendar",name:"Outlook Calendar",description:"Sync calendar events and schedule appointments",icon:"\ud83d\udcc5",color:"#0078d4",category:"Calendar"},{id:"teams",name:"Microsoft Teams",description:"Send messages, make calls, and collaborate with your team",icon:"\ud83d\udcac",color:"#6264a7",category:"Communication"},{id:"zoom",name:"Zoom",description:"Host virtual meetings and consultations with clients",icon:"\ud83d\udcf9",color:"#2d8cff",category:"Communication"},{id:"calendly",name:"Calendly",description:"Automated scheduling for client meetings",icon:"\ud83d\uddd3\ufe0f",color:"#006bff",category:"Scheduling"},{id:"docusign",name:"DocuSign",description:"Send and sign loan documents electronically",icon:"\ud83d\udcdd",color:"#ffd500",category:"Documents"},{id:"salesforce",name:"Salesforce",description:"Sync contacts and deals with your Salesforce CRM",icon:"\u2601\ufe0f",color:"#00a1e0",category:"CRM"},{id:"hubspot",name:"HubSpot",description:"Marketing automation and lead nurturing",icon:"\ud83c\udfaf",color:"#ff7a59",category:"Marketing"},{id:"mailchimp",name:"Mailchimp",description:"Email marketing campaigns for your clients",icon:"\u2709\ufe0f",color:"#ffe01b",category:"Marketing"},{id:"twilio",name:"Twilio SMS",description:"Send SMS messages to leads and clients",icon:"\ud83d\udcf1",color:"#f22f46",category:"Communication"},{id:"slack",name:"Slack",description:"Get notifications and updates in your Slack workspace",icon:"\ud83d\udcbc",color:"#4a154b",category:"Communication"},{id:"zapier",name:"Zapier",description:"Connect with 5,000+ apps through automated workflows",icon:"\u26a1",color:"#ff4a00",category:"Automation"},{id:"synthflow",name:"Synthflow AI",description:"AI-powered voice agents for automated client calls and lead qualification",icon:"\ud83e\udd16",color:"#6366f1",category:"AI & Automation"},{id:"stripe",name:"Stripe",description:"Collect payments and processing fees",icon:"\ud83d\udcb3",color:"#635bff",category:"Payments"},{id:"quickbooks",name:"QuickBooks",description:"Sync financial data and commission tracking",icon:"\ud83d\udcb0",color:"#2ca01c",category:"Accounting"},{id:"google-calendar",name:"Google Calendar",description:"Sync appointments with Google Calendar",icon:"\ud83d\udcc6",color:"#4285f4",category:"Calendar"},{id:"google-drive",name:"Google Drive",description:"Store and share loan documents in Google Drive",icon:"\ud83d\udcc2",color:"#4285f4",category:"Documents"}].filter(e=>{const t=e.name.toLowerCase().includes(r.toLowerCase())||e.description.toLowerCase().includes(r.toLowerCase())||e.category.toLowerCase().includes(r.toLowerCase()),n=!(e=>{switch(e){case"outlook":case"outlook-calendar":return G.connected;case"calendly":return c.length>0;case"recallai":return z.connected;case"twilio":return he.configured;default:return l.has(e)}})(e.id);return t&&n}),Oe=De.filter(e=>["outlook","outlook-calendar","teams","zoom","docusign","calendly"].includes(e.id));return(0,a.useEffect)(()=>{"integrations"===t&&(Ue(),ke(),je()),"calendar-settings"===t&&(je(),be()),"onboarding-current"===t&&(()=>{try{const e=localStorage.getItem("user");if(e){JSON.parse(e);const t=localStorage.getItem("onboardingProcessTree");t&&Q(JSON.parse(t))}}catch(e){console.error("Error loading process tree:",e)}})(),"onboarding-update"===t&&Ce(),"phone-integration"===t&&He()},[t]),(0,Te.jsxs)("div",{className:"settings-page",children:[(0,Te.jsxs)("div",{className:"settings-header",children:[(0,Te.jsx)("h1",{children:"Settings"}),(0,Te.jsx)("p",{children:"Manage your integrations and preferences"})]}),(0,Te.jsxs)("div",{className:"settings-content",children:[(0,Te.jsxs)("div",{className:"settings-sidebar",children:[(0,Te.jsxs)("button",{className:"sidebar-btn parent ".concat(A.integrations?"expanded":""," ").concat("integrations"===t?"active":""),onClick:()=>{we("integrations"),A.integrations||n("integrations")},children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83d\udd0c"}),(0,Te.jsx)("span",{children:"Integrations"}),(0,Te.jsx)("span",{className:"expand-icon",children:A.integrations?"\u25bc":"\u25b6"})]}),A.integrations&&(0,Te.jsxs)("div",{className:"sidebar-children",children:[(0,Te.jsx)("button",{className:"sidebar-btn child ".concat("integrations"===t?"active":""),onClick:()=>n("integrations"),children:(0,Te.jsx)("span",{children:"\ud83c\udfea Marketplace"})}),G.connected&&(0,Te.jsx)("button",{className:"sidebar-btn child ".concat("integration-outlook"===t?"active":""),onClick:()=>n("integration-outlook"),children:(0,Te.jsx)("span",{children:"\ud83d\udce7 Microsoft Outlook"})}),c.length>0&&(0,Te.jsx)("button",{className:"sidebar-btn child ".concat("integration-calendly"===t?"active":""),onClick:()=>n("integration-calendly"),children:(0,Te.jsx)("span",{children:"\ud83d\uddd3\ufe0f Calendly"})}),z.connected&&(0,Te.jsx)("button",{className:"sidebar-btn child ".concat("integration-recallai"===t?"active":""),onClick:()=>n("integration-recallai"),children:(0,Te.jsx)("span",{children:"\ud83d\udcf9 Recall.ai"})}),he.configured&&(0,Te.jsx)("button",{className:"sidebar-btn child ".concat("integration-twilio"===t?"active":""),onClick:()=>n("integration-twilio"),children:(0,Te.jsx)("span",{children:"\ud83d\udcf1 Twilio"})})]}),(0,Te.jsxs)("button",{className:"sidebar-btn ".concat("phone-integration"===t?"active":""),onClick:()=>n("phone-integration"),children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83d\udcf1"}),(0,Te.jsx)("span",{children:"Phone Integration"})]}),(0,Te.jsxs)("button",{className:"sidebar-btn ".concat("api-keys"===t?"active":""),onClick:()=>{n("api-keys"),Qe()},children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83d\udd11"}),(0,Te.jsx)("span",{children:"API Keys"})]}),(0,Te.jsxs)("button",{className:"sidebar-btn parent ".concat(A.organizational?"expanded":""),onClick:()=>we("organizational"),children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83c\udfe2"}),(0,Te.jsx)("span",{children:"Organizational Settings"}),(0,Te.jsx)("span",{className:"expand-icon",children:A.organizational?"\u25bc":"\u25b6"})]}),A.organizational&&(0,Te.jsxs)("div",{className:"sidebar-children",children:[(0,Te.jsx)("button",{className:"sidebar-btn child ".concat("company-info"===t?"active":""),onClick:()=>n("company-info"),children:(0,Te.jsx)("span",{children:"Company Info"})}),(0,Te.jsx)("button",{className:"sidebar-btn child ".concat("team-members"===t?"active":""),onClick:()=>n("team-members"),children:(0,Te.jsx)("span",{children:"Team Members"})}),(0,Te.jsx)("button",{className:"sidebar-btn child ".concat("branding"===t?"active":""),onClick:()=>n("branding"),children:(0,Te.jsx)("span",{children:"Branding"})})]}),(0,Te.jsxs)("button",{className:"sidebar-btn parent ".concat(A.scheduling?"expanded":""),onClick:()=>we("scheduling"),children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83d\udcc5"}),(0,Te.jsx)("span",{children:"Scheduling Settings"}),(0,Te.jsx)("span",{className:"expand-icon",children:A.scheduling?"\u25bc":"\u25b6"})]}),A.scheduling&&(0,Te.jsxs)("div",{className:"sidebar-children",children:[(0,Te.jsx)("button",{className:"sidebar-btn child ".concat("business-hours"===t?"active":""),onClick:()=>n("business-hours"),children:(0,Te.jsx)("span",{children:"Business Hours"})}),(0,Te.jsx)("button",{className:"sidebar-btn child ".concat("appointment-types"===t?"active":""),onClick:()=>n("appointment-types"),children:(0,Te.jsx)("span",{children:"Appointment Types"})}),(0,Te.jsx)("button",{className:"sidebar-btn child ".concat("calendar-settings"===t?"active":""),onClick:()=>n("calendar-settings"),children:(0,Te.jsx)("span",{children:"Calendar Settings"})}),(0,Te.jsx)("button",{className:"sidebar-btn child ".concat("availability"===t?"active":""),onClick:()=>n("availability"),children:(0,Te.jsx)("span",{children:"Availability"})})]}),(0,Te.jsxs)("button",{className:"sidebar-btn ".concat("profile"===t?"active":""),onClick:()=>n("profile"),children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83d\udc64"}),(0,Te.jsx)("span",{children:"Profile"})]}),(0,Te.jsxs)("button",{className:"sidebar-btn ".concat("notifications"===t?"active":""),onClick:()=>n("notifications"),children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83d\udd14"}),(0,Te.jsx)("span",{children:"Notifications"})]}),(0,Te.jsxs)("button",{className:"sidebar-btn parent ".concat(A.onboarding?"expanded":""),onClick:()=>we("onboarding"),children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83d\ude80"}),(0,Te.jsx)("span",{children:"Onboarding"}),(0,Te.jsx)("span",{className:"expand-icon",children:A.onboarding?"\u25bc":"\u25b6"})]}),A.onboarding&&(0,Te.jsxs)("div",{className:"sidebar-children",children:[(0,Te.jsx)("button",{className:"sidebar-btn child ".concat("onboarding-current"===t?"active":""),onClick:()=>n("onboarding-current"),children:(0,Te.jsx)("span",{children:"Current Process"})}),(0,Te.jsx)("button",{className:"sidebar-btn child ".concat("onboarding-update"===t?"active":""),onClick:()=>n("onboarding-update"),children:(0,Te.jsx)("span",{children:"Update Process"})})]}),(0,Te.jsxs)("button",{className:"sidebar-btn ".concat("data-management"===t?"active":""),onClick:()=>e("/data-upload"),children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83d\udcca"}),(0,Te.jsx)("span",{children:"Data Management"})]}),(0,Te.jsxs)("button",{className:"sidebar-btn parent ".concat(A.masterAdmin?"expanded":""),onClick:()=>we("masterAdmin"),children:[(0,Te.jsx)("span",{className:"icon",children:"\ud83d\udc51"}),(0,Te.jsx)("span",{children:"Master Administrator"}),(0,Te.jsx)("span",{className:"expand-icon",children:A.masterAdmin?"\u25bc":"\u25b6"})]}),A.masterAdmin&&(0,Te.jsx)("div",{className:"sidebar-children",children:(0,Te.jsx)("button",{className:"sidebar-btn child ".concat("user-management"===t?"active":""),onClick:()=>{n("user-management"),_e()},children:(0,Te.jsx)("span",{children:"User Management"})})})]}),(0,Te.jsxs)("div",{className:"settings-main",children:["integrations"===t&&(0,Te.jsxs)("div",{className:"integrations-marketplace",children:[(0,Te.jsxs)("div",{className:"marketplace-header",children:[(0,Te.jsxs)("div",{className:"header-text",children:[(0,Te.jsx)("h2",{children:"Integrations & Apps"}),(0,Te.jsxs)("p",{className:"section-description",children:["Available to Connect (",De.length,") | Connected (",(G.connected?1:0)+(c.length>0?1:0)+(z.connected?1:0)+(he.configured?1:0),")"]})]}),(0,Te.jsx)("div",{className:"search-box",children:(0,Te.jsx)("input",{type:"text",placeholder:"Find integrations, apps, and more",value:r,onChange:e=>i(e.target.value),className:"integration-search"})})]}),G.connected&&(0,Te.jsxs)("div",{className:"microsoft-status-panel",children:[(0,Te.jsxs)("div",{className:"status-header",children:[(0,Te.jsx)("div",{className:"status-icon",style:{background:"#0078d4"},children:"\ud83d\udce7"}),(0,Te.jsxs)("div",{className:"status-info",children:[(0,Te.jsx)("h3",{children:"Microsoft 365 Connected"}),(0,Te.jsx)("p",{children:G.email_address})]}),(0,Te.jsxs)("div",{className:"status-actions",children:[(0,Te.jsx)("button",{className:"btn-sync",onClick:e=>{e.stopPropagation(),(async()=>{J(!0);try{const e=await fetch("".concat(Fe,"/api/v1/microsoft/sync-now"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){const t=await e.json();alert("Synced ".concat(t.processed_count,"/").concat(t.fetched_count," emails successfully!")),await Ue()}else{const t=await e.json();alert("Failed to sync emails: ".concat(t.detail))}}catch(e){console.error("Error syncing emails:",e),alert("Error syncing emails")}finally{J(!1)}})()},disabled:W,children:W?"Syncing...":"\ud83d\udd04 Sync Now"}),(0,Te.jsx)("button",{className:"btn-disconnect",onClick:e=>{e.stopPropagation(),Se()},disabled:W,children:"Disconnect"})]})]}),G.last_sync_at&&(0,Te.jsxs)("div",{className:"status-meta",children:["Last synced: ",new Date(G.last_sync_at).toLocaleString()]})]}),z.connected&&(0,Te.jsxs)("div",{className:"microsoft-status-panel",children:[(0,Te.jsxs)("div",{className:"status-header",children:[(0,Te.jsx)("div",{className:"status-icon",style:{background:"#8b5cf6"},children:"\ud83d\udcf9"}),(0,Te.jsxs)("div",{className:"status-info",children:[(0,Te.jsx)("h3",{children:"Recall.ai Connected"}),(0,Te.jsx)("p",{children:"Meeting recording bot active"})]}),(0,Te.jsx)("div",{className:"status-actions",children:(0,Te.jsx)("button",{className:"btn-primary",onClick:e=>{e.stopPropagation(),Ee()},children:"Update API Key"})})]}),(0,Te.jsx)("div",{className:"status-meta",children:"Transcripts automatically saved to Conversation Log"})]}),!z.connected&&!r&&(0,Te.jsxs)("div",{className:"integration-cta-banner",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"},children:[(0,Te.jsxs)("div",{className:"cta-content",children:[(0,Te.jsx)("div",{className:"cta-icon",children:"\ud83d\udcf9"}),(0,Te.jsxs)("div",{className:"cta-text",children:[(0,Te.jsx)("h3",{children:"Automatic Meeting Recording & Transcription"}),(0,Te.jsx)("p",{children:"Connect Recall.ai to automatically record meetings and get AI-generated transcripts in your Conversation Log"}),(0,Te.jsxs)("ul",{className:"cta-features",children:[(0,Te.jsx)("li",{children:"\u2713 Works with Zoom, Teams, Google Meet"}),(0,Te.jsx)("li",{children:"\u2713 AI transcription with speaker identification"}),(0,Te.jsx)("li",{children:"\u2713 Auto-saved to lead profiles"})]})]})]}),(0,Te.jsx)("button",{className:"btn-cta",onClick:Ee,children:"Connect Recall.ai"})]}),Oe.length>0&&!r&&(0,Te.jsxs)("div",{className:"featured-section",children:[(0,Te.jsx)("h3",{children:"Featured"}),(0,Te.jsx)("div",{className:"featured-grid",children:Oe.slice(0,2).map(e=>(0,Te.jsxs)("div",{className:"featured-card",onClick:()=>Pe(e.id),children:[(0,Te.jsx)("div",{className:"featured-icon",style:{background:e.color},children:(0,Te.jsx)("span",{children:e.icon})}),(0,Te.jsxs)("div",{className:"featured-info",children:[(0,Te.jsx)("h4",{children:e.name}),(0,Te.jsx)("p",{children:e.description}),(0,Te.jsx)("span",{className:"status-badge ".concat(l.has(e.id)?"connected":""),children:l.has(e.id)?"Connected":"Connect"})]})]},e.id))})]}),(0,Te.jsxs)("div",{className:"all-integrations-section",children:[(0,Te.jsx)("div",{className:"integrations-grid",children:De.map(e=>(0,Te.jsxs)("div",{className:"integration-grid-card",onClick:()=>Pe(e.id),children:[(0,Te.jsx)("div",{className:"card-icon",style:{background:e.color},children:e.icon}),(0,Te.jsxs)("div",{className:"card-content",children:[(0,Te.jsxs)("div",{className:"card-header",children:[(0,Te.jsx)("h4",{children:e.name}),l.has(e.id)&&(0,Te.jsx)("span",{className:"connected-badge",children:"Connected"})]}),(0,Te.jsx)("p",{className:"card-description",children:e.description})]})]},e.id))}),0===De.length&&(0,Te.jsx)("div",{className:"no-results",children:(0,Te.jsxs)("p",{children:['No integrations found matching "',r,'"']})})]})]}),"integration-outlook"===t&&(0,Te.jsxs)("div",{className:"integration-detail-page",children:[(0,Te.jsxs)("div",{className:"detail-header",children:[(0,Te.jsx)("button",{className:"btn-back",onClick:()=>n("integrations"),children:"\u2190 Back to Integrations"}),(0,Te.jsxs)("div",{className:"header-title",children:[(0,Te.jsx)("h2",{children:"\ud83d\udce7 Microsoft Outlook Integration"}),(0,Te.jsx)("span",{className:"status-badge connected",children:"Connected"})]})]}),(0,Te.jsx)("div",{className:"detail-content",children:G.connected&&(0,Te.jsxs)("div",{className:"microsoft-status-panel",children:[(0,Te.jsxs)("div",{className:"status-header",children:[(0,Te.jsx)("div",{className:"status-icon",children:"\u2705"}),(0,Te.jsxs)("div",{className:"status-info",children:[(0,Te.jsx)("h3",{children:"Connected to Microsoft 365"}),(0,Te.jsx)("p",{children:G.email_address})]}),(0,Te.jsx)("div",{className:"status-actions",children:(0,Te.jsx)("button",{className:"btn-secondary",onClick:()=>window.location.href="".concat(window.location.origin.includes("localhost")?"http://localhost:8000":"https://mortgage-crm-production-7a9a.up.railway.app","/auth/microsoft/disconnect"),children:"Disconnect"})})]}),(0,Te.jsxs)("div",{className:"status-details",children:[(0,Te.jsxs)("div",{className:"detail-item",children:[(0,Te.jsx)("span",{className:"label",children:"Email Sync:"}),(0,Te.jsx)("span",{className:"value",children:G.sync_enabled?"\u2705 Enabled":"\u26a0\ufe0f Disabled"})]}),(0,Te.jsxs)("div",{className:"detail-item",children:[(0,Te.jsx)("span",{className:"label",children:"Last Sync:"}),(0,Te.jsx)("span",{className:"value",children:G.last_sync_at?new Date(G.last_sync_at).toLocaleString():"Never"})]})]}),(0,Te.jsxs)("div",{className:"features-list",children:[(0,Te.jsx)("h4",{children:"Available Features:"}),(0,Te.jsxs)("ul",{children:[(0,Te.jsx)("li",{children:"\u2705 Send emails directly from lead profiles"}),(0,Te.jsx)("li",{children:"\u2705 Auto-sync email history to conversation log"}),(0,Te.jsx)("li",{children:"\u2705 Create calendar events"}),(0,Te.jsx)("li",{children:"\u2705 Teams meeting integration"})]})]})]})})]}),"integration-calendly"===t&&(0,Te.jsxs)("div",{className:"integration-detail-page",children:[(0,Te.jsxs)("div",{className:"detail-header",children:[(0,Te.jsx)("button",{className:"btn-back",onClick:()=>n("integrations"),children:"\u2190 Back to Integrations"}),(0,Te.jsxs)("div",{className:"header-title",children:[(0,Te.jsx)("h2",{children:"\ud83d\uddd3\ufe0f Calendly Integration"}),(0,Te.jsx)("span",{className:"status-badge connected",children:"Connected"})]})]}),(0,Te.jsx)("div",{className:"detail-content",children:(0,Te.jsxs)("div",{className:"calendly-status-panel",children:[(0,Te.jsxs)("div",{className:"status-header",children:[(0,Te.jsx)("div",{className:"status-icon",children:"\u2705"}),(0,Te.jsxs)("div",{className:"status-info",children:[(0,Te.jsx)("h3",{children:"Calendly Connected"}),(0,Te.jsxs)("p",{children:[c.length," event type",1!==c.length?"s":""," available"]})]}),(0,Te.jsx)("div",{className:"status-actions",children:(0,Te.jsx)("button",{className:"btn-primary",onClick:()=>n("calendar-settings"),children:"Manage Mappings"})})]}),(0,Te.jsxs)("div",{className:"event-types-list",children:[(0,Te.jsx)("h4",{children:"Available Event Types:"}),(0,Te.jsx)("div",{className:"event-types-grid",children:c.map((e,t)=>(0,Te.jsxs)("div",{className:"event-type-card",children:[(0,Te.jsx)("h5",{children:e.name}),(0,Te.jsxs)("p",{children:[e.duration," minutes"]})]},t))})]}),(0,Te.jsxs)("div",{className:"calendar-mappings-preview",children:[(0,Te.jsx)("h4",{children:"Calendar Mappings:"}),u.length>0?(0,Te.jsx)("div",{className:"mappings-list",children:u.map((e,t)=>(0,Te.jsxs)("div",{className:"mapping-item",children:[(0,Te.jsx)("span",{className:"stage",children:e.stage_name}),(0,Te.jsx)("span",{className:"arrow",children:"\u2192"}),(0,Te.jsx)("span",{className:"event-type",children:e.event_type_name})]},t))}):(0,Te.jsx)("p",{className:"no-mappings",children:"No calendar mappings configured yet."})]}),(0,Te.jsxs)("div",{className:"features-list",children:[(0,Te.jsx)("h4",{children:"Available Features:"}),(0,Te.jsxs)("ul",{children:[(0,Te.jsx)("li",{children:"\u2705 Auto-schedule appointments from lead profiles"}),(0,Te.jsx)("li",{children:"\u2705 Map lead stages to Calendly event types"}),(0,Te.jsx)("li",{children:"\u2705 Send calendar invites automatically"}),(0,Te.jsx)("li",{children:"\u2705 Sync appointments to CRM calendar"})]})]})]})})]}),"integration-recallai"===t&&(0,Te.jsxs)("div",{className:"integration-detail-page",children:[(0,Te.jsxs)("div",{className:"detail-header",children:[(0,Te.jsx)("button",{className:"btn-back",onClick:()=>n("integrations"),children:"\u2190 Back to Integrations"}),(0,Te.jsxs)("div",{className:"header-title",children:[(0,Te.jsx)("h2",{children:"\ud83d\udcf9 Recall.ai Integration"}),(0,Te.jsx)("span",{className:"status-badge connected",children:"Connected"})]})]}),(0,Te.jsx)("div",{className:"detail-content",children:(0,Te.jsxs)("div",{className:"recallai-status-panel",children:[(0,Te.jsxs)("div",{className:"status-header",children:[(0,Te.jsx)("div",{className:"status-icon",style:{background:"#8b5cf6"},children:"\u2705"}),(0,Te.jsxs)("div",{className:"status-info",children:[(0,Te.jsx)("h3",{children:"Recall.ai Connected"}),(0,Te.jsx)("p",{children:"Meeting recording bot active"})]}),(0,Te.jsx)("div",{className:"status-actions",children:(0,Te.jsx)("button",{className:"btn-primary",onClick:()=>ee(!0),children:"Update API Key"})})]}),(0,Te.jsx)("div",{className:"status-meta",children:"Transcripts automatically saved to Conversation Log"}),(0,Te.jsxs)("div",{className:"how-it-works",children:[(0,Te.jsx)("h4",{children:"How It Works:"}),(0,Te.jsxs)("ol",{children:[(0,Te.jsx)("li",{children:"Open any lead profile"}),(0,Te.jsx)("li",{children:'Click the "Start Recording" button in Quick Actions'}),(0,Te.jsx)("li",{children:"Paste the meeting URL (Zoom, Teams, or Google Meet)"}),(0,Te.jsx)("li",{children:"The Recall.ai bot joins the meeting and records it"}),(0,Te.jsx)("li",{children:"After the meeting ends, the transcript is automatically saved to the lead's Conversation Log"})]})]}),(0,Te.jsxs)("div",{className:"features-list",children:[(0,Te.jsx)("h4",{children:"Available Features:"}),(0,Te.jsxs)("ul",{children:[(0,Te.jsx)("li",{children:"\u2705 Works with Zoom, Teams, and Google Meet"}),(0,Te.jsx)("li",{children:"\u2705 Real-time AI transcription"}),(0,Te.jsx)("li",{children:"\u2705 Speaker identification"}),(0,Te.jsx)("li",{children:"\u2705 Auto-saves to Conversation Log"}),(0,Te.jsx)("li",{children:"\u2705 Meeting duration tracking"}),(0,Te.jsx)("li",{children:"\u2705 Participant list"})]})]}),(0,Te.jsxs)("div",{className:"supported-platforms",children:[(0,Te.jsx)("h4",{children:"Supported Platforms:"}),(0,Te.jsxs)("div",{className:"platforms-grid",children:[(0,Te.jsxs)("div",{className:"platform-card",children:[(0,Te.jsx)("span",{className:"platform-icon",children:"\ud83d\udcbc"}),(0,Te.jsx)("span",{className:"platform-name",children:"Zoom"})]}),(0,Te.jsxs)("div",{className:"platform-card",children:[(0,Te.jsx)("span",{className:"platform-icon",children:"\ud83d\udc65"}),(0,Te.jsx)("span",{className:"platform-name",children:"Microsoft Teams"})]}),(0,Te.jsxs)("div",{className:"platform-card",children:[(0,Te.jsx)("span",{className:"platform-icon",children:"\ud83d\udcf9"}),(0,Te.jsx)("span",{className:"platform-name",children:"Google Meet"})]})]})]})]})})]}),"integration-twilio"===t&&(0,Te.jsxs)("div",{className:"integration-detail-page",children:[(0,Te.jsxs)("div",{className:"detail-header",children:[(0,Te.jsx)("button",{className:"btn-back",onClick:()=>n("integrations"),children:"\u2190 Back to Integrations"}),(0,Te.jsxs)("div",{className:"header-title",children:[(0,Te.jsx)("h2",{children:"\ud83d\udcf1 Twilio Integration"}),(0,Te.jsx)("span",{className:"status-badge connected",children:"Connected"})]})]}),(0,Te.jsx)("div",{className:"detail-content",children:(0,Te.jsxs)("div",{className:"twilio-status-panel",children:[(0,Te.jsxs)("div",{className:"status-header",children:[(0,Te.jsx)("div",{className:"status-icon",children:"\u2705"}),(0,Te.jsxs)("div",{className:"status-info",children:[(0,Te.jsx)("h3",{children:"Twilio Connected"}),(0,Te.jsx)("p",{children:he.phone_number||"SMS & Calling enabled"})]}),(0,Te.jsx)("div",{className:"status-actions",children:(0,Te.jsx)("button",{className:"btn-primary",onClick:()=>n("phone-integration"),children:"Manage Settings"})})]}),(0,Te.jsxs)("div",{className:"features-list",children:[(0,Te.jsx)("h4",{children:"Available Features:"}),(0,Te.jsxs)("ul",{children:[(0,Te.jsx)("li",{children:"\u2705 Send SMS directly from lead profiles"}),(0,Te.jsx)("li",{children:"\u2705 Click-to-call integration"}),(0,Te.jsx)("li",{children:"\u2705 SMS conversation history"}),(0,Te.jsx)("li",{children:"\u2705 Auto-log calls and texts"}),(0,Te.jsx)("li",{children:"\u2705 Bulk SMS campaigns"})]})]}),(0,Te.jsxs)("div",{className:"quick-actions",children:[(0,Te.jsx)("h4",{children:"Quick Actions:"}),(0,Te.jsxs)("div",{className:"actions-grid",children:[(0,Te.jsxs)("button",{className:"action-card",onClick:()=>n("phone-integration"),children:[(0,Te.jsx)("span",{className:"action-icon",children:"\u2699\ufe0f"}),(0,Te.jsx)("span",{className:"action-label",children:"Configure Phone Number"})]}),(0,Te.jsxs)("button",{className:"action-card",onClick:()=>n("phone-integration"),children:[(0,Te.jsx)("span",{className:"action-icon",children:"\ud83e\uddea"}),(0,Te.jsx)("span",{className:"action-label",children:"Test Integration"})]})]})]})]})})]}),"phone-integration"===t&&(0,Te.jsxs)("div",{className:"phone-integration-section",children:[(0,Te.jsx)("h2",{children:"Phone Integration"}),(0,Te.jsx)("p",{className:"section-description",children:"Manage phone, SMS, and calling features for your CRM"}),(0,Te.jsxs)("div",{className:"phone-status-card",children:[(0,Te.jsxs)("div",{className:"card-header",children:[(0,Te.jsx)("h3",{children:"Integration Status"}),(0,Te.jsx)("button",{className:"btn-refresh",onClick:He,disabled:pe,children:pe?"Checking...":"\ud83d\udd04 Refresh"})]}),(0,Te.jsxs)("div",{className:"status-grid",children:[(0,Te.jsxs)("div",{className:"status-item",children:[(0,Te.jsx)("div",{className:"status-icon",style:{background:"#10b981"},children:"\ud83d\udcde"}),(0,Te.jsxs)("div",{className:"status-info",children:[(0,Te.jsx)("h4",{children:"Click-to-Call"}),(0,Te.jsx)("p",{children:"Native phone integration"}),(0,Te.jsx)("span",{className:"status-badge connected",children:"\u2713 Active"})]})]}),(0,Te.jsxs)("div",{className:"status-item",children:[(0,Te.jsx)("div",{className:"status-icon",style:{background:"#3b82f6"},children:"\ud83d\udcac"}),(0,Te.jsxs)("div",{className:"status-info",children:[(0,Te.jsx)("h4",{children:"SMS/Text"}),(0,Te.jsx)("p",{children:"Native messaging integration"}),(0,Te.jsx)("span",{className:"status-badge connected",children:"\u2713 Active"})]})]}),(0,Te.jsxs)("div",{className:"status-item",children:[(0,Te.jsx)("div",{className:"status-icon",style:{background:he.configured?"#f22f46":"#6b7280"},children:"\ud83d\udcf1"}),(0,Te.jsxs)("div",{className:"status-info",children:[(0,Te.jsx)("h4",{children:"Twilio SMS API"}),(0,Te.jsx)("p",{children:he.message||"Advanced SMS features"}),(0,Te.jsx)("span",{className:"status-badge ".concat(he.configured?"connected":"disconnected"),children:he.configured?"\u2713 Active":"Not Configured"}),he.configured&&he.phone_number&&(0,Te.jsxs)("p",{className:"status-detail",children:["From: ",he.phone_number]})]})]})]})]}),(0,Te.jsxs)("div",{className:"phone-test-card",children:[(0,Te.jsx)("h3",{children:"Test Phone Features"}),(0,Te.jsx)("p",{className:"section-description",children:"Test your phone integration to make sure everything is working"}),(0,Te.jsxs)("div",{className:"test-form",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Test Phone Number"}),(0,Te.jsx)("input",{type:"tel",className:"form-input",placeholder:"Enter phone number (e.g., 555-123-4567)",value:fe,onChange:e=>xe(e.target.value)})]}),(0,Te.jsxs)("div",{className:"test-actions",children:[(0,Te.jsx)("button",{className:"btn-test call",onClick:()=>{if(fe)try{const e=fe.replace(/[^0-9+]/g,"");window.open("tel:".concat(e),"_self"),Le("Click-to-Call","success","Dialer opened for ".concat(fe))}catch(e){Le("Click-to-Call","error","Failed: ".concat(e.message))}else Le("Click-to-Call","error","Please enter a phone number")},disabled:!fe,children:"\ud83d\udcde Test Click-to-Call"}),(0,Te.jsx)("button",{className:"btn-test sms",onClick:()=>{if(fe)try{const e=fe.replace(/[^0-9+]/g,"");window.open("sms:".concat(e),"_blank"),Le("SMS","success","Messaging app opened for ".concat(fe))}catch(e){Le("SMS","error","Failed: ".concat(e.message))}else Le("SMS","error","Please enter a phone number")},disabled:!fe,children:"\ud83d\udcac Test SMS"})]})]}),ve.length>0&&(0,Te.jsxs)("div",{className:"test-results",children:[(0,Te.jsx)("h4",{children:"Recent Tests"}),(0,Te.jsx)("div",{className:"results-list",children:ve.map((e,t)=>(0,Te.jsxs)("div",{className:"result-item ".concat(e.status),children:[(0,Te.jsx)("span",{className:"result-icon",children:"success"===e.status?"\u2705":"\u274c"}),(0,Te.jsxs)("div",{className:"result-content",children:[(0,Te.jsx)("div",{className:"result-feature",children:e.feature}),(0,Te.jsx)("div",{className:"result-message",children:e.message})]}),(0,Te.jsx)("div",{className:"result-time",children:e.timestamp})]},t))})]})]}),(0,Te.jsxs)("div",{className:"info-card",children:[(0,Te.jsx)("div",{className:"info-icon",children:"\ud83d\udca1"}),(0,Te.jsxs)("div",{className:"info-content",children:[(0,Te.jsx)("h3",{children:"How Phone Integration Works"}),(0,Te.jsx)("p",{children:(0,Te.jsx)("strong",{children:"Native Features (Always Active):"})}),(0,Te.jsxs)("ul",{children:[(0,Te.jsxs)("li",{children:[(0,Te.jsx)("strong",{children:"Click-to-Call:"})," Click any phone number in the CRM to open your phone dialer"]}),(0,Te.jsxs)("li",{children:[(0,Te.jsx)("strong",{children:"SMS/Text:"})," Click the \ud83d\udcac button to open your messaging app"]}),(0,Te.jsx)("li",{children:"Works with any carrier (Verizon, AT&T, T-Mobile, etc.)"}),(0,Te.jsx)("li",{children:"No configuration required - works immediately!"})]}),(0,Te.jsx)("p",{children:(0,Te.jsx)("strong",{children:"Twilio SMS API (Optional):"})}),(0,Te.jsxs)("ul",{children:[(0,Te.jsx)("li",{children:"Send SMS directly from CRM without using your phone"}),(0,Te.jsx)("li",{children:"Bulk SMS campaigns to multiple leads"}),(0,Te.jsx)("li",{children:"SMS templates and automation"}),(0,Te.jsx)("li",{children:"Track delivery status and history"}),(0,Te.jsx)("li",{children:"Requires backend configuration (see setup guide)"})]})]})]}),(0,Te.jsxs)("div",{className:"quick-links-card",children:[(0,Te.jsx)("h3",{children:"Quick Links"}),(0,Te.jsxs)("div",{className:"links-grid",children:[(0,Te.jsxs)("a",{href:"/verizon-test",className:"link-item",onClick:t=>{t.preventDefault(),e("/verizon-test")},children:[(0,Te.jsx)("div",{className:"link-icon",children:"\ud83e\uddea"}),(0,Te.jsxs)("div",{className:"link-info",children:[(0,Te.jsx)("h4",{children:"Full Test Page"}),(0,Te.jsx)("p",{children:"Comprehensive testing interface"})]})]}),(0,Te.jsxs)("a",{href:"https://docs.claude.com",className:"link-item",target:"_blank",rel:"noopener noreferrer",children:[(0,Te.jsx)("div",{className:"link-icon",children:"\ud83d\udcda"}),(0,Te.jsxs)("div",{className:"link-info",children:[(0,Te.jsx)("h4",{children:"Setup Guide"}),(0,Te.jsx)("p",{children:"Step-by-step instructions"})]})]}),he.configured&&(0,Te.jsxs)("a",{href:"https://console.twilio.com",className:"link-item",target:"_blank",rel:"noopener noreferrer",children:[(0,Te.jsx)("div",{className:"link-icon",children:"\ud83d\uddc4\ufe0f"}),(0,Te.jsxs)("div",{className:"link-info",children:[(0,Te.jsx)("h4",{children:"Twilio Console"}),(0,Te.jsx)("p",{children:"Manage your Twilio account"})]})]})]})]}),!he.configured&&(0,Te.jsxs)("div",{className:"setup-card",children:[(0,Te.jsx)("h3",{children:"Want Advanced SMS Features?"}),(0,Te.jsx)("p",{children:"To enable Twilio SMS API, add these environment variables to your Railway backend:"}),(0,Te.jsx)("div",{className:"code-block",children:(0,Te.jsxs)("code",{children:["TWILIO_ACCOUNT_SID=your_account_sid",(0,Te.jsx)("br",{}),"TWILIO_AUTH_TOKEN=your_auth_token",(0,Te.jsx)("br",{}),"TWILIO_PHONE_NUMBER=+15551234567"]})}),(0,Te.jsxs)("p",{className:"help-text",children:["See ",(0,Te.jsx)("strong",{children:"BACKEND_ENVIRONMENT_SETUP.md"})," for detailed instructions."]})]})]}),"api-keys"===t&&(0,Te.jsxs)("div",{className:"api-keys-section",children:[(0,Te.jsx)("h2",{children:"API Keys"}),(0,Te.jsx)("p",{className:"section-description",children:"Generate and manage API keys for integrations like Zapier"}),(0,Te.jsxs)("div",{className:"api-key-create-card",children:[(0,Te.jsx)("h3",{children:"Create New API Key"}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("input",{type:"text",placeholder:"Enter API key name (e.g., 'Zapier Integration')",value:E,onChange:e=>_(e.target.value),className:"input-field"}),(0,Te.jsx)("button",{onClick:async()=>{if(E.trim())try{const e=await fetch("".concat("https://mortgage-crm-production-7a9a.up.railway.app","/api/v1/api-keys"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({name:E})});if(console.log("Create API key response status:",e.status),e.ok){const t=await e.json();console.log("API key created:",t),H(t.key),_(""),Qe(),alert("API key created successfully! Make sure to copy it now - you won't be able to see it again.")}else{const t=await e.json().catch(()=>({detail:"Unknown error"}));console.error("Failed to create API key:",e.status,t),alert("Failed to create API key: ".concat(t.detail||t.message||"Unknown error"))}}catch(e){console.error("Error creating API key:",e),alert("Error creating API key: ".concat(e.message))}else alert("Please enter a name for the API key")},className:"btn-create-key",disabled:!E.trim(),children:"Generate API Key"})]}),I&&(0,Te.jsxs)("div",{className:"key-created-alert",children:[(0,Te.jsx)("h4",{children:"\ud83c\udf89 API Key Created Successfully!"}),(0,Te.jsx)("p",{children:"Copy this key now - you won't be able to see it again:"}),(0,Te.jsxs)("div",{className:"key-display",children:[(0,Te.jsx)("code",{children:I}),(0,Te.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(I),alert("API key copied to clipboard!")},className:"btn-copy",children:"Copy"})]}),(0,Te.jsx)("button",{onClick:()=>H(null),className:"btn-dismiss",children:"I've saved it"})]})]}),(0,Te.jsxs)("div",{className:"api-keys-list-card",children:[(0,Te.jsx)("h3",{children:"Your API Keys"}),S?(0,Te.jsx)("p",{children:"Loading API keys..."}):0===F.length?(0,Te.jsxs)("div",{className:"empty-state",children:[(0,Te.jsx)("div",{className:"empty-icon",children:"\ud83d\udd11"}),(0,Te.jsx)("p",{children:"No API keys yet."}),(0,Te.jsx)("p",{className:"empty-hint",children:"Create your first API key above to get started with integrations."})]}):(0,Te.jsx)("div",{className:"api-keys-table",children:(0,Te.jsxs)("table",{children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{children:"Name"}),(0,Te.jsx)("th",{children:"Key"}),(0,Te.jsx)("th",{children:"Created"}),(0,Te.jsx)("th",{children:"Last Used"}),(0,Te.jsx)("th",{children:"Status"}),(0,Te.jsx)("th",{children:"Actions"})]})}),(0,Te.jsx)("tbody",{children:F.map(e=>(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{children:(0,Te.jsx)("strong",{children:e.name})}),(0,Te.jsx)("td",{children:(0,Te.jsx)("code",{children:"sk_\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})}),(0,Te.jsx)("td",{children:new Date(e.created_at).toLocaleDateString()}),(0,Te.jsx)("td",{children:e.last_used_at?new Date(e.last_used_at).toLocaleDateString():"Never"}),(0,Te.jsx)("td",{children:(0,Te.jsx)("span",{className:"status-badge ".concat(e.is_active?"active":"inactive"),children:e.is_active?"\u2713 Active":"\u2717 Revoked"})}),(0,Te.jsx)("td",{children:e.is_active&&(0,Te.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm('Are you sure you want to revoke the API key "'.concat(t,'"? This cannot be undone.')))try{(await fetch("".concat("https://mortgage-crm-production-7a9a.up.railway.app","/api/v1/api-keys/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).ok?(alert("API key revoked successfully"),Qe()):alert("Failed to revoke API key")}catch(n){console.error("Error revoking API key:",n),alert("Error revoking API key")}})(e.id,e.name),className:"btn-revoke",children:"Revoke"})})]},e.id))})]})})]}),(0,Te.jsxs)("div",{className:"help-card",children:[(0,Te.jsx)("h4",{children:"How to use API Keys"}),(0,Te.jsxs)("ol",{children:[(0,Te.jsx)("li",{children:'Generate an API key by entering a name and clicking "Generate API Key"'}),(0,Te.jsx)("li",{children:"Copy the API key immediately - it will only be shown once"}),(0,Te.jsxs)("li",{children:["Use the API key in your integrations (e.g., Zapier) by adding it to the Authorization header:",(0,Te.jsx)("br",{}),(0,Te.jsx)("code",{children:"Authorization: Bearer sk_your_api_key_here"})]}),(0,Te.jsx)("li",{children:"The API key will work exactly like your login token for all API requests"}),(0,Te.jsx)("li",{children:"Revoke an API key anytime if you suspect it's been compromised"})]})]})]}),"profile"===t&&(0,Te.jsxs)("div",{className:"profile-section",children:[(0,Te.jsx)("h2",{children:"Profile Settings"}),(0,Te.jsx)("p",{children:"Coming soon..."})]}),"notifications"===t&&(0,Te.jsxs)("div",{className:"notifications-section",children:[(0,Te.jsx)("h2",{children:"Notification Preferences"}),(0,Te.jsx)("p",{children:"Coming soon..."})]}),"onboarding-current"===t&&(0,Te.jsxs)("div",{className:"onboarding-current-section",children:[(0,Te.jsx)("h2",{children:"Current Process Tree"}),(0,Te.jsx)("p",{className:"section-description",children:"Visual representation of your loan process milestones and tasks"}),N?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"info-card",style:{marginBottom:"24px"},children:[(0,Te.jsx)("div",{className:"info-icon",children:"\ud83e\udd16"}),(0,Te.jsxs)("div",{className:"info-content",children:[(0,Te.jsx)("h3",{children:"Process Overview"}),(0,Te.jsxs)("p",{children:["Your process tree contains ",(0,Te.jsx)("strong",{children:N.milestones})," milestones with ",(0,Te.jsx)("strong",{children:N.tasks})," total tasks across ",(0,Te.jsx)("strong",{children:N.roles})," roles."]}),(0,Te.jsx)("p",{children:"This was generated from your uploaded process documents and defines your loan workflow."})]})]}),(0,Te.jsx)("div",{className:"process-tree-visual",children:N.milestonesData&&N.milestonesData.map((e,t)=>(0,Te.jsxs)("div",{className:"milestone-card",children:[(0,Te.jsxs)("div",{className:"milestone-header",children:[(0,Te.jsx)("div",{className:"milestone-number",children:t+1}),(0,Te.jsxs)("div",{className:"milestone-info",children:[(0,Te.jsx)("h3",{children:e.name}),(0,Te.jsxs)("span",{className:"task-count-badge",children:[e.tasks.length," tasks"]})]})]}),(0,Te.jsx)("div",{className:"milestone-tasks",children:e.tasks.map((e,t)=>(0,Te.jsx)("div",{className:"process-task-item",children:(0,Te.jsxs)("div",{className:"task-left",children:[(0,Te.jsx)("div",{className:"task-number",children:t+1}),(0,Te.jsxs)("div",{className:"task-details",children:[(0,Te.jsx)("div",{className:"task-name",children:e.name}),(0,Te.jsxs)("div",{className:"task-meta",children:[(0,Te.jsxs)("span",{className:"task-owner",children:["\ud83d\udc64 ",e.owner]}),(0,Te.jsxs)("span",{className:"task-sla",children:["\u23f1\ufe0f ",e.sla," ",e.slaUnit]}),e.aiAuto&&(0,Te.jsx)("span",{className:"task-ai-badge",children:"\ud83e\udd16 AI Auto"})]})]})]})},t))})]},t))}),(0,Te.jsxs)("div",{className:"process-summary-stats",children:[(0,Te.jsxs)("div",{className:"stat-box",children:[(0,Te.jsx)("div",{className:"stat-value",children:N.milestones}),(0,Te.jsx)("div",{className:"stat-label",children:"Milestones"})]}),(0,Te.jsxs)("div",{className:"stat-box",children:[(0,Te.jsx)("div",{className:"stat-value",children:N.tasks}),(0,Te.jsx)("div",{className:"stat-label",children:"Total Tasks"})]}),(0,Te.jsxs)("div",{className:"stat-box",children:[(0,Te.jsx)("div",{className:"stat-value",children:N.roles}),(0,Te.jsx)("div",{className:"stat-label",children:"Roles"})]})]})]}):(0,Te.jsxs)("div",{className:"empty-state",children:[(0,Te.jsx)("div",{className:"empty-icon",children:"\ud83d\udccb"}),(0,Te.jsx)("h3",{children:"No Process Tree Found"}),(0,Te.jsx)("p",{children:"You haven't created a process tree yet during onboarding."}),(0,Te.jsx)("p",{className:"empty-hint",children:"Complete the onboarding wizard and upload your process documents to generate your process tree."})]})]}),"onboarding-update"===t&&(0,Te.jsxs)("div",{className:"onboarding-update-section",children:[(0,Te.jsx)("h2",{children:"Update Onboarding Process"}),(0,Te.jsx)("p",{className:"section-description",children:"Customize the onboarding steps for new users"}),B?(0,Te.jsx)("div",{className:"loading-spinner",children:"Loading..."}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"help-card",style:{marginBottom:"24px"},children:[(0,Te.jsx)("h4",{children:"How to Customize"}),(0,Te.jsx)("p",{children:"Edit the title, description, icon, and fields for each step below. You can also add or remove steps. Changes will apply to all new users going through onboarding."})]}),(0,Te.jsx)("div",{className:"editing-steps-list",children:b.map((e,t)=>(0,Te.jsxs)("div",{className:"editing-step-card",children:[(0,Te.jsxs)("div",{className:"step-header-edit",children:[(0,Te.jsxs)("h4",{children:["Step ",t+1]}),(0,Te.jsx)("button",{className:"btn-remove-step",onClick:()=>(e=>{const t=b.filter((t,n)=>n!==e);t.forEach((e,t)=>{e.step_number=t+1}),C(t)})(t),disabled:1===b.length,children:"\u2715 Remove"})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Title"}),(0,Te.jsx)("input",{type:"text",value:e.title,onChange:e=>Ne(t,"title",e.target.value),className:"text-input",placeholder:"Step Title"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Icon (Emoji)"}),(0,Te.jsx)("input",{type:"text",value:e.icon,onChange:e=>Ne(t,"icon",e.target.value),className:"text-input",placeholder:"\ud83d\udcc4",maxLength:"2",style:{width:"80px"}})]})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Description"}),(0,Te.jsx)("textarea",{value:e.description,onChange:e=>Ne(t,"description",e.target.value),className:"text-input",placeholder:"Describe what the user should do...",rows:"3"})]}),(0,Te.jsx)("div",{className:"form-group",children:(0,Te.jsxs)("label",{className:"checkbox-label",children:[(0,Te.jsx)("input",{type:"checkbox",checked:e.required||!1,onChange:e=>Ne(t,"required",e.target.checked)}),"Required Step (user must complete to finish onboarding)"]})})]},t))}),(0,Te.jsx)("button",{className:"btn-add-step",onClick:()=>{const e={step_number:b.length+1,title:"New Step",description:"Describe what the user should do in this step",icon:"\ud83d\udccc",required:!1,fields:[]};C([...b,e])},children:"+ Add Step"}),(0,Te.jsxs)("div",{className:"update-actions",style:{marginTop:"32px",display:"flex",gap:"12px"},children:[(0,Te.jsx)("button",{className:"btn-primary",onClick:async()=>{try{(await fetch("/api/v1/onboarding/steps",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({steps:b})})).ok?(alert("Onboarding process updated successfully!"),Ce()):alert("Failed to update onboarding process")}catch(e){console.error("Error updating onboarding steps:",e),alert("Error updating onboarding process")}},children:"Save Changes"}),(0,Te.jsx)("button",{className:"btn-secondary",onClick:()=>{Ce(),alert("Changes discarded")},children:"Cancel"})]})]})]}),"company-info"===t&&(0,Te.jsxs)("div",{className:"company-info-section",children:[(0,Te.jsx)("h2",{children:"Company Information"}),(0,Te.jsx)("p",{className:"section-description",children:"Manage your company profile and contact information"}),(0,Te.jsx)("p",{children:"Coming soon..."})]}),"team-members"===t&&(0,Te.jsxs)("div",{className:"team-members-section",children:[(0,Te.jsxs)("div",{className:"section-header",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("h2",{children:["Team Members (",ae.length,")"]}),(0,Te.jsx)("p",{className:"section-description",children:"Team members involved in your loan workflow (processors, underwriters, loan officers, etc.)"})]}),(0,Te.jsx)("button",{className:"btn-primary",onClick:()=>e("/team-members"),children:"Manage Team Members"})]}),ie?(0,Te.jsx)("div",{className:"loading-state",children:"Loading team members..."}):(0,Te.jsx)(Te.Fragment,{children:0===ae.length?(0,Te.jsxs)("div",{className:"empty-state",children:[(0,Te.jsx)("div",{className:"empty-icon",children:"\ud83d\udc65"}),(0,Te.jsx)("p",{children:"No workflow team members found. Team members will appear once they are assigned to loans."})]}):(0,Te.jsx)("div",{className:"team-members-table-container",children:(0,Te.jsxs)("table",{className:"team-members-table",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{children:"MEMBER"}),(0,Te.jsx)("th",{children:"ROLE"}),(0,Te.jsx)("th",{children:"EMAIL"}),(0,Te.jsx)("th",{children:"LOANS"}),(0,Te.jsx)("th",{children:"ACTIONS"})]})}),(0,Te.jsx)("tbody",{children:ae.map((t,n)=>{const a="".concat(t.first_name||""," ").concat(t.last_name||"").trim()||"Unknown",A=t.first_name?t.first_name.charAt(0).toUpperCase():"U";return(0,Te.jsxs)("tr",{className:"team-member-row",onClick:()=>{t.id&&e("/team-members/".concat(t.id))},style:{cursor:t.id?"pointer":"default"},children:[(0,Te.jsx)("td",{children:(0,Te.jsxs)("div",{className:"member-info-cell",children:[(0,Te.jsx)("div",{className:"member-avatar-small",children:A}),(0,Te.jsx)("div",{children:(0,Te.jsx)("div",{className:"member-name",children:a})})]})}),(0,Te.jsx)("td",{children:(0,Te.jsx)("span",{className:"role-badge-inline",children:t.role||"N/A"})}),(0,Te.jsx)("td",{children:(0,Te.jsx)("span",{className:"member-email-text",children:t.email||"N/A"})}),(0,Te.jsx)("td",{children:(0,Te.jsxs)("span",{className:"loan-count-badge",children:["\ud83d\udccb ",t.loan_count||0," ",1===(t.loan_count||0)?"loan":"loans"]})}),(0,Te.jsx)("td",{children:(0,Te.jsx)("button",{className:"btn-view-profile",onClick:n=>{n.stopPropagation(),t.id&&e("/team-members/".concat(t.id))},disabled:!t.id,children:"View Profile"})})]},t.id||"".concat(t.first_name,"-").concat(t.role,"-").concat(n))})})]})})})]}),"branding"===t&&(0,Te.jsxs)("div",{className:"branding-section",children:[(0,Te.jsx)("h2",{children:"Branding"}),(0,Te.jsx)("p",{className:"section-description",children:"Customize your company's branding and appearance"}),(0,Te.jsx)("p",{children:"Coming soon..."})]}),"business-hours"===t&&(0,Te.jsxs)("div",{className:"business-hours-section",children:[(0,Te.jsx)("h2",{children:"Business Hours"}),(0,Te.jsx)("p",{className:"section-description",children:"Set your operating hours and holidays"}),(0,Te.jsx)("p",{children:"Coming soon..."})]}),"appointment-types"===t&&(0,Te.jsxs)("div",{className:"appointment-types-section",children:[(0,Te.jsx)("h2",{children:"Appointment Types"}),(0,Te.jsx)("p",{className:"section-description",children:"Configure different types of appointments and their durations"}),(0,Te.jsx)("p",{children:"Coming soon..."})]}),"calendar-settings"===t&&(0,Te.jsxs)("div",{className:"calendar-settings-section",children:[(0,Te.jsx)("h2",{children:"AI Scheduling - Calendar Mappings"}),(0,Te.jsx)("p",{className:"section-description",children:"Map each lead stage to a specific Calendly event type for automatic AI scheduling"}),(0,Te.jsxs)("div",{className:"calendly-connection-card",children:[(0,Te.jsxs)("div",{className:"connection-header",children:[(0,Te.jsx)("div",{className:"connection-icon",style:{background:"#006bff"},children:"\ud83d\uddd3\ufe0f"}),(0,Te.jsxs)("div",{className:"connection-info",children:[(0,Te.jsx)("h3",{children:"Calendly Integration"}),(0,Te.jsx)("p",{children:"Connect your Calendly account to sync event types"})]}),(0,Te.jsx)("div",{className:"connection-status",children:c.length>0?(0,Te.jsx)("span",{className:"status-badge connected",children:"\u2713 Connected"}):(0,Te.jsx)("span",{className:"status-badge disconnected",children:"Not Connected"})})]}),(0,Te.jsxs)("div",{style:{padding:"10px",background:"#f0f0f0",marginBottom:"10px",fontSize:"12px"},children:["Debug: calendlyEventTypes.length = ",c.length,", loadingCalendly = ",m?"true":"false",", showCalendlyModal = ",de?"true":"false"]}),(0,Te.jsx)("div",{className:"connection-actions",children:c.length>0?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{className:"btn-refresh",onClick:je,disabled:m,children:m?"Refreshing...":"\ud83d\udd04 Refresh Event Types"}),(0,Te.jsxs)("span",{className:"connection-detail",children:[c.length," event types loaded"]})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{className:"btn-connect-calendly",onClick:e=>{console.log("Button clicked!",e),console.log("Connect Calendly button clicked!"),console.log("Current showCalendlyModal state:",de),ue(!0),console.log("Modal should now be visible")},disabled:m,style:{position:"relative",zIndex:9999},children:m?"Connecting...":"Connect Calendly"}),(0,Te.jsx)("button",{onClick:()=>alert("Test button works!"),style:{marginLeft:"10px",padding:"10px",background:"red",color:"white",border:"none",cursor:"pointer"},children:"TEST"})]})})]}),(0,Te.jsxs)("div",{className:"info-card",children:[(0,Te.jsx)("div",{className:"info-icon",children:"\ud83e\udd16"}),(0,Te.jsxs)("div",{className:"info-content",children:[(0,Te.jsx)("h3",{children:"How AI Scheduling Works"}),(0,Te.jsx)("p",{children:"When AI schedules appointments with leads and loans, it automatically selects the right calendar based on the current stage. For example:"}),(0,Te.jsxs)("ul",{children:[(0,Te.jsxs)("li",{children:[(0,Te.jsx)("strong",{children:"New Lead"})," \u2192 Discovery Call (30 min)"]}),(0,Te.jsxs)("li",{children:[(0,Te.jsx)("strong",{children:"Qualified"})," \u2192 Consultation (60 min)"]}),(0,Te.jsxs)("li",{children:[(0,Te.jsx)("strong",{children:"Application Started"})," \u2192 Application Review (45 min)"]}),(0,Te.jsxs)("li",{children:[(0,Te.jsx)("strong",{children:"In Processing"})," \u2192 Status Update Call (30 min)"]}),(0,Te.jsxs)("li",{children:[(0,Te.jsx)("strong",{children:"Clear to Close"})," \u2192 Closing Prep Meeting (45 min)"]}),(0,Te.jsxs)("li",{children:[(0,Te.jsx)("strong",{children:"Post Closing"})," \u2192 Follow-up Call (15 min)"]})]}),(0,Te.jsx)("p",{children:"Configure your mappings below to tell the AI which calendar to use for each stage."})]})]}),(0,Te.jsxs)("div",{className:"mapping-form-card",children:[(0,Te.jsx)("h3",{children:"Create Calendar Mapping"}),(0,Te.jsx)("div",{className:"mapping-form",children:(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Stage"}),(0,Te.jsxs)("select",{value:g,onChange:e=>f(e.target.value),className:"form-select",children:[(0,Te.jsx)("option",{value:"",children:"Select a stage..."}),Be.map(e=>(0,Te.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Calendly Event Type"}),m?(0,Te.jsx)("div",{className:"loading-spinner",children:"Loading calendars..."}):(0,Te.jsxs)("select",{value:x,onChange:e=>v(e.target.value),className:"form-select",children:[(0,Te.jsx)("option",{value:"",children:"Select a calendar..."}),c.map(e=>{const t=e.uri.split("/").pop();return(0,Te.jsxs)("option",{value:t,children:[e.name," (",e.duration," min)"]},t)})]})]}),(0,Te.jsx)("div",{className:"form-actions",children:(0,Te.jsx)("button",{onClick:async()=>{if(!g||!x)return void alert("Please select both a lead stage and a calendar type");var e;if(u.find(e=>e.stage===g))return void alert("A mapping already exists for ".concat(null===(e=Be.find(e=>e.value===g))||void 0===e?void 0:e.label,". Please delete the existing mapping first."));const t=c.find(e=>e.uri.includes(x));if(t)try{(await fetch("".concat(Fe,"/api/v1/calendly/calendar-mappings"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({stage:g,event_type_uuid:x,event_type_name:t.name,event_type_url:t.scheduling_url})})).ok?(alert("Calendar mapping saved successfully!"),f(""),v(""),be()):alert("Failed to save calendar mapping")}catch(n){console.error("Error creating calendar mapping:",n),alert("Error saving calendar mapping")}else alert("Event type not found")},disabled:!g||!x,className:"btn-save-mapping",children:"Save Mapping"})})]})})]}),(0,Te.jsxs)("div",{className:"current-mappings-card",children:[(0,Te.jsx)("h3",{children:"Current Mappings"}),0===u.length?(0,Te.jsxs)("div",{className:"empty-state",children:[(0,Te.jsx)("div",{className:"empty-icon",children:"\ud83d\udcc5"}),(0,Te.jsx)("p",{children:"No calendar mappings configured yet."}),(0,Te.jsx)("p",{className:"empty-hint",children:"Create your first mapping above to get started."})]}):(0,Te.jsx)("div",{className:"mappings-table",children:(0,Te.jsxs)("table",{children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{children:"Lead Stage"}),(0,Te.jsx)("th",{children:"Calendar Type"}),(0,Te.jsx)("th",{children:"Status"}),(0,Te.jsx)("th",{children:"Actions"})]})}),(0,Te.jsx)("tbody",{children:u.map(e=>{var t;const n=(null===(t=Be.find(t=>t.value===e.stage))||void 0===t?void 0:t.label)||e.stage;return(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{children:(0,Te.jsx)("div",{className:"stage-cell",children:(0,Te.jsx)("span",{className:"stage-badge",children:n})})}),(0,Te.jsx)("td",{children:(0,Te.jsxs)("div",{className:"calendar-cell",children:[(0,Te.jsx)("strong",{children:e.event_type_name}),(0,Te.jsx)("br",{}),(0,Te.jsx)("span",{className:"calendar-uuid",children:e.event_type_uuid})]})}),(0,Te.jsx)("td",{children:(0,Te.jsx)("span",{className:"status-badge active",children:"\u2713 Active"})}),(0,Te.jsx)("td",{children:(0,Te.jsx)("button",{className:"btn-delete-mapping",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this calendar mapping?"))try{await mA(e),alert("Calendar mapping deleted successfully!"),be()}catch(a){var t,n;console.error("Error deleting calendar mapping:",a),alert("Failed to delete calendar mapping: "+((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||a.message))}})(e.id),title:"Delete mapping",children:"\ud83d\uddd1\ufe0f Delete"})})]},e.id)})})]})})]}),(0,Te.jsxs)("div",{className:"help-card",children:[(0,Te.jsx)("h4",{children:"Need Help?"}),(0,Te.jsx)("p",{children:"To get your Calendly event types:"}),(0,Te.jsxs)("ol",{children:[(0,Te.jsxs)("li",{children:["Go to ",(0,Te.jsx)("a",{href:"https://calendly.com/event_types/user/me",target:"_blank",rel:"noopener noreferrer",children:"calendly.com/event_types"})]}),(0,Te.jsx)("li",{children:'Create different event types for each stage (e.g., "Discovery Call", "Consultation")'}),(0,Te.jsx)("li",{children:"Come back here and map each stage to the appropriate event type"}),(0,Te.jsx)("li",{children:"The AI will automatically use the right calendar when scheduling!"})]})]})]}),"availability"===t&&(0,Te.jsxs)("div",{className:"availability-section",children:[(0,Te.jsx)("h2",{children:"Availability"}),(0,Te.jsx)("p",{className:"section-description",children:"Set your personal availability and time-off"}),(0,Te.jsx)("p",{children:"Coming soon..."})]}),"user-management"===t&&(0,Te.jsxs)("div",{className:"user-management-section",children:[(0,Te.jsxs)("div",{className:"page-header",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{children:"User Management"}),(0,Te.jsx)("p",{className:"section-description",children:"Manage all registered users and their permissions"})]}),(0,Te.jsxs)("div",{className:"header-stats",children:[(0,Te.jsxs)("div",{className:"stat-box",children:[(0,Te.jsx)("div",{className:"stat-value",children:T.length}),(0,Te.jsx)("div",{className:"stat-label",children:"Total Users"})]}),(0,Te.jsxs)("div",{className:"stat-box",children:[(0,Te.jsx)("div",{className:"stat-value",children:T.filter(e=>e.is_active).length}),(0,Te.jsx)("div",{className:"stat-label",children:"Active"})]}),(0,Te.jsxs)("div",{className:"stat-box",children:[(0,Te.jsx)("div",{className:"stat-value",children:T.filter(e=>e.email_verified).length}),(0,Te.jsx)("div",{className:"stat-label",children:"Verified"})]})]})]}),O&&(0,Te.jsx)("div",{className:"error-message",children:O}),P?(0,Te.jsx)("div",{className:"loading",children:"Loading users..."}):(0,Te.jsxs)("div",{className:"users-table-container",children:[(0,Te.jsxs)("table",{className:"users-table",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{children:"User"}),(0,Te.jsx)("th",{children:"Email"}),(0,Te.jsx)("th",{children:"Role"}),(0,Te.jsx)("th",{children:"Status"}),(0,Te.jsx)("th",{children:"Verified"}),(0,Te.jsx)("th",{children:"Onboarded"}),(0,Te.jsx)("th",{children:"Registered"}),(0,Te.jsx)("th",{children:"Actions"})]})}),(0,Te.jsx)("tbody",{children:T.map(t=>{var n;const a=JSON.parse(localStorage.getItem("user")||"{}"),A=t.id===a.id;return(0,Te.jsxs)("tr",{className:"clickable-user-row ".concat(t.is_active?"":"inactive-user"),onClick:()=>e("/users/".concat(t.id)),style:{cursor:"pointer"},children:[(0,Te.jsx)("td",{children:(0,Te.jsxs)("div",{className:"user-info",children:[(0,Te.jsx)("div",{className:"user-avatar",children:(null===(n=t.full_name)||void 0===n?void 0:n.charAt(0))||t.email.charAt(0)}),(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"user-name",children:[t.full_name||"Unnamed User",A&&(0,Te.jsx)("span",{className:"current-user-badge",children:"You"})]}),(0,Te.jsxs)("div",{className:"user-id",children:["ID: ",t.id]})]})]})}),(0,Te.jsx)("td",{children:t.email}),(0,Te.jsx)("td",{children:M===t.id?(0,Te.jsxs)("select",{value:t.role,onChange:e=>(async(e,t)=>{try{const n=localStorage.getItem("token");if(!(await fetch("".concat(Fe,"/api/v1/admin/users/").concat(e),{method:"PATCH",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({role:t})})).ok)throw new Error("Failed to update role");await _e(),K(null)}catch(n){console.error("Failed to update role:",n),alert("Failed to update user role")}})(t.id,e.target.value),onBlur:()=>K(null),onClick:e=>e.stopPropagation(),autoFocus:!0,className:"role-select",children:[(0,Te.jsx)("option",{value:"loan_officer",children:"Loan Officer"}),(0,Te.jsx)("option",{value:"admin",children:"Admin"}),(0,Te.jsx)("option",{value:"processor",children:"Processor"}),(0,Te.jsx)("option",{value:"underwriter",children:"Underwriter"}),(0,Te.jsx)("option",{value:"manager",children:"Manager"})]}):(0,Te.jsx)("span",{className:"role-badge",onClick:e=>{e.stopPropagation(),K(t.id)},title:"Click to edit",children:t.role||"loan_officer"})}),(0,Te.jsx)("td",{children:(0,Te.jsx)("button",{className:"status-badge ".concat(t.is_active?"active":"inactive"),onClick:e=>{e.stopPropagation(),(async(e,t)=>{try{const n=localStorage.getItem("token");if(!(await fetch("".concat(Fe,"/api/v1/admin/users/").concat(e),{method:"PATCH",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({is_active:!t})})).ok)throw new Error("Failed to update user status");await _e()}catch(n){console.error("Failed to update user:",n),alert("Failed to update user status")}})(t.id,t.is_active)},children:t.is_active?"Active":"Inactive"})}),(0,Te.jsx)("td",{children:(0,Te.jsx)("button",{className:"verify-badge ".concat(t.email_verified?"verified":"unverified"),onClick:e=>{e.stopPropagation(),(async(e,t)=>{try{const n=localStorage.getItem("token");if(!(await fetch("".concat(Fe,"/api/v1/admin/users/").concat(e),{method:"PATCH",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({email_verified:!t})})).ok)throw new Error("Failed to update verification");await _e()}catch(n){console.error("Failed to update user:",n),alert("Failed to update user verification")}})(t.id,t.email_verified)},children:t.email_verified?"\u2713 Verified":"\u2717 Not Verified"})}),(0,Te.jsx)("td",{children:(0,Te.jsx)("span",{className:"onboarding-badge ".concat(t.onboarding_completed?"completed":"pending"),children:t.onboarding_completed?"Completed":"Pending"})}),(0,Te.jsx)("td",{className:"date-cell",children:Ie(t.created_at)}),(0,Te.jsx)("td",{children:(0,Te.jsx)("button",{className:"btn-delete",onClick:e=>{e.stopPropagation(),(async e=>{if(JSON.parse(localStorage.getItem("user")||"{}").id!==e){if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const t=localStorage.getItem("token");if(!t)return void alert("You are not authenticated. Please log in again.");const n=await fetch("".concat(Fe,"/api/v1/admin/users/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.detail||"Failed to delete user")}alert("User deleted successfully"),await _e()}catch(t){console.error("Failed to delete user:",t),alert(t.message||"Failed to delete user")}}else alert("You cannot delete your own account. Please contact another administrator.")})(t.id)},disabled:A,title:A?"You cannot delete your own account":"Delete user",children:"Delete"})})]},t.id)})})]}),0===T.length&&(0,Te.jsxs)("div",{className:"empty-state",children:[(0,Te.jsx)("div",{className:"empty-icon",children:"\ud83d\udc65"}),(0,Te.jsx)("p",{children:"No users found"})]})]})]})]})]}),de&&(0,Te.jsx)("div",{className:"connection-modal-overlay",onClick:()=>ue(!1),children:(0,Te.jsxs)("div",{className:"connection-modal",onClick:e=>e.stopPropagation(),children:[(0,Te.jsx)("button",{className:"btn-close-modal",onClick:()=>ue(!1),children:"\xd7"}),(0,Te.jsxs)("div",{className:"modal-header",children:[(0,Te.jsx)("span",{className:"modal-icon",children:"\ud83d\uddd3\ufe0f"}),(0,Te.jsx)("h3",{children:"Connect Calendly"}),(0,Te.jsx)("p",{className:"modal-description",children:"Enter your Calendly API key to sync event types"})]}),(0,Te.jsxs)("div",{className:"modal-body",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Calendly API Key"}),(0,Te.jsx)("input",{type:"password",className:"form-input",placeholder:"Enter your Calendly API key",value:oe,onChange:e=>ce(e.target.value)})]}),(0,Te.jsxs)("div",{className:"help-text",children:[(0,Te.jsx)("h4",{children:"How to get your API key:"}),(0,Te.jsxs)("ol",{children:[(0,Te.jsxs)("li",{children:["Go to ",(0,Te.jsx)("a",{href:"https://calendly.com/integrations/api_webhooks",target:"_blank",rel:"noopener noreferrer",children:"Calendly Integrations"})]}),(0,Te.jsx)("li",{children:'Click "Generate New Token"'}),(0,Te.jsx)("li",{children:"Copy the token and paste it above"})]})]})]}),(0,Te.jsxs)("div",{className:"modal-footer",children:[(0,Te.jsx)("button",{className:"btn-secondary",onClick:()=>ue(!1),children:"Cancel"}),(0,Te.jsx)("button",{className:"btn-primary",onClick:async()=>{if(oe.trim()){console.log("[Calendly] Saving API key..."),p(!0);try{const e=await fetch("".concat(Fe,"/api/v1/calendly/connect"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({api_key:oe})});if(console.log("[Calendly] Save response status:",e.status),e.ok){const t=await e.json();console.log("[Calendly] Save result:",t),alert("Calendly connected successfully! Fetching your event types..."),ue(!1),ce(""),console.log("[Calendly] Now fetching event types..."),await je(),console.log("[Calendly] Done fetching event types")}else{const t=await e.json();console.error("[Calendly] Save failed:",t),alert("Failed to connect Calendly: ".concat(t.detail||"Please check your API key"))}}catch(e){console.error("[Calendly] Error connecting:",e),alert("Error connecting to Calendly: "+e.message)}finally{p(!1)}}else alert("Please enter your Calendly API key")},disabled:!oe.trim(),children:"Connect"})]})]})}),Z&&(0,Te.jsx)("div",{className:"connection-modal-overlay",onClick:()=>ee(!1),children:(0,Te.jsxs)("div",{className:"connection-modal",onClick:e=>e.stopPropagation(),children:[(0,Te.jsx)("button",{className:"btn-close-modal",onClick:()=>ee(!1),children:"\xd7"}),(0,Te.jsxs)("div",{className:"modal-header",children:[(0,Te.jsx)("span",{className:"modal-icon",children:"\ud83d\udcf9"}),(0,Te.jsx)("h3",{children:"Connect Recall.ai"}),(0,Te.jsx)("p",{className:"modal-description",children:"Enter your Recall.ai API key to enable meeting recording"})]}),(0,Te.jsxs)("div",{className:"modal-body",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Recall.ai API Key"}),(0,Te.jsx)("input",{type:"password",className:"form-input",placeholder:"Enter your Recall.ai API key",value:te,onChange:e=>ne(e.target.value)})]}),(0,Te.jsxs)("div",{className:"help-text",children:[(0,Te.jsx)("h4",{children:"How to get your API key:"}),(0,Te.jsxs)("ol",{children:[(0,Te.jsxs)("li",{children:["Go to ",(0,Te.jsx)("a",{href:"https://www.recall.ai/",target:"_blank",rel:"noopener noreferrer",children:"Recall.ai"})]}),(0,Te.jsx)("li",{children:"Sign up or log in to your account"}),(0,Te.jsx)("li",{children:"Navigate to API Settings"}),(0,Te.jsx)("li",{children:"Copy your API key and paste it above"})]}),(0,Te.jsx)("p",{children:(0,Te.jsx)("strong",{children:"Features:"})}),(0,Te.jsxs)("ul",{children:[(0,Te.jsx)("li",{children:"\u2713 Works with Zoom, Teams, Google Meet"}),(0,Te.jsx)("li",{children:"\u2713 Real-time AI transcription"}),(0,Te.jsx)("li",{children:"\u2713 Speaker identification"}),(0,Te.jsx)("li",{children:"\u2713 Auto-saves to Conversation Log"})]})]})]}),(0,Te.jsxs)("div",{className:"modal-footer",children:[(0,Te.jsx)("button",{className:"btn-secondary",onClick:()=>ee(!1),children:"Cancel"}),(0,Te.jsx)("button",{className:"btn-primary",onClick:async()=>{if(te.trim()){q(!0);try{await pA(te),alert("Recall.ai connected successfully!"),ee(!1),ne(""),await ke()}catch(n){var e,t;console.error("Error connecting Recall.ai:",n),alert("Failed to connect Recall.ai: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message))}finally{q(!1)}}else alert("Please enter your Recall.ai API key")},disabled:!te.trim()||X,children:X?"Connecting...":"Connect"})]})]})})]})};const Ns=function(){const e=$(),[t,n]=(0,a.useState)([]),[A,s]=(0,a.useState)(!0),[r,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)({first_name:"",last_name:"",email:"",phone:"",role:"",title:""}),[m,p]=(0,a.useState)(""),g=(0,a.useRef)(null),f=(0,a.useRef)(null);(0,a.useEffect)(()=>{x()},[]),(0,a.useEffect)(()=>{if(g.current&&clearTimeout(g.current),l&&(!f.current||JSON.stringify(u)!==JSON.stringify(f.current))&&u.first_name&&u.last_name&&u.role)return g.current=setTimeout(()=>{v()},2e3),()=>{g.current&&clearTimeout(g.current)}},[u,l]);const x=async()=>{try{s(!0);const e=await sA();console.log("Team members API response:",e),console.log("Is array?",Array.isArray(e)),console.log("Data type:",typeof e),n(Array.isArray(e)?e:[]),console.log("Members set to:",Array.isArray(e)?e:[])}catch(t){var e;console.error("Failed to load team members:",t),console.error("Error details:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message),n([])}finally{s(!1)}},v=async()=>{if(l)try{p("saving"),await lA(l.id,u),p("saved"),f.current=Wt({},u),n(e=>e.map(e=>e.id===l.id?Wt(Wt({},e),u):e)),setTimeout(()=>{p("")},2e3)}catch(e){console.error("Auto-save failed:",e),p("error"),setTimeout(()=>{p("")},3e3)}},y=()=>{h({first_name:"",last_name:"",email:"",phone:"",role:"",title:""}),o(null),p(""),f.current=null,i(!0)},w=()=>{g.current&&clearTimeout(g.current),i(!1),p("")},B=(e,t)=>{h(Wt(Wt({},u),{},{[e]:t}))};if(A)return(0,Te.jsx)("div",{className:"loading",children:"Loading team members..."});let j=t;if(c.trim()){const e=c.toLowerCase();j=t.filter(t=>{var n,a,A,s;return"".concat(t.first_name," ").concat(t.last_name).toLowerCase().includes(e)||(null===(n=t.email)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(a=t.phone)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(A=t.role)||void 0===A?void 0:A.toLowerCase().includes(e))||(null===(s=t.title)||void 0===s?void 0:s.toLowerCase().includes(e))})}return(0,Te.jsxs)("div",{className:"leads-page",children:[(0,Te.jsxs)("div",{className:"page-header",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{children:"Team Members"}),(0,Te.jsxs)("p",{children:[t.length," total team members"]})]}),(0,Te.jsx)("button",{className:"btn-primary",onClick:y,children:"+ Add Team Member"})]}),(0,Te.jsxs)("div",{className:"search-bar-container",children:[(0,Te.jsx)("input",{type:"text",className:"search-bar",placeholder:"Search team members by name, email, phone, or role...",value:c,onChange:e=>d(e.target.value)}),c&&(0,Te.jsx)("button",{className:"clear-search",onClick:()=>d(""),children:"\xd7"})]}),(0,Te.jsx)("div",{className:"table-container",children:0===j.length?(0,Te.jsxs)("div",{className:"empty-state",children:[(0,Te.jsx)("h3",{children:"No Team Members Found"}),(0,Te.jsx)("p",{children:c?"Try adjusting your search":"Add your first team member to get started"}),!c&&(0,Te.jsx)("button",{className:"btn-primary",onClick:y,children:"+ Add Team Member"})]}):(0,Te.jsxs)("table",{className:"leads-table",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{children:"NAME"}),(0,Te.jsx)("th",{children:"EMAIL"}),(0,Te.jsx)("th",{children:"PHONE"}),(0,Te.jsx)("th",{children:"ROLE"}),(0,Te.jsx)("th",{children:"TITLE"}),(0,Te.jsx)("th",{children:"ACTIONS"})]})}),(0,Te.jsx)("tbody",{children:j.map(t=>(0,Te.jsxs)("tr",{onClick:()=>e("/team-members/".concat(t.id)),style:{cursor:"pointer"},children:[(0,Te.jsx)("td",{className:"lead-name",children:(0,Te.jsxs)("strong",{children:[t.first_name," ",t.last_name]})}),(0,Te.jsx)("td",{children:t.email||"N/A"}),(0,Te.jsx)("td",{children:t.phone||"N/A"}),(0,Te.jsx)("td",{children:(0,Te.jsx)("span",{className:"status-badge status-prospect",children:t.role||"Team Member"})}),(0,Te.jsx)("td",{children:t.title||"N/A"}),(0,Te.jsx)("td",{children:(0,Te.jsxs)("div",{className:"table-actions",children:[(0,Te.jsx)("button",{className:"btn-icon",onClick:e=>{e.stopPropagation(),(e=>{const t={first_name:e.first_name||"",last_name:e.last_name||"",email:e.email||"",phone:e.phone||"",role:e.role||"",title:e.title||""};h(t),f.current=Wt({},t),o(e),p(""),i(!0)})(t)},title:"Edit",children:"\u270f\ufe0f"}),(0,Te.jsx)("button",{className:"btn-icon",onClick:e=>{e.stopPropagation(),(async e=>{if(window.confirm("Are you sure you want to remove this team member?"))try{await oA(e),x(),alert("Team member removed")}catch(t){console.error("Failed to delete team member:",t),alert("Failed to remove team member")}})(t.id)},title:"Delete",children:"\ud83d\uddd1\ufe0f"})]})})]},t.id))})]})}),r&&(0,Te.jsx)("div",{className:"modal-overlay",onClick:w,children:(0,Te.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Te.jsxs)("div",{className:"modal-header",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{children:l?"Edit Team Member":"Add Team Member"}),l&&(0,Te.jsxs)("div",{style:{fontSize:"12px",marginTop:"4px",color:"#666"},children:["saving"===m&&(0,Te.jsx)("span",{style:{color:"#0066cc"},children:"\u25cf Saving changes..."}),"saved"===m&&(0,Te.jsx)("span",{style:{color:"#28a745"},children:"\u2713 All changes saved"}),"error"===m&&(0,Te.jsx)("span",{style:{color:"#dc3545"},children:"\u2717 Failed to save"}),!m&&(0,Te.jsx)("span",{style:{color:"#999"},children:"Auto-saves 2 seconds after changes"})]})]}),(0,Te.jsx)("button",{className:"modal-close",onClick:w,children:"\xd7"})]}),(0,Te.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!l)try{await iA(u),i(!1),x(),alert("Team member added!")}catch(t){console.error("Failed to save team member:",t),alert("Failed to save team member")}},children:[(0,Te.jsxs)("div",{className:"form-section",children:[(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"First Name *"}),(0,Te.jsx)("input",{type:"text",value:u.first_name,onChange:e=>B("first_name",e.target.value),required:!0})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Last Name *"}),(0,Te.jsx)("input",{type:"text",value:u.last_name,onChange:e=>B("last_name",e.target.value),required:!0})]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Email"}),(0,Te.jsx)("input",{type:"email",value:u.email,onChange:e=>B("email",e.target.value)})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Phone"}),(0,Te.jsx)("input",{type:"tel",value:u.phone,onChange:e=>B("phone",e.target.value)})]})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Role *"}),(0,Te.jsxs)("select",{value:u.role,onChange:e=>B("role",e.target.value),required:!0,children:[(0,Te.jsx)("option",{value:"",children:"Select Role..."}),(0,Te.jsx)("option",{value:"Application Analysis",children:"Application Analysis"}),(0,Te.jsx)("option",{value:"Concierge",children:"Concierge"}),(0,Te.jsx)("option",{value:"Jr. Loan Officer",children:"Jr. Loan Officer"}),(0,Te.jsx)("option",{value:"Jr. Processor",children:"Jr. Processor"}),(0,Te.jsx)("option",{value:"Loan Officer",children:"Loan Officer"}),(0,Te.jsx)("option",{value:"Loan Officer Assistant",children:"Loan Officer Assistant"}),(0,Te.jsx)("option",{value:"Processor",children:"Processor"}),(0,Te.jsx)("option",{value:"Processing Assistant",children:"Processing Assistant"}),(0,Te.jsx)("option",{value:"Production Assistant 1",children:"Production Assistant 1"}),(0,Te.jsx)("option",{value:"Production Assistant 2",children:"Production Assistant 2"})]})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Title"}),(0,Te.jsx)("input",{type:"text",value:u.title,onChange:e=>B("title",e.target.value),placeholder:"e.g., Senior Loan Officer"})]})]})]}),(0,Te.jsxs)("div",{className:"modal-footer",children:[(0,Te.jsx)("button",{type:"button",className:"btn-secondary",onClick:w,children:l?"Close":"Cancel"}),!l&&(0,Te.jsx)("button",{type:"submit",className:"btn-primary",children:"Add Member"})]})]})]})})]})};const Qs=function(){const{id:e}=ee(),t=$(),[n,A]=(0,a.useState)(null),[s,r]=(0,a.useState)(!0),[i,l]=(0,a.useState)("overview"),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)({}),[h,m]=(0,a.useState)(null),p=a.useRef(null);(0,a.useEffect)(()=>{g()},[e]);const g=async()=>{try{r(!0);const t=await rA(e);console.log("Team member data loaded:",t),console.log("First name:",t.first_name),console.log("Last name:",t.last_name),console.log("Role:",t.role),A(t),u(t)}catch(t){console.error("Failed to load team member:",t),alert("Failed to load team member details")}finally{r(!1)}},f=(e,t)=>{u(Wt(Wt({},d),{},{[e]:t}))};return s?(0,Te.jsx)("div",{className:"team-member-profile-page",children:(0,Te.jsx)("div",{className:"loading",children:"Loading team member..."})}):n?(0,Te.jsxs)("div",{className:"team-member-profile-page",children:[(0,Te.jsx)("div",{className:"profile-header-green",children:(0,Te.jsxs)("div",{className:"profile-header-content",children:[(0,Te.jsxs)("div",{className:"profile-avatar-section-centered",children:[(0,Te.jsx)("div",{className:"profile-avatar-circle",onClick:()=>{var e;null===(e=p.current)||void 0===e||e.click()},style:{cursor:"pointer"},children:h?(0,Te.jsx)("img",{src:h,alt:"Profile",className:"profile-avatar-image"}):(0,Te.jsx)("span",{className:"profile-avatar-initials",children:(()=>{var e,t,a,A;const s=(null===n||void 0===n||null===(e=n.first_name)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase())||"",r=(null===n||void 0===n||null===(a=n.last_name)||void 0===a||null===(A=a[0])||void 0===A?void 0:A.toUpperCase())||"";return"".concat(s).concat(r)})()})}),(0,Te.jsx)("input",{ref:p,type:"file",accept:"image/*",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){const e=new FileReader;e.onloadend=()=>{m(e.result)},e.readAsDataURL(n)}},style:{display:"none"}}),(0,Te.jsx)("div",{className:"profile-name-divider"}),(0,Te.jsxs)("div",{className:"profile-name-section-below",style:{border:"2px solid yellow",padding:"10px"},children:[(0,Te.jsx)("h1",{className:"profile-name",style:{backgroundColor:"rgba(255,255,255,0.1)"},children:n.first_name&&n.last_name?"".concat(n.first_name," ").concat(n.last_name):"Name not available"}),(0,Te.jsx)("p",{className:"profile-role",style:{backgroundColor:"rgba(255,255,255,0.1)"},children:n.role||"Role not specified"}),(0,Te.jsxs)("div",{style:{fontSize:"12px",color:"yellow",marginTop:"8px"},children:["DEBUG: first_name=",n.first_name||"NULL",", last_name=",n.last_name||"NULL",", role=",n.role||"NULL"]})]})]}),(0,Te.jsx)("div",{className:"header-actions-absolute",children:o?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{className:"btn-save",onClick:async()=>{try{await lA(e,d),A(d),c(!1),alert("Team member updated successfully!")}catch(t){console.error("Failed to update team member:",t),alert("Failed to update team member")}},children:"Save"}),(0,Te.jsx)("button",{className:"btn-cancel",onClick:()=>{c(!1),u(n)},children:"Cancel"})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{className:"btn-impersonate",onClick:async()=>{if(window.confirm("Are you sure you want to log in as ".concat(n.first_name," ").concat(n.last_name,"? You will be logged into their CRM view.")))try{const t=await cA(e);localStorage.setItem("token",t.access_token),alert("Successfully logged in as ".concat(t.user.full_name,". Redirecting to dashboard...")),window.location.href="/dashboard"}catch(A){var t,a;console.error("Impersonation error:",A),alert((null===(t=A.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Failed to impersonate team member. They may not have a user account yet.")}},style:{marginRight:"8px"},children:"\ud83d\udd10 Impersonate"}),(0,Te.jsx)("button",{className:"btn-edit-header",onClick:()=>c(!0),children:"\u270f\ufe0f Edit"})]})})]})}),(0,Te.jsx)("div",{style:{padding:"0 32px"},children:(0,Te.jsx)("button",{className:"btn-back",onClick:()=>t("/team-members"),style:{marginTop:"16px",marginBottom:"16px"},children:"\u2190 Back to Team Members"})}),(0,Te.jsxs)("div",{className:"profile-tabs",children:[(0,Te.jsx)("button",{className:"tab-btn ".concat("overview"===i?"active":""),onClick:()=>l("overview"),children:"Overview"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("kpis"===i?"active":""),onClick:()=>l("kpis"),children:"KPIs"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("notes"===i?"active":""),onClick:()=>l("notes"),children:"Notes & Meetings"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("personality"===i?"active":""),onClick:()=>l("personality"),children:"DISC Profile"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("personal"===i?"active":""),onClick:()=>l("personal"),children:"Personal Info"}),(0,Te.jsx)("button",{className:"tab-btn ".concat("goals"===i?"active":""),onClick:()=>l("goals"),children:"Goals"})]}),(0,Te.jsxs)("div",{className:"tab-content",children:["overview"===i&&(0,Te.jsxs)("div",{className:"tab-panel",children:[(0,Te.jsx)("h2",{children:"Overview"}),(0,Te.jsxs)("div",{className:"info-grid",children:[(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Employee ID"}),(0,Te.jsx)("input",{type:"text",value:d.employee_id||"",onChange:e=>f("employee_id",e.target.value),disabled:!o})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Start Date"}),(0,Te.jsx)("input",{type:"date",value:d.start_date||"",onChange:e=>f("start_date",e.target.value),disabled:!o})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Department"}),(0,Te.jsx)("input",{type:"text",value:d.department||"",onChange:e=>f("department",e.target.value),disabled:!o})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Manager"}),(0,Te.jsx)("input",{type:"text",value:d.manager||"",onChange:e=>f("manager",e.target.value),disabled:!o})]})]})]}),"kpis"===i&&(0,Te.jsxs)("div",{className:"tab-panel",children:[(0,Te.jsx)("h2",{children:"Key Performance Indicators"}),(0,Te.jsxs)("div",{className:"kpi-grid",children:[(0,Te.jsxs)("div",{className:"kpi-card",children:[(0,Te.jsx)("h3",{children:"Loans Processed"}),(0,Te.jsx)("div",{className:"kpi-value",children:d.loans_processed||0}),(0,Te.jsx)("div",{className:"kpi-period",children:"This Month"})]}),(0,Te.jsxs)("div",{className:"kpi-card",children:[(0,Te.jsx)("h3",{children:"Average Close Time"}),(0,Te.jsxs)("div",{className:"kpi-value",children:[d.avg_close_time||0," days"]}),(0,Te.jsx)("div",{className:"kpi-period",children:"Last 30 Days"})]}),(0,Te.jsxs)("div",{className:"kpi-card",children:[(0,Te.jsx)("h3",{children:"Customer Satisfaction"}),(0,Te.jsxs)("div",{className:"kpi-value",children:[d.satisfaction_score||0,"%"]}),(0,Te.jsx)("div",{className:"kpi-period",children:"Overall"})]}),(0,Te.jsxs)("div",{className:"kpi-card",children:[(0,Te.jsx)("h3",{children:"Volume"}),(0,Te.jsxs)("div",{className:"kpi-value",children:["$",(d.volume||0).toLocaleString()]}),(0,Te.jsx)("div",{className:"kpi-period",children:"This Quarter"})]})]}),(0,Te.jsxs)("div",{className:"kpi-details",children:[(0,Te.jsx)("h3",{children:"Monthly Performance"}),(0,Te.jsxs)("div",{className:"info-grid",children:[(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Loans Processed"}),(0,Te.jsx)("input",{type:"number",value:d.loans_processed||"",onChange:e=>f("loans_processed",e.target.value),disabled:!o})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Average Close Time (days)"}),(0,Te.jsx)("input",{type:"number",value:d.avg_close_time||"",onChange:e=>f("avg_close_time",e.target.value),disabled:!o})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Satisfaction Score (%)"}),(0,Te.jsx)("input",{type:"number",value:d.satisfaction_score||"",onChange:e=>f("satisfaction_score",e.target.value),disabled:!o,min:"0",max:"100"})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Volume ($)"}),(0,Te.jsx)("input",{type:"number",value:d.volume||"",onChange:e=>f("volume",e.target.value),disabled:!o})]})]})]})]}),"notes"===i&&(0,Te.jsxs)("div",{className:"tab-panel",children:[(0,Te.jsx)("h2",{children:"Notes & Meetings"}),(0,Te.jsxs)("div",{className:"notes-section",children:[(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Meeting Notes"}),(0,Te.jsx)("textarea",{rows:"8",value:d.meeting_notes||"",onChange:e=>f("meeting_notes",e.target.value),disabled:!o,placeholder:"Add notes from 1-on-1 meetings, performance reviews, etc."})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"General Notes"}),(0,Te.jsx)("textarea",{rows:"6",value:d.general_notes||"",onChange:e=>f("general_notes",e.target.value),disabled:!o,placeholder:"Any additional notes about this team member..."})]})]})]}),"personality"===i&&(0,Te.jsxs)("div",{className:"tab-panel",children:[(0,Te.jsx)("h2",{children:"DISC Personality Profile"}),(0,Te.jsxs)("div",{className:"disc-grid",children:[(0,Te.jsxs)("div",{className:"disc-card dominance",children:[(0,Te.jsx)("h3",{children:"D - Dominance"}),(0,Te.jsx)("input",{type:"range",min:"0",max:"100",value:d.disc_d||50,onChange:e=>f("disc_d",e.target.value),disabled:!o}),(0,Te.jsxs)("div",{className:"disc-value",children:[d.disc_d||50,"%"]}),(0,Te.jsx)("p",{children:"Direct, results-oriented, decisive"})]}),(0,Te.jsxs)("div",{className:"disc-card influence",children:[(0,Te.jsx)("h3",{children:"I - Influence"}),(0,Te.jsx)("input",{type:"range",min:"0",max:"100",value:d.disc_i||50,onChange:e=>f("disc_i",e.target.value),disabled:!o}),(0,Te.jsxs)("div",{className:"disc-value",children:[d.disc_i||50,"%"]}),(0,Te.jsx)("p",{children:"Outgoing, enthusiastic, optimistic"})]}),(0,Te.jsxs)("div",{className:"disc-card steadiness",children:[(0,Te.jsx)("h3",{children:"S - Steadiness"}),(0,Te.jsx)("input",{type:"range",min:"0",max:"100",value:d.disc_s||50,onChange:e=>f("disc_s",e.target.value),disabled:!o}),(0,Te.jsxs)("div",{className:"disc-value",children:[d.disc_s||50,"%"]}),(0,Te.jsx)("p",{children:"Even-tempered, accommodating, patient"})]}),(0,Te.jsxs)("div",{className:"disc-card conscientiousness",children:[(0,Te.jsx)("h3",{children:"C - Conscientiousness"}),(0,Te.jsx)("input",{type:"range",min:"0",max:"100",value:d.disc_c||50,onChange:e=>f("disc_c",e.target.value),disabled:!o}),(0,Te.jsxs)("div",{className:"disc-value",children:[d.disc_c||50,"%"]}),(0,Te.jsx)("p",{children:"Analytical, reserved, precise"})]})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"DISC Summary"}),(0,Te.jsx)("textarea",{rows:"4",value:d.disc_summary||"",onChange:e=>f("disc_summary",e.target.value),disabled:!o,placeholder:"Summary of DISC assessment results and communication preferences..."})]})]}),"personal"===i&&(0,Te.jsxs)("div",{className:"tab-panel",children:[(0,Te.jsx)("h2",{children:"Personal Information"}),(0,Te.jsxs)("div",{className:"info-grid",children:[(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Birthday"}),(0,Te.jsx)("input",{type:"date",value:d.birthday||"",onChange:e=>f("birthday",e.target.value),disabled:!o})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Anniversary"}),(0,Te.jsx)("input",{type:"date",value:d.anniversary||"",onChange:e=>f("anniversary",e.target.value),disabled:!o})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Spouse/Partner Name"}),(0,Te.jsx)("input",{type:"text",value:d.spouse_name||"",onChange:e=>f("spouse_name",e.target.value),disabled:!o})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Children"}),(0,Te.jsx)("input",{type:"text",value:d.children||"",onChange:e=>f("children",e.target.value),disabled:!o,placeholder:"Names and ages"})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Hobbies"}),(0,Te.jsx)("input",{type:"text",value:d.hobbies||"",onChange:e=>f("hobbies",e.target.value),disabled:!o})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Emergency Contact"}),(0,Te.jsx)("input",{type:"text",value:d.emergency_contact||"",onChange:e=>f("emergency_contact",e.target.value),disabled:!o})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Emergency Phone"}),(0,Te.jsx)("input",{type:"tel",value:d.emergency_phone||"",onChange:e=>f("emergency_phone",e.target.value),disabled:!o})]})]})]}),"goals"===i&&(0,Te.jsxs)("div",{className:"tab-panel",children:[(0,Te.jsx)("h2",{children:"Personal & Professional Goals"}),(0,Te.jsxs)("div",{className:"goals-section",children:[(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Career Goals"}),(0,Te.jsx)("textarea",{rows:"4",value:d.career_goals||"",onChange:e=>f("career_goals",e.target.value),disabled:!o,placeholder:"Long-term career aspirations, desired positions, etc."})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Q1 Goals"}),(0,Te.jsx)("textarea",{rows:"3",value:d.q1_goals||"",onChange:e=>f("q1_goals",e.target.value),disabled:!o})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Q2 Goals"}),(0,Te.jsx)("textarea",{rows:"3",value:d.q2_goals||"",onChange:e=>f("q2_goals",e.target.value),disabled:!o})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Q3 Goals"}),(0,Te.jsx)("textarea",{rows:"3",value:d.q3_goals||"",onChange:e=>f("q3_goals",e.target.value),disabled:!o})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Q4 Goals"}),(0,Te.jsx)("textarea",{rows:"3",value:d.q4_goals||"",onChange:e=>f("q4_goals",e.target.value),disabled:!o})]}),(0,Te.jsxs)("div",{className:"info-field",children:[(0,Te.jsx)("label",{children:"Development Areas"}),(0,Te.jsx)("textarea",{rows:"4",value:d.development_areas||"",onChange:e=>f("development_areas",e.target.value),disabled:!o,placeholder:"Skills to develop, training needs, etc."})]})]})]})]})]}):(0,Te.jsx)("div",{className:"team-member-profile-page",children:(0,Te.jsx)("div",{className:"error",children:"Team member not found"})})};const Fs=function(){var e,t,n;const A=$(),[s,r]=(0,a.useState)("select"),[i,l]=(0,a.useState)(null),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)([]),[h,m]=(0,a.useState)({}),[p,g]=(0,a.useState)({}),[f,x]=(0,a.useState)(null),[v,y]=(0,a.useState)(!1),[w,B]=(0,a.useState)(null);(0,a.useEffect)(()=>{B(null)},[]);const j=e=>{const t=e.target.files[0];if(!t)return;["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(t.type)||t.name.endsWith(".csv")||t.name.endsWith(".xlsx")||t.name.endsWith(".xls")?(l(t),B(null)):B("Please upload a CSV or Excel file")},b=(e,t)=>{m(Wt(Wt({},h),{},{[e]:t}))},C=()=>{r("select"),l(null),c(null),u([]),m({}),g({}),x(null),B(null)},N={leads:[{value:"first_name",label:"First Name"},{value:"last_name",label:"Last Name"},{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"address",label:"Address"},{value:"city",label:"City"},{value:"state",label:"State"},{value:"zip_code",label:"Zip Code"},{value:"property_value",label:"Property Value"},{value:"loan_amount",label:"Loan Amount"},{value:"down_payment",label:"Down Payment"},{value:"employment_status",label:"Employment Status"},{value:"annual_income",label:"Annual Income"},{value:"credit_score",label:"Credit Score"},{value:"notes",label:"Notes"}],loans:[{value:"loan_number",label:"Loan Number"},{value:"borrower_name",label:"Borrower Name"},{value:"co_borrower_name",label:"Co-Borrower Name"},{value:"property_address",label:"Property Address"},{value:"loan_amount",label:"Loan Amount"},{value:"interest_rate",label:"Interest Rate"},{value:"loan_term",label:"Loan Term (months)"},{value:"loan_type",label:"Loan Type"},{value:"loan_purpose",label:"Loan Purpose"},{value:"closing_date",label:"Closing Date"},{value:"lender",label:"Lender"},{value:"processor",label:"Processor"},{value:"underwriter",label:"Underwriter"}],portfolio:[{value:"loan_number",label:"Loan Number"},{value:"borrower_name",label:"Borrower Name"},{value:"property_address",label:"Property Address"},{value:"original_loan_amount",label:"Original Loan Amount"},{value:"current_balance",label:"Current Balance"},{value:"interest_rate",label:"Interest Rate"},{value:"monthly_payment",label:"Monthly Payment"},{value:"origination_date",label:"Origination Date"},{value:"maturity_date",label:"Maturity Date"},{value:"last_payment_date",label:"Last Payment Date"},{value:"payment_status",label:"Payment Status"}]};return(0,Te.jsxs)("div",{className:"data-upload-page",children:[(0,Te.jsxs)("div",{className:"upload-header",children:[(0,Te.jsx)("button",{className:"btn-back",onClick:()=>A("/settings"),children:"\u2190 Back to Settings"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{children:"Data Management"}),(0,Te.jsx)("p",{children:"Upload CSV or Excel files to import data into your CRM"})]})]}),w&&(0,Te.jsxs)("div",{className:"error-banner",children:[(0,Te.jsx)("span",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,Te.jsx)("span",{children:w}),(0,Te.jsx)("button",{onClick:()=>B(null),children:"\xd7"})]}),(0,Te.jsxs)("div",{className:"upload-content",children:["select"===s&&(0,Te.jsxs)("div",{className:"upload-step",children:[(0,Te.jsxs)("div",{className:"step-header",children:[(0,Te.jsx)("h2",{children:"Step 1: Select File"}),(0,Te.jsx)("p",{children:"Choose a CSV or Excel file to upload"})]}),(0,Te.jsxs)("div",{className:"file-dropzone",onDrop:e=>{e.preventDefault(),e.stopPropagation();const t=e.dataTransfer.files[0];t&&j({target:{files:[t]}})},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,Te.jsx)("div",{className:"dropzone-icon",children:"\ud83d\udcc2"}),(0,Te.jsx)("h3",{children:"Drag & drop your file here"}),(0,Te.jsx)("p",{children:"or"}),(0,Te.jsxs)("label",{className:"btn-select-file",children:["Choose File",(0,Te.jsx)("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:j,style:{display:"none"}})]}),(0,Te.jsx)("p",{className:"file-hint",children:"Supported formats: CSV, Excel (.xlsx, .xls)"})]}),i&&(0,Te.jsxs)("div",{className:"selected-file-card",children:[(0,Te.jsxs)("div",{className:"file-info",children:[(0,Te.jsx)("span",{className:"file-icon",children:"\ud83d\udcc4"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"file-name",children:i.name}),(0,Te.jsxs)("div",{className:"file-size",children:[(i.size/1024).toFixed(2)," KB"]})]})]}),(0,Te.jsx)("button",{className:"btn-primary",onClick:async()=>{if(i){y(!0),r("analyzing"),B(null);try{const e=new FormData;e.append("file",i);const t=await fetch("/api/v1/data-import/analyze",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:e});if(!t.ok){const e=await t.json().catch(()=>({}));throw new Error(e.detail||"Server error: ".concat(t.status))}const n=await t.json();c(n.preview),u(n.questions||[]),g(n.suggested_mappings||{}),r("questions")}catch(e){console.error("Analysis error:",e);let t="Failed to analyze file. Please try again.";e.message.includes("Failed to fetch")?t="Unable to connect to server. Please check your internet connection and try again.":e.message&&(t=e.message),B(t),r("select")}finally{y(!1)}}},children:"Analyze File \u2192"})]})]}),"analyzing"===s&&(0,Te.jsx)("div",{className:"upload-step",children:(0,Te.jsxs)("div",{className:"analyzing-card",children:[(0,Te.jsx)("div",{className:"spinner"}),(0,Te.jsx)("h2",{children:"Analyzing your data..."}),(0,Te.jsx)("p",{children:"AI is reviewing your file and preparing questions"})]})}),"questions"===s&&(0,Te.jsxs)("div",{className:"upload-step",children:[(0,Te.jsxs)("div",{className:"step-header",children:[(0,Te.jsx)("h2",{children:"Step 2: Answer Questions"}),(0,Te.jsx)("p",{children:"Help AI understand your data by answering these questions"})]}),(0,Te.jsxs)("div",{className:"data-preview-card",children:[(0,Te.jsx)("h3",{children:"Data Preview"}),(0,Te.jsx)("p",{children:"First 5 rows of your file:"}),(0,Te.jsx)("div",{className:"preview-table-container",children:(0,Te.jsxs)("table",{className:"preview-table",children:[(0,Te.jsx)("thead",{children:(0,Te.jsx)("tr",{children:null===o||void 0===o||null===(e=o.headers)||void 0===e?void 0:e.map((e,t)=>(0,Te.jsx)("th",{children:e},t))})}),(0,Te.jsx)("tbody",{children:null===o||void 0===o||null===(t=o.rows)||void 0===t?void 0:t.slice(0,5).map((e,t)=>(0,Te.jsx)("tr",{children:e.map((e,t)=>(0,Te.jsx)("td",{children:e},t))},t))})]})}),(0,Te.jsxs)("p",{className:"preview-stats",children:["Total rows: ",(null===o||void 0===o?void 0:o.total_rows)||0]})]}),(0,Te.jsxs)("div",{className:"questions-card",children:[(0,Te.jsx)("h3",{children:"Questions"}),d.map((e,t)=>(0,Te.jsxs)("div",{className:"question-item",children:[(0,Te.jsx)("label",{className:"question-label",children:e.question}),"choice"===e.type?(0,Te.jsx)("div",{className:"choice-options",children:e.options.map((t,n)=>(0,Te.jsxs)("button",{className:"choice-btn ".concat(h[e.id]===t.value?"selected":""),onClick:()=>b(e.id,t.value),children:[(0,Te.jsx)("span",{className:"choice-icon",children:t.icon}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"choice-label",children:t.label}),(0,Te.jsx)("div",{className:"choice-description",children:t.description})]})]},n))}):(0,Te.jsx)("input",{type:"text",className:"text-input",placeholder:e.placeholder,value:h[e.id]||"",onChange:t=>b(e.id,t.target.value)})]},t))]}),(0,Te.jsxs)("div",{className:"step-actions",children:[(0,Te.jsx)("button",{className:"btn-secondary",onClick:C,children:"Cancel"}),(0,Te.jsx)("button",{className:"btn-primary",onClick:()=>{r("mapping")},disabled:d.some(e=>!h[e.id]),children:"Next: Map Columns \u2192"})]})]}),"mapping"===s&&(0,Te.jsxs)("div",{className:"upload-step",children:[(0,Te.jsxs)("div",{className:"step-header",children:[(0,Te.jsx)("h2",{children:"Step 3: Map Columns"}),(0,Te.jsx)("p",{children:"Match your file columns to CRM fields"})]}),(0,Te.jsxs)("div",{className:"mapping-card",children:[(0,Te.jsxs)("div",{className:"mapping-info",children:[(0,Te.jsx)("span",{className:"info-icon",children:"\ud83d\udca1"}),(0,Te.jsx)("p",{children:"AI has suggested mappings based on your data. Review and adjust as needed."})]}),(0,Te.jsx)("div",{className:"mapping-grid",children:null===o||void 0===o||null===(n=o.headers)||void 0===n?void 0:n.map((e,t)=>{var n,a;return(0,Te.jsxs)("div",{className:"mapping-row",children:[(0,Te.jsxs)("div",{className:"source-column",children:[(0,Te.jsx)("span",{className:"column-label",children:"Your Column:"}),(0,Te.jsx)("span",{className:"column-name",children:e}),(0,Te.jsxs)("span",{className:"sample-value",children:["Sample: ",(null===(n=o.rows[0])||void 0===n?void 0:n[t])||"N/A"]})]}),(0,Te.jsx)("div",{className:"mapping-arrow",children:"\u2192"}),(0,Te.jsx)("div",{className:"target-column",children:(0,Te.jsxs)("select",{className:"mapping-select",value:p[e]||"",onChange:t=>{return n=e,a=t.target.value,void g(Wt(Wt({},p),{},{[n]:a}));var n,a},children:[(0,Te.jsx)("option",{value:"",children:"Skip this column"}),(0,Te.jsx)("optgroup",{label:"Lead Fields",children:null===(a=N[h.destination?h.destination:"leads"])||void 0===a?void 0:a.map(e=>(0,Te.jsx)("option",{value:e.value,children:e.label},e.value))})]})})]},t)})})]}),(0,Te.jsxs)("div",{className:"step-actions",children:[(0,Te.jsx)("button",{className:"btn-secondary",onClick:()=>r("questions"),children:"\u2190 Back"}),(0,Te.jsx)("button",{className:"btn-primary",onClick:async()=>{y(!0),r("importing"),B(null);try{const e=new FormData;e.append("file",i),e.append("answers",JSON.stringify(h)),e.append("mappings",JSON.stringify(p));const t=await fetch("/api/v1/data-import/execute",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:e});if(!t.ok){const e=await t.json().catch(()=>({}));throw new Error(e.detail||"Server error: ".concat(t.status))}const n=await t.json();x(n),r("complete")}catch(e){console.error("Import error:",e);let t="Failed to import data. Please try again.";e.message.includes("Failed to fetch")?t="Unable to connect to server. Please check your internet connection and try again.":e.message&&(t=e.message),B(t),r("mapping")}finally{y(!1)}},disabled:0===Object.keys(p).filter(e=>p[e]).length,children:"Import Data \u2192"})]})]}),"importing"===s&&(0,Te.jsx)("div",{className:"upload-step",children:(0,Te.jsxs)("div",{className:"importing-card",children:[(0,Te.jsx)("div",{className:"spinner"}),(0,Te.jsx)("h2",{children:"Importing your data..."}),(0,Te.jsx)("p",{children:"Please wait while we add records to your CRM"})]})}),"complete"===s&&(0,Te.jsx)("div",{className:"upload-step",children:(0,Te.jsxs)("div",{className:"complete-card",children:[(0,Te.jsx)("div",{className:"success-icon",children:"\u2713"}),(0,Te.jsx)("h2",{children:"Import Complete!"}),(0,Te.jsx)("p",{children:"Your data has been successfully imported"}),(0,Te.jsxs)("div",{className:"results-summary",children:[(0,Te.jsxs)("div",{className:"result-stat",children:[(0,Te.jsx)("div",{className:"stat-value",children:(null===f||void 0===f?void 0:f.total)||0}),(0,Te.jsx)("div",{className:"stat-label",children:"Total Records"})]}),(0,Te.jsxs)("div",{className:"result-stat success",children:[(0,Te.jsx)("div",{className:"stat-value",children:(null===f||void 0===f?void 0:f.imported)||0}),(0,Te.jsx)("div",{className:"stat-label",children:"Imported"})]}),(0,Te.jsxs)("div",{className:"result-stat error",children:[(0,Te.jsx)("div",{className:"stat-value",children:(null===f||void 0===f?void 0:f.failed)||0}),(0,Te.jsx)("div",{className:"stat-label",children:"Failed"})]})]}),(null===f||void 0===f?void 0:f.destination)&&(0,Te.jsx)("div",{className:"destination-info",children:(0,Te.jsxs)("p",{children:["Data was imported to: ",(0,Te.jsx)("strong",{children:f.destination})]})}),(null===f||void 0===f?void 0:f.errors)&&f.errors.length>0&&(0,Te.jsxs)("div",{className:"errors-section",children:[(0,Te.jsx)("h3",{children:"Errors"}),(0,Te.jsx)("ul",{className:"error-list",children:f.errors.slice(0,10).map((e,t)=>(0,Te.jsx)("li",{children:e},t))}),f.errors.length>10&&(0,Te.jsxs)("p",{className:"more-errors",children:["...and ",f.errors.length-10," more errors"]})]}),(0,Te.jsxs)("div",{className:"complete-actions",children:[(0,Te.jsx)("button",{className:"btn-secondary",onClick:C,children:"Upload Another File"}),(0,Te.jsx)("button",{className:"btn-primary",onClick:()=>A("/leads"),children:"View Imported Data \u2192"})]})]})})]})]})},Us=[{id:1,name:"Loan Officer",taskCount:1},{id:2,name:"Application Analysis",taskCount:1},{id:3,name:"Production Assistant 1",taskCount:1},{id:4,name:"Production Assistant 2",taskCount:1},{id:5,name:"Processing Assistant",taskCount:1},{id:6,name:"Concierge",taskCount:1},{id:7,name:"Executive Assistant",taskCount:1},{id:8,name:"Loan Processor",taskCount:1},{id:9,name:"Underwriter",taskCount:1},{id:10,name:"Closer",taskCount:1},{id:11,name:"Funder",taskCount:1},{id:12,name:"Servicing",taskCount:1}];function Ss(e){let{onClose:t,onAdd:n}=e;const[A,s]=(0,a.useState)("");return(0,Te.jsx)("div",{className:"modal-overlay",onClick:t,children:(0,Te.jsxs)("div",{className:"modal-content small-modal",onClick:e=>e.stopPropagation(),children:[(0,Te.jsx)("h3",{children:"Add New Role"}),(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault(),A.trim()&&n(A.trim())},children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Role Name *"}),(0,Te.jsx)("input",{type:"text",value:A,onChange:e=>s(e.target.value),placeholder:"e.g., Junior Loan Officer",required:!0,autoFocus:!0})]}),(0,Te.jsxs)("div",{className:"form-actions",children:[(0,Te.jsx)("button",{type:"button",onClick:t,children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"btn-primary",children:"Add Role"})]})]})]})})}function ks(e){let{onClose:t,onAdd:n,availableRoles:A}=e;const[s,r]=(0,a.useState)({firstName:"",lastName:"",email:"",phone:"",role:""});return(0,Te.jsx)("div",{className:"modal-overlay",onClick:t,children:(0,Te.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Te.jsx)("h3",{children:"Add Team Member"}),(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(s)},children:[(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"First Name *"}),(0,Te.jsx)("input",{type:"text",value:s.firstName,onChange:e=>r(Wt(Wt({},s),{},{firstName:e.target.value})),required:!0})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Last Name *"}),(0,Te.jsx)("input",{type:"text",value:s.lastName,onChange:e=>r(Wt(Wt({},s),{},{lastName:e.target.value})),required:!0})]})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Email *"}),(0,Te.jsx)("input",{type:"email",value:s.email,onChange:e=>r(Wt(Wt({},s),{},{email:e.target.value})),required:!0})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Phone"}),(0,Te.jsx)("input",{type:"tel",value:s.phone,onChange:e=>r(Wt(Wt({},s),{},{phone:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Role"}),(0,Te.jsxs)("select",{value:s.role,onChange:e=>r(Wt(Wt({},s),{},{role:e.target.value})),children:[(0,Te.jsx)("option",{value:"",children:"Select Role"}),A.map(e=>(0,Te.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,Te.jsxs)("div",{className:"form-actions",children:[(0,Te.jsx)("button",{type:"button",onClick:t,children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"btn-primary",children:"Add Member"})]})]})]})})}function Es(e){let{member:t,onClose:n,onUpdate:A,onDelete:s,availableRoles:r}=e;const[i,l]=(0,a.useState)({firstName:t.firstName||"",lastName:t.lastName||"",email:t.email||"",phone:t.phone||"",role:t.role||""});return(0,Te.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,Te.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Te.jsx)("h3",{children:"Edit Team Member"}),(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault(),A(t.id,i)},children:[(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"First Name *"}),(0,Te.jsx)("input",{type:"text",value:i.firstName,onChange:e=>l(Wt(Wt({},i),{},{firstName:e.target.value})),required:!0})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Last Name *"}),(0,Te.jsx)("input",{type:"text",value:i.lastName,onChange:e=>l(Wt(Wt({},i),{},{lastName:e.target.value})),required:!0})]})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Email *"}),(0,Te.jsx)("input",{type:"email",value:i.email,onChange:e=>l(Wt(Wt({},i),{},{email:e.target.value})),required:!0})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Phone"}),(0,Te.jsx)("input",{type:"tel",value:i.phone,onChange:e=>l(Wt(Wt({},i),{},{phone:e.target.value}))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Role"}),(0,Te.jsxs)("select",{value:i.role,onChange:e=>l(Wt(Wt({},i),{},{role:e.target.value})),children:[(0,Te.jsx)("option",{value:"",children:"Select Role"}),r.map(e=>(0,Te.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,Te.jsxs)("div",{className:"form-actions",children:[(0,Te.jsx)("button",{type:"button",className:"btn-delete",onClick:()=>{s(t.id),n()},children:"Delete Member"}),(0,Te.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,Te.jsx)("button",{type:"button",onClick:n,children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"btn-primary",children:"Save Changes"})]})]})]})]})})}const _s=function(){const[e,t]=(0,a.useState)([]),[n,A]=(0,a.useState)(Us),[s,r]=(0,a.useState)(!0),[i,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null);(0,a.useEffect)(()=>{h(),m()},[]);const h=()=>{try{localStorage.setItem("teamMembers",JSON.stringify([])),t([])}catch(e){console.error("Failed to load team members:",e),t([])}finally{r(!1)}},m=()=>{try{const e=localStorage.getItem("availableRoles");e?A(JSON.parse(e)):localStorage.setItem("availableRoles",JSON.stringify(Us))}catch(e){console.error("Failed to load roles:",e),A(Us)}},p=e=>{localStorage.setItem("teamMembers",JSON.stringify(e)),t(e)},g=e=>{localStorage.setItem("availableRoles",JSON.stringify(e)),A(e)};return s?(0,Te.jsx)("div",{className:"users-page",children:(0,Te.jsx)("div",{className:"loading",children:"Loading team members..."})}):(0,Te.jsxs)("div",{className:"users-page",children:[(0,Te.jsx)("div",{className:"page-header",children:(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{children:"Team Members"}),(0,Te.jsx)("p",{children:"Manage your team members and their role assignments"})]})}),(0,Te.jsxs)("div",{className:"roles-section",children:[(0,Te.jsxs)("div",{className:"section-header",children:[(0,Te.jsx)("h2",{children:"Available Roles"}),(0,Te.jsx)("button",{className:"btn-add-role",onClick:()=>c(!0),children:"+ Add Role"})]}),(0,Te.jsx)("div",{className:"roles-grid",children:n.map(e=>(0,Te.jsxs)("div",{className:"role-card",children:[(0,Te.jsxs)("div",{className:"role-header",children:[(0,Te.jsx)("h3",{children:e.name}),(0,Te.jsx)("button",{className:"btn-delete-role",onClick:()=>(e=>{if(!window.confirm("Are you sure you want to delete this role?"))return;const t=n.filter(t=>t.id!==e);g(t)})(e.id),title:"Delete role",children:"\xd7"})]}),(0,Te.jsxs)("p",{className:"role-tasks",children:[e.taskCount," tasks"]}),(0,Te.jsxs)("p",{className:"role-description",children:["Loan Officer"===e.name&&"Assist customers in selecting and applying for a mortgage loan and initial document...","Loan Processor"===e.name&&"Verify information on mortgage applications and ensure all necessary documents are...","Underwriter"===e.name&&"Assess risk of loan applications and decide on approval or denial."]})]},e.id))})]}),(0,Te.jsxs)("div",{className:"team-members-section",children:[(0,Te.jsxs)("div",{className:"section-header",children:[(0,Te.jsxs)("h2",{children:["Team Members (",e.length,")"]}),(0,Te.jsx)("div",{className:"header-actions",children:(0,Te.jsx)("button",{className:"btn-add-member",onClick:()=>l(!0),children:"+ Add Team Member"})})]}),e.length>0?(0,Te.jsx)("div",{className:"members-grid",children:e.map(e=>{var t,n;return(0,Te.jsxs)("div",{className:"member-card",children:[(0,Te.jsx)("div",{className:"member-avatar",children:((null===(t=e.firstName)||void 0===t?void 0:t[0])||"")+((null===(n=e.lastName)||void 0===n?void 0:n[0])||"")}),(0,Te.jsxs)("div",{className:"member-info",children:[(0,Te.jsxs)("h3",{children:[e.firstName," ",e.lastName]}),(0,Te.jsx)("p",{className:"member-email",children:e.email}),e.role&&(0,Te.jsxs)("span",{className:"role-badge-small",children:["Role: ",e.role]})]}),(0,Te.jsx)("div",{className:"member-actions",children:(0,Te.jsx)("button",{className:"btn-view-profile",onClick:()=>u(e),children:"View Profile \u2192"})})]},e.id)})}):(0,Te.jsx)("div",{className:"empty-state",children:(0,Te.jsx)("p",{children:'No team members added yet. Click "Add Team Member" to get started.'})})]}),o&&(0,Te.jsx)(Ss,{onClose:()=>c(!1),onAdd:e=>{const t={id:Date.now(),name:e,taskCount:0},a=[...n,t];g(a),c(!1)}}),i&&(0,Te.jsx)(ks,{onClose:()=>l(!1),onAdd:t=>{const n=Wt(Wt({id:Date.now()},t),{},{createdAt:(new Date).toISOString()}),a=[...e,n];p(a),l(!1)},availableRoles:n}),d&&(0,Te.jsx)(Es,{member:d,onClose:()=>u(null),onUpdate:(t,n)=>{const a=e.map(e=>e.id===t?Wt(Wt({},e),n):e);p(a),u(null)},onDelete:t=>{if(!window.confirm("Are you sure you want to remove this team member?"))return;const n=e.filter(e=>e.id!==t);p(n)},availableRoles:n})]})};const Is=function(){const{userId:e,id:t}=ee(),n=e||t,A=$(),[s,r]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null),[o,c]=(0,a.useState)(null);(0,a.useEffect)(()=>{d()},[n]);const d=async()=>{r(!0),c(null);try{const e=await rA(n);l(e)}catch(e){console.error("Error loading member data:",e),c("Failed to load member profile")}finally{r(!1)}},u=()=>{const e=localStorage.getItem("originalUser");e&&(localStorage.setItem("user",e),localStorage.removeItem("originalUser"),localStorage.removeItem("viewAsUserId"),alert("Returning to your own view"),A("/"),window.location.reload())};if(s)return(0,Te.jsx)("div",{className:"user-profile-container",children:(0,Te.jsx)("div",{className:"loading-state",children:"Loading profile..."})});if(o||!i)return(0,Te.jsx)("div",{className:"user-profile-container",children:(0,Te.jsxs)("div",{className:"error-state",children:[(0,Te.jsx)("p",{children:o||"User not found"}),(0,Te.jsx)("button",{onClick:()=>A("/settings"),className:"btn-back",children:"\u2190 Back to Settings"})]})});const{user:h,roles_with_tasks:m}=i,p=null!==localStorage.getItem("viewAsUserId");return(0,Te.jsxs)("div",{className:"user-profile-container",children:[p&&(0,Te.jsxs)("div",{className:"view-as-banner",children:[(0,Te.jsx)("span",{className:"banner-icon",children:"\ud83d\udc41\ufe0f"}),(0,Te.jsx)("span",{className:"banner-text",children:"You are viewing the CRM as this user"}),(0,Te.jsx)("button",{onClick:u,className:"banner-btn",children:"Exit View Mode"})]}),(0,Te.jsxs)("div",{className:"profile-header",children:[(0,Te.jsx)("button",{onClick:()=>A("/settings"),className:"btn-back",children:"\u2190 Back to Team"}),(0,Te.jsxs)("div",{className:"header-content",children:[(0,Te.jsx)("div",{className:"profile-avatar-large",children:h.full_name?h.full_name.charAt(0).toUpperCase():h.email.charAt(0).toUpperCase()}),(0,Te.jsxs)("div",{className:"profile-info",children:[(0,Te.jsx)("h1",{children:h.full_name||h.email}),(0,Te.jsx)("p",{className:"profile-email",children:h.email}),(0,Te.jsxs)("div",{className:"profile-meta",children:[(0,Te.jsxs)("span",{className:"meta-item",children:["\ud83d\udc64 User ID: ",h.id]}),h.created_at&&(0,Te.jsxs)("span",{className:"meta-item",children:["\ud83d\udcc5 Joined: ",new Date(h.created_at).toLocaleDateString()]}),h.onboarding_completed&&(0,Te.jsx)("span",{className:"status-badge completed",children:"\u2713 Onboarded"})]})]})]}),(0,Te.jsx)("div",{className:"profile-actions",children:p?(0,Te.jsx)("button",{onClick:u,className:"btn-exit-view-as",children:"\ud83d\udd19 Exit View As User"}):(0,Te.jsx)("button",{onClick:()=>{const e=localStorage.getItem("user");localStorage.setItem("originalUser",e),localStorage.setItem("viewAsUserId",n),alert("Switching to view as user ".concat(i.user.email,". You will now see the CRM from their perspective.")),A("/"),window.location.reload()},className:"btn-view-as-user",children:"\ud83d\udc41\ufe0f View as This User"})})]}),(0,Te.jsxs)("div",{className:"profile-content",children:[(0,Te.jsx)("h2",{children:"Assigned Roles & Tasks"}),m&&m.length>0?(0,Te.jsx)("div",{className:"roles-tasks-container",children:m.map(e=>{let{role:t,tasks:n}=e;return(0,Te.jsxs)("div",{className:"role-task-section",children:[(0,Te.jsx)("div",{className:"role-section-header",children:(0,Te.jsxs)("div",{className:"role-info-header",children:[(0,Te.jsx)("h3",{children:t.role_title}),(0,Te.jsx)("span",{className:"role-badge",children:t.role_name}),(0,Te.jsxs)("span",{className:"tasks-count-badge",children:[n.length," tasks"]})]})}),t.responsibilities&&(0,Te.jsxs)("div",{className:"role-responsibilities",children:[(0,Te.jsx)("h4",{children:"Responsibilities"}),(0,Te.jsx)("p",{children:t.responsibilities})]}),t.skills_required&&t.skills_required.length>0&&(0,Te.jsxs)("div",{className:"role-skills",children:[(0,Te.jsx)("h4",{children:"Required Skills"}),(0,Te.jsx)("div",{className:"skills-tags",children:t.skills_required.map((e,t)=>(0,Te.jsx)("span",{className:"skill-tag",children:e},t))})]}),(0,Te.jsxs)("div",{className:"tasks-list",children:[(0,Te.jsxs)("h4",{children:["Tasks (",n.length,")"]}),(0,Te.jsx)("div",{className:"tasks-grid-profile",children:n.map((e,t)=>(0,Te.jsxs)("div",{className:"task-card-profile",children:[(0,Te.jsxs)("div",{className:"task-card-header",children:[(0,Te.jsx)("span",{className:"task-index",children:t+1}),(0,Te.jsx)("h5",{children:e.task_name})]}),e.task_description&&(0,Te.jsx)("p",{className:"task-description-profile",children:e.task_description}),(0,Te.jsxs)("div",{className:"task-meta-badges",children:[e.estimated_duration&&(0,Te.jsxs)("span",{className:"task-meta-badge",children:["\u23f1\ufe0f ",e.estimated_duration,"min"]}),e.sla&&(0,Te.jsxs)("span",{className:"task-meta-badge",children:["\u23f0 ",e.sla,e.sla_unit]}),e.ai_automatable&&(0,Te.jsx)("span",{className:"task-meta-badge ai",children:"\ud83e\udd16 AI Auto"}),e.is_required&&(0,Te.jsx)("span",{className:"task-meta-badge required",children:"Required"})]})]},e.id))})]})]},t.id)})}):(0,Te.jsx)("div",{className:"empty-roles-state",children:(0,Te.jsx)("p",{children:"No roles or tasks assigned yet. Complete the onboarding process to assign roles and tasks to team members."})})]})]})};const Hs=function(){const[e,t]=(0,a.useState)([]),[n,A]=(0,a.useState)([]),[s,r]=(0,a.useState)(""),[i,l]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(null),[p,g]=(0,a.useState)(!1),[f,x]=(0,a.useState)({role_name:"",task_title:"",task_description:"",sequence_order:0,estimated_duration:30,is_required:!0});(0,a.useEffect)(()=>{v()},[]),(0,a.useEffect)(()=>{s&&y(s)},[s]);const v=async()=>{try{l(!0);const e=await za();if(0===e.length){await $a();const e=await za();t(e),e.length>0&&r(e[0])}else t(e),e.length>0&&r(e[0])}catch(e){console.error("Error loading data:",e)}finally{l(!1)}},y=async e=>{try{const t=await Ja(e);A(t)}catch(t){console.error("Error loading templates:",t)}},w=async(e,t)=>{try{await Xa(e,t),await y(s),c(null)}catch(n){console.error("Error updating task:",n),alert("Failed to update task")}},B=e=>{switch(e){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#3b82f6";case"info":return"#10b981";default:return"#6b7280"}};return i?(0,Te.jsx)("div",{className:"process-templates-container",children:"Loading..."}):(0,Te.jsxs)("div",{className:"process-templates-container",children:[(0,Te.jsxs)("div",{className:"page-header",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{children:"Process Templates"}),(0,Te.jsx)("p",{children:"Manage role-based tasks and optimize your workflow"})]}),(0,Te.jsxs)("div",{className:"header-actions",children:[(0,Te.jsx)("button",{className:"btn-analyze",onClick:async()=>{try{g(!0);const e=await Za(s);m(e)}catch(e){console.error("Error analyzing efficiency:",e)}finally{g(!1)}},disabled:p,children:p?"Analyzing...":"\ud83e\udd16 AI Efficiency Analysis"}),(0,Te.jsx)("button",{className:"btn-add",onClick:()=>u(!0),children:"+ Add Task"})]})]}),(0,Te.jsx)("div",{className:"role-tabs",children:e.map(e=>(0,Te.jsx)("button",{className:"role-tab ".concat(s===e?"active":""),onClick:()=>r(e),children:e},e))}),h&&(0,Te.jsxs)("div",{className:"efficiency-analysis",children:[(0,Te.jsxs)("div",{className:"analysis-header",children:[(0,Te.jsx)("h3",{children:"AI Efficiency Analysis"}),(0,Te.jsx)("button",{onClick:()=>m(null),children:"\xd7"})]}),(0,Te.jsxs)("div",{className:"analysis-summary",children:[(0,Te.jsxs)("div",{className:"summary-stat",children:[(0,Te.jsx)("span",{className:"label",children:"Total Tasks:"}),(0,Te.jsx)("span",{className:"value",children:h.total_templates})]}),(0,Te.jsxs)("div",{className:"summary-stat",children:[(0,Te.jsx)("span",{className:"label",children:"Roles Analyzed:"}),(0,Te.jsx)("span",{className:"value",children:h.roles_analyzed.length})]})]}),(0,Te.jsx)("div",{className:"suggestions-list",children:h.suggestions.map((e,t)=>(0,Te.jsxs)("div",{className:"suggestion-card ".concat(e.type),style:{borderLeftColor:B(e.severity)},children:[(0,Te.jsxs)("div",{className:"suggestion-header",children:[(0,Te.jsx)("h4",{children:e.title}),(0,Te.jsx)("span",{className:"severity-badge ".concat(e.severity),children:e.severity})]}),(0,Te.jsx)("p",{className:"suggestion-description",children:e.description}),(0,Te.jsxs)("p",{className:"suggestion-impact",children:[(0,Te.jsx)("strong",{children:"Impact:"})," ",e.impact]}),e.tasks_affected&&e.tasks_affected.length>0&&(0,Te.jsxs)("div",{className:"affected-tasks",children:[(0,Te.jsx)("strong",{children:"Affected Tasks:"}),(0,Te.jsx)("ul",{children:e.tasks_affected.map((e,t)=>(0,Te.jsx)("li",{children:e},t))})]}),e.efficiency_score&&(0,Te.jsxs)("div",{className:"efficiency-score",children:[(0,Te.jsx)("div",{className:"score-bar",children:(0,Te.jsx)("div",{className:"score-fill",style:{width:"".concat(e.efficiency_score,"%"),backgroundColor:e.efficiency_score>=70?"#10b981":"#f59e0b"}})}),(0,Te.jsxs)("span",{className:"score-text",children:[e.efficiency_score,"%"]})]})]},t))})]}),d&&(0,Te.jsx)("div",{className:"modal-overlay",onClick:()=>u(!1),children:(0,Te.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Te.jsxs)("h3",{children:["Add New Task for ",s]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Task Title *"}),(0,Te.jsx)("input",{type:"text",value:f.task_title,onChange:e=>x(Wt(Wt({},f),{},{task_title:e.target.value})),placeholder:"Enter task title"})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Description"}),(0,Te.jsx)("textarea",{value:f.task_description,onChange:e=>x(Wt(Wt({},f),{},{task_description:e.target.value})),placeholder:"Enter task description",rows:"3"})]}),(0,Te.jsxs)("div",{className:"form-row",children:[(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Sequence Order"}),(0,Te.jsx)("input",{type:"number",value:f.sequence_order,onChange:e=>x(Wt(Wt({},f),{},{sequence_order:parseInt(e.target.value)}))})]}),(0,Te.jsxs)("div",{className:"form-group",children:[(0,Te.jsx)("label",{children:"Est. Duration (min)"}),(0,Te.jsx)("input",{type:"number",value:f.estimated_duration,onChange:e=>x(Wt(Wt({},f),{},{estimated_duration:parseInt(e.target.value)}))})]})]}),(0,Te.jsx)("div",{className:"form-group",children:(0,Te.jsxs)("label",{children:[(0,Te.jsx)("input",{type:"checkbox",checked:f.is_required,onChange:e=>x(Wt(Wt({},f),{},{is_required:e.target.checked}))}),"Required Task"]})}),(0,Te.jsxs)("div",{className:"modal-actions",children:[(0,Te.jsx)("button",{className:"btn-secondary",onClick:()=>u(!1),children:"Cancel"}),(0,Te.jsx)("button",{className:"btn-primary",onClick:async()=>{try{await Ya(Wt(Wt({},f),{},{role_name:s})),await v(),await y(s),u(!1),x({role_name:"",task_title:"",task_description:"",sequence_order:0,estimated_duration:30,is_required:!0})}catch(e){console.error("Error adding task:",e),alert("Failed to add task")}},children:"Add Task"})]})]})}),(0,Te.jsxs)("div",{className:"tasks-container",children:[(0,Te.jsxs)("div",{className:"tasks-header",children:[(0,Te.jsxs)("h2",{children:[s," Tasks"]}),(0,Te.jsxs)("div",{className:"tasks-summary",children:[(0,Te.jsxs)("span",{children:[n.length," tasks"]}),(0,Te.jsx)("span",{children:"\xb7"}),(0,Te.jsxs)("span",{children:[n.reduce((e,t)=>e+(t.estimated_duration||0),0)," min total"]})]})]}),(0,Te.jsxs)("div",{className:"tasks-list",children:[n.map(e=>(0,Te.jsx)("div",{className:"task-card",children:o===e.id?(0,Te.jsxs)("div",{className:"task-edit-form",children:[(0,Te.jsx)("input",{type:"text",defaultValue:e.task_title,onBlur:t=>w(e.id,{task_title:t.target.value}),autoFocus:!0}),(0,Te.jsx)("textarea",{defaultValue:e.task_description||"",onBlur:t=>w(e.id,{task_description:t.target.value}),rows:"2"}),(0,Te.jsx)("div",{className:"edit-actions",children:(0,Te.jsx)("button",{className:"btn-save",onClick:()=>c(null),children:"Done"})})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"task-number",children:e.sequence_order}),(0,Te.jsxs)("div",{className:"task-content",children:[(0,Te.jsxs)("div",{className:"task-header",children:[(0,Te.jsx)("h3",{children:e.task_title}),e.is_required&&(0,Te.jsx)("span",{className:"required-badge",children:"Required"})]}),e.task_description&&(0,Te.jsx)("p",{className:"task-description",children:e.task_description}),(0,Te.jsxs)("div",{className:"task-meta",children:[e.estimated_duration&&(0,Te.jsxs)("span",{className:"meta-item",children:["\u23f1\ufe0f ",e.estimated_duration," min"]}),e.automation_potential&&(0,Te.jsxs)("span",{className:"meta-item",children:["\ud83e\udd16 ",e.automation_potential," automation"]})]}),e.efficiency_notes&&(0,Te.jsxs)("div",{className:"efficiency-notes",children:["\ud83d\udca1 ",e.efficiency_notes]})]}),(0,Te.jsxs)("div",{className:"task-actions",children:[(0,Te.jsx)("button",{className:"btn-icon",onClick:()=>c(e.id),title:"Edit task",children:"\u270f\ufe0f"}),(0,Te.jsx)("button",{className:"btn-icon delete",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this task?"))try{await qa(e),await y(s)}catch(t){console.error("Error deleting task:",t),alert("Failed to delete task")}})(e.id),title:"Delete task",children:"\ud83d\uddd1\ufe0f"})]})]})},e.id)),0===n.length&&(0,Te.jsxs)("div",{className:"no-tasks",children:[(0,Te.jsx)("p",{children:"No tasks defined for this role yet."}),(0,Te.jsx)("button",{className:"btn-add",onClick:()=>u(!0),children:"Add First Task"})]})]})]})]})};function Ts(){$();const[e,t]=(0,a.useState)(!1),[n,A]=(0,a.useState)({firstName:"",lastName:"",email:"",phone:"",preferredContact:"Text",occupancy:"Primary Residence",timeframe:"0\u201330 days",location:"",priceTarget:"",downPayment:"",downType:"%",monthlyComfort:"",creditRange:"700\u2013739",firstTimeBuyer:"Yes",vaEligible:"No",employmentType:"W2",householdIncome:"",liquidAssets:"",selfEmployed:"No",dateOfBirth:"",ssn:"",employer:"",yearsWithEmployer:"",hasCoborrower:"No",coFirstName:"",coLastName:"",coEmail:"",coPhone:"",coPreferredContact:"Text",coDateOfBirth:"",coSSN:"",coCreditRange:"700\u2013739",coEmploymentType:"W2",coEmployer:"",coYearsWithEmployer:"",coIncome:"",hasAgent:"Yes",agentName:"",agentEmail:"",letterType:"Full Pre\u2011Approval",communicationPrefs:["Text","Email"],softCreditOk:!1,contactConsent:!1,notes:""}),s=["760+","740\u2013759","700\u2013739","660\u2013699","620\u2013659","<620","Unsure"],r=e=>{const{name:t,value:n,type:a,checked:s}=e.target;if("checkbox"===a&&"softCreditOk"===t)A(e=>Wt(Wt({},e),{},{softCreditOk:s}));else if("checkbox"===a&&"contactConsent"===t)A(e=>Wt(Wt({},e),{},{contactConsent:s}));else if("ssn"===t||"coSSN"===t){const e=n.replace(/\D/g,"");let a=e;e.length>3&&(a=e.slice(0,3)+"-"+e.slice(3)),e.length>5&&(a=e.slice(0,3)+"-"+e.slice(3,5)+"-"+e.slice(5,9)),A(e=>Wt(Wt({},e),{},{[t]:a}))}else A(e=>Wt(Wt({},e),{},{[t]:n}))};return(0,Te.jsx)("div",{className:"buyer-intake-page",children:(0,Te.jsxs)("div",{className:"buyer-intake-container",children:[(0,Te.jsxs)("div",{className:"intake-header",children:[(0,Te.jsx)("h1",{children:"Buyer's Quick Start"}),(0,Te.jsx)("p",{children:"A short intake to kick off your pre\u2011approval. Takes ~2 minutes."})]}),(0,Te.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const a=[];if(n.firstName&&n.lastName||a.push("Name is required"),/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(n.email)||a.push("Valid email required"),/^[0-9\-()+\s]{7,}$/.test(n.phone)||a.push("Valid phone required"),n.priceTarget||a.push("Price target required"),a.length)return void alert("Please fix:\n"+a.join("\n"));t(!0);const A={contact:{first_name:n.firstName.trim(),last_name:n.lastName.trim(),email:n.email.trim(),phone:n.phone.trim(),preferred_contact:n.preferredContact},scenario:{occupancy:n.occupancy,timeframe:n.timeframe,location:n.location.trim()},budget:{price_target:Number(String(n.priceTarget).replace(/[^0-9.]/g,"")),down_payment_value:Number(String(n.downPayment).replace(/[^0-9.]/g,"")),down_payment_type:n.downType,monthly_comfort:Number(String(n.monthlyComfort).replace(/[^0-9.]/g,""))||null},profile:{credit_range:n.creditRange,first_time_buyer:"Yes"===n.firstTimeBuyer,va_eligible:"Yes"===n.vaEligible,employment_type:n.employmentType,household_income:Number(String(n.householdIncome).replace(/[^0-9.]/g,""))||null,liquid_assets:Number(String(n.liquidAssets).replace(/[^0-9.]/g,""))||null,self_employed:"Yes"===n.selfEmployed,date_of_birth:n.dateOfBirth||null,ssn:n.ssn.replace(/[^0-9]/g,"")||null,employer:n.employer.trim()||null,years_with_employer:Number(n.yearsWithEmployer)||null},coborrower:"Yes"===n.hasCoborrower?{first_name:n.coFirstName.trim(),last_name:n.coLastName.trim(),email:n.coEmail.trim()||null,phone:n.coPhone.trim()||null,preferred_contact:n.coPreferredContact,date_of_birth:n.coDateOfBirth||null,ssn:n.coSSN.replace(/[^0-9]/g,"")||null,credit_range:n.coCreditRange,employment_type:n.coEmploymentType,employer:n.coEmployer.trim()||null,years_with_employer:Number(n.coYearsWithEmployer)||null,income:Number(String(n.coIncome).replace(/[^0-9.]/g,""))||null}:null,partners:"Yes"===n.hasAgent?{agent_name:n.agentName.trim(),agent_email:n.agentEmail.trim()}:null,preferences:{letter_type:n.letterType,communication:n.communicationPrefs},consents:{soft_credit_ok:n.softCreditOk,contact_consent:n.contactConsent},notes:n.notes.trim()||null};try{const e=await fetch("".concat("https://mortgage-crm-production-7a9a.up.railway.app","/api/v1/buyer-intake"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(!e.ok)throw new Error("Submission failed");await e.json();alert("Thank you! Your information has been submitted successfully. We'll be in touch soon."),window.location.href="/"}catch(s){console.error("Submission error:",s),alert("There was an error submitting your application. Please try again or contact us directly.")}finally{t(!1)}},className:"intake-form",children:[(0,Te.jsxs)("section",{className:"intake-section",children:[(0,Te.jsx)("h2",{children:"Contact"}),(0,Te.jsxs)("div",{className:"form-grid grid-2",children:[(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"First name"}),(0,Te.jsx)("input",{name:"firstName",value:n.firstName,onChange:r,placeholder:"Jane",required:!0})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Last name"}),(0,Te.jsx)("input",{name:"lastName",value:n.lastName,onChange:r,placeholder:"Doe",required:!0})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Email"}),(0,Te.jsx)("input",{type:"email",name:"email",value:n.email,onChange:r,placeholder:"jane@example.com",required:!0})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Mobile"}),(0,Te.jsx)("input",{name:"phone",value:n.phone,onChange:r,placeholder:"(555) 555-5555",required:!0})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Preferred contact"}),(0,Te.jsxs)("select",{name:"preferredContact",value:n.preferredContact,onChange:r,children:[(0,Te.jsx)("option",{children:"Text"}),(0,Te.jsx)("option",{children:"Email"}),(0,Te.jsx)("option",{children:"Phone"})]})]})]})]}),(0,Te.jsxs)("section",{className:"intake-section",children:[(0,Te.jsx)("h2",{children:"Scenario"}),(0,Te.jsxs)("div",{className:"form-grid grid-3",children:[(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Occupancy"}),(0,Te.jsxs)("select",{name:"occupancy",value:n.occupancy,onChange:r,children:[(0,Te.jsx)("option",{children:"Primary Residence"}),(0,Te.jsx)("option",{children:"Second Home"}),(0,Te.jsx)("option",{children:"Investment"})]})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Timeline"}),(0,Te.jsx)("select",{name:"timeframe",value:n.timeframe,onChange:r,children:["0\u201330 days","31\u201360 days","61\u201390 days","90+ days","Just researching"].map(e=>(0,Te.jsx)("option",{children:e},e))})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Target area (city or ZIP)"}),(0,Te.jsx)("input",{name:"location",value:n.location,onChange:r,placeholder:"Charleston or 29407"})]})]})]}),(0,Te.jsxs)("section",{className:"intake-section",children:[(0,Te.jsx)("h2",{children:"Budget"}),(0,Te.jsxs)("div",{className:"form-grid grid-4",children:[(0,Te.jsxs)("div",{className:"form-field span-2",children:[(0,Te.jsx)("label",{children:"Price target"}),(0,Te.jsx)("input",{name:"priceTarget",value:n.priceTarget,onChange:r,placeholder:"$450,000",required:!0})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Down payment"}),(0,Te.jsxs)("div",{className:"input-group",children:[(0,Te.jsx)("input",{name:"downPayment",value:n.downPayment,onChange:r,placeholder:"5 or 25000"}),(0,Te.jsxs)("select",{name:"downType",value:n.downType,onChange:r,className:"input-addon",children:[(0,Te.jsx)("option",{children:"%"}),(0,Te.jsx)("option",{children:"$"})]})]})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Comfortable monthly (PITI)"}),(0,Te.jsx)("input",{name:"monthlyComfort",value:n.monthlyComfort,onChange:r,placeholder:"$3,000"})]})]})]}),(0,Te.jsxs)("section",{className:"intake-section",children:[(0,Te.jsx)("h2",{children:"Profile"}),(0,Te.jsxs)("div",{className:"form-grid grid-3",children:[(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Date of Birth"}),(0,Te.jsx)("input",{type:"date",name:"dateOfBirth",value:n.dateOfBirth,onChange:r})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Social Security Number"}),(0,Te.jsx)("input",{type:"text",name:"ssn",value:n.ssn,onChange:r,placeholder:"XXX-XX-XXXX",maxLength:"11"}),(0,Te.jsx)("small",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:"\ud83d\udd12 Encrypted and secure"})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Estimated credit"}),(0,Te.jsx)("select",{name:"creditRange",value:n.creditRange,onChange:r,children:s.map(e=>(0,Te.jsx)("option",{children:e},e))})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"First\u2011time buyer?"}),(0,Te.jsxs)("select",{name:"firstTimeBuyer",value:n.firstTimeBuyer,onChange:r,children:[(0,Te.jsx)("option",{children:"Yes"}),(0,Te.jsx)("option",{children:"No"})]})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"VA eligible?"}),(0,Te.jsxs)("select",{name:"vaEligible",value:n.vaEligible,onChange:r,children:[(0,Te.jsx)("option",{children:"No"}),(0,Te.jsx)("option",{children:"Yes"})]})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Employment type"}),(0,Te.jsxs)("select",{name:"employmentType",value:n.employmentType,onChange:r,children:[(0,Te.jsx)("option",{children:"W2"}),(0,Te.jsx)("option",{children:"Self\u2011Employed"}),(0,Te.jsx)("option",{children:"1099/Contractor"}),(0,Te.jsx)("option",{children:"Retired"})]})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Employer name"}),(0,Te.jsx)("input",{name:"employer",value:n.employer,onChange:r,placeholder:"ABC Company Inc."})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Years with employer"}),(0,Te.jsx)("input",{type:"number",name:"yearsWithEmployer",value:n.yearsWithEmployer,onChange:r,placeholder:"5",min:"0",step:"0.5"})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Annual household income (pre\u2011tax)"}),(0,Te.jsx)("input",{name:"householdIncome",value:n.householdIncome,onChange:r,placeholder:"$180,000"})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Liquid assets for closing"}),(0,Te.jsx)("input",{name:"liquidAssets",value:n.liquidAssets,onChange:r,placeholder:"$55,000"})]})]})]}),(0,Te.jsxs)("section",{className:"intake-section",children:[(0,Te.jsx)("h2",{children:"Co\u2011Borrower (optional)"}),(0,Te.jsx)("div",{className:"form-grid grid-1",children:(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Add a co\u2011borrower?"}),(0,Te.jsxs)("select",{name:"hasCoborrower",value:n.hasCoborrower,onChange:r,children:[(0,Te.jsx)("option",{children:"No"}),(0,Te.jsx)("option",{children:"Yes"})]})]})}),"Yes"===n.hasCoborrower&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("h3",{style:{marginTop:"24px",marginBottom:"16px",fontSize:"16px",fontWeight:600},children:"Contact Info"}),(0,Te.jsxs)("div",{className:"form-grid grid-2",children:[(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"First name"}),(0,Te.jsx)("input",{name:"coFirstName",value:n.coFirstName,onChange:r,placeholder:"John"})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Last name"}),(0,Te.jsx)("input",{name:"coLastName",value:n.coLastName,onChange:r,placeholder:"Smith"})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Email"}),(0,Te.jsx)("input",{type:"email",name:"coEmail",value:n.coEmail,onChange:r,placeholder:"john@example.com"})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Mobile"}),(0,Te.jsx)("input",{name:"coPhone",value:n.coPhone,onChange:r,placeholder:"(555) 555-5555"})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Preferred contact"}),(0,Te.jsxs)("select",{name:"coPreferredContact",value:n.coPreferredContact,onChange:r,children:[(0,Te.jsx)("option",{children:"Text"}),(0,Te.jsx)("option",{children:"Email"}),(0,Te.jsx)("option",{children:"Phone"})]})]})]}),(0,Te.jsx)("h3",{style:{marginTop:"24px",marginBottom:"16px",fontSize:"16px",fontWeight:600},children:"Profile"}),(0,Te.jsxs)("div",{className:"form-grid grid-3",children:[(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Date of Birth"}),(0,Te.jsx)("input",{type:"date",name:"coDateOfBirth",value:n.coDateOfBirth,onChange:r})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Social Security Number"}),(0,Te.jsx)("input",{type:"text",name:"coSSN",value:n.coSSN,onChange:r,placeholder:"XXX-XX-XXXX",maxLength:"11"}),(0,Te.jsx)("small",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:"\ud83d\udd12 Encrypted and secure"})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Estimated credit"}),(0,Te.jsx)("select",{name:"coCreditRange",value:n.coCreditRange,onChange:r,children:s.map(e=>(0,Te.jsx)("option",{children:e},e))})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Employment type"}),(0,Te.jsxs)("select",{name:"coEmploymentType",value:n.coEmploymentType,onChange:r,children:[(0,Te.jsx)("option",{children:"W2"}),(0,Te.jsx)("option",{children:"Self\u2011Employed"}),(0,Te.jsx)("option",{children:"1099/Contractor"}),(0,Te.jsx)("option",{children:"Retired"})]})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Employer name"}),(0,Te.jsx)("input",{name:"coEmployer",value:n.coEmployer,onChange:r,placeholder:"XYZ Corp"})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Years with employer"}),(0,Te.jsx)("input",{type:"number",name:"coYearsWithEmployer",value:n.coYearsWithEmployer,onChange:r,placeholder:"3",min:"0",step:"0.5"})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Annual income"}),(0,Te.jsx)("input",{name:"coIncome",value:n.coIncome,onChange:r,placeholder:"$75,000"})]})]})]})]}),(0,Te.jsxs)("section",{className:"intake-section",children:[(0,Te.jsx)("h2",{children:"Partners & Preferences"}),(0,Te.jsxs)("div",{className:"form-grid grid-3",children:[(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Working with a Realtor?"}),(0,Te.jsxs)("select",{name:"hasAgent",value:n.hasAgent,onChange:r,children:[(0,Te.jsx)("option",{children:"Yes"}),(0,Te.jsx)("option",{children:"No"})]})]}),"Yes"===n.hasAgent&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Agent name"}),(0,Te.jsx)("input",{name:"agentName",value:n.agentName,onChange:r,placeholder:"Casey Agent"})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Agent email"}),(0,Te.jsx)("input",{type:"email",name:"agentEmail",value:n.agentEmail,onChange:r,placeholder:"casey@agency.com"})]})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Letter type"}),(0,Te.jsxs)("select",{name:"letterType",value:n.letterType,onChange:r,children:[(0,Te.jsx)("option",{children:"Full Pre\u2011Approval"}),(0,Te.jsx)("option",{children:"Pre\u2011Qualification"})]})]})]}),(0,Te.jsxs)("div",{className:"comm-prefs",children:[(0,Te.jsx)("label",{children:"How should we keep you posted?"}),(0,Te.jsx)("div",{className:"comm-buttons",children:["Text","Email","Phone"].map(e=>(0,Te.jsx)("button",{type:"button",onClick:()=>(e=>{A(t=>{const n=new Set(t.communicationPrefs);return n.has(e)?n.delete(e):n.add(e),Wt(Wt({},t),{},{communicationPrefs:Array.from(n)})})})(e),className:"comm-btn ".concat(n.communicationPrefs.includes(e)?"active":""),children:e},e))})]})]}),(0,Te.jsxs)("section",{className:"intake-section",children:[(0,Te.jsx)("h2",{children:"Consents & Notes"}),(0,Te.jsxs)("div",{className:"consents",children:[(0,Te.jsxs)("label",{className:"checkbox-label",children:[(0,Te.jsx)("input",{type:"checkbox",name:"softCreditOk",checked:n.softCreditOk,onChange:r}),(0,Te.jsx)("span",{children:"I authorize a soft credit pull to help determine loan options (no impact to score)."})]}),(0,Te.jsxs)("label",{className:"checkbox-label",children:[(0,Te.jsx)("input",{type:"checkbox",name:"contactConsent",checked:n.contactConsent,onChange:r,required:!0}),(0,Te.jsx)("span",{children:"I agree to be contacted by SMS/Email/Phone regarding my mortgage inquiry."})]}),(0,Te.jsxs)("div",{className:"form-field",children:[(0,Te.jsx)("label",{children:"Anything else we should know?"}),(0,Te.jsx)("textarea",{name:"notes",value:n.notes,onChange:r,rows:3,placeholder:"e.g., bonus structure, gifts, contingencies"})]})]})]}),(0,Te.jsxs)("div",{className:"form-footer",children:[(0,Te.jsx)("p",{className:"disclaimer",children:"This is a short intake, not a loan application. We'll follow up to complete your file."}),(0,Te.jsx)("button",{type:"submit",className:"submit-btn",disabled:e,children:e?"Submitting...":"Submit"})]})]})]})})}const Ls=function(){const[e,t]=(0,a.useState)("555-123-4567"),[n,A]=(0,a.useState)("test@example.com"),[s,r]=(0,a.useState)([]),i=(e,t,n)=>{const a={id:Date.now(),test:e,status:t,message:n,timestamp:(new Date).toLocaleTimeString()};r(e=>[a,...e])},l=()=>{try{const t=e.replace(/[^0-9+]/g,"");window.open("tel:".concat(t),"_self"),i("Click-to-Call","success","Attempted to dial ".concat(e,". Your phone dialer should have opened."))}catch(t){i("Click-to-Call","error","Failed: ".concat(t.message))}},o=()=>{try{const t=e.replace(/[^0-9+]/g,"");window.open("sms:".concat(t),"_blank"),i("SMS/Text","success","Attempted to send SMS to ".concat(e,". Your messaging app should have opened."))}catch(t){i("SMS/Text","error","Failed: ".concat(t.message))}},c=()=>{try{window.open("mailto:".concat(n),"_blank"),i("Email","success","Attempted to email ".concat(n,". Your email app should have opened."))}catch(e){i("Email","error","Failed: ".concat(e.message))}};return(0,Te.jsxs)("div",{className:"verizon-test-page",children:[(0,Te.jsxs)("div",{className:"test-header",children:[(0,Te.jsx)("h1",{children:"\ud83d\udcf1 Verizon Integration Test Page"}),(0,Te.jsx)("p",{children:"Test click-to-call and SMS features with your Verizon service"})]}),(0,Te.jsxs)("div",{className:"test-config-section",children:[(0,Te.jsx)("h2",{children:"Test Configuration"}),(0,Te.jsxs)("div",{className:"config-grid",children:[(0,Te.jsxs)("div",{className:"config-field",children:[(0,Te.jsx)("label",{children:"Test Phone Number"}),(0,Te.jsx)("input",{type:"tel",value:e,onChange:e=>t(e.target.value),placeholder:"Enter phone number to test"}),(0,Te.jsx)("small",{children:"Use your own phone number to test"})]}),(0,Te.jsxs)("div",{className:"config-field",children:[(0,Te.jsx)("label",{children:"Test Email"}),(0,Te.jsx)("input",{type:"email",value:n,onChange:e=>A(e.target.value),placeholder:"Enter email to test"}),(0,Te.jsx)("small",{children:"Use your own email to test"})]})]})]}),(0,Te.jsxs)("div",{className:"test-actions-section",children:[(0,Te.jsx)("h2",{children:"Run Tests"}),(0,Te.jsxs)("div",{className:"test-buttons",children:[(0,Te.jsxs)("button",{className:"test-btn call-btn",onClick:l,children:[(0,Te.jsx)("span",{className:"btn-icon",children:"\ud83d\udcde"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("strong",{children:"Test Click-to-Call"}),(0,Te.jsx)("small",{children:"Opens phone dialer"})]})]}),(0,Te.jsxs)("button",{className:"test-btn sms-btn",onClick:o,children:[(0,Te.jsx)("span",{className:"btn-icon",children:"\ud83d\udcac"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("strong",{children:"Test SMS"}),(0,Te.jsx)("small",{children:"Opens messaging app"})]})]}),(0,Te.jsxs)("button",{className:"test-btn email-btn",onClick:c,children:[(0,Te.jsx)("span",{className:"btn-icon",children:"\u2709\ufe0f"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("strong",{children:"Test Email"}),(0,Te.jsx)("small",{children:"Opens email client"})]})]}),(0,Te.jsxs)("button",{className:"test-btn all-btn",onClick:()=>{i("Test Suite","info","Starting comprehensive test..."),setTimeout(()=>l(),500),setTimeout(()=>o(),1500),setTimeout(()=>c(),2500)},children:[(0,Te.jsx)("span",{className:"btn-icon",children:"\ud83d\ude80"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("strong",{children:"Test All Features"}),(0,Te.jsx)("small",{children:"Run comprehensive test"})]})]})]})]}),(0,Te.jsxs)("div",{className:"integration-status-section",children:[(0,Te.jsx)("h2",{children:"Integration Status"}),(0,Te.jsxs)("div",{className:"status-grid",children:[(0,Te.jsxs)("div",{className:"status-card",children:[(0,Te.jsx)("div",{className:"status-icon success",children:"\u2705"}),(0,Te.jsx)("h3",{children:"Native Phone Integration"}),(0,Te.jsx)("p",{children:"Uses tel: protocol"}),(0,Te.jsx)("span",{className:"status-badge active",children:"Active"})]}),(0,Te.jsxs)("div",{className:"status-card",children:[(0,Te.jsx)("div",{className:"status-icon success",children:"\u2705"}),(0,Te.jsx)("h3",{children:"SMS Integration"}),(0,Te.jsx)("p",{children:"Uses sms: protocol"}),(0,Te.jsx)("span",{className:"status-badge active",children:"Active"})]}),(0,Te.jsxs)("div",{className:"status-card",children:[(0,Te.jsx)("div",{className:"status-icon warning",children:"\u26a0\ufe0f"}),(0,Te.jsx)("h3",{children:"Twilio SMS API"}),(0,Te.jsx)("p",{children:"Advanced features"}),(0,Te.jsx)("span",{className:"status-badge inactive",children:"Not Configured"})]})]})]}),(0,Te.jsxs)("div",{className:"test-results-section",children:[(0,Te.jsxs)("div",{className:"results-header",children:[(0,Te.jsx)("h2",{children:"Test Results"}),s.length>0&&(0,Te.jsx)("button",{className:"btn-clear",onClick:()=>{r([])},children:"Clear Results"})]}),0===s.length?(0,Te.jsx)("div",{className:"empty-results",children:(0,Te.jsx)("p",{children:"No tests run yet. Click a test button above to begin."})}):(0,Te.jsx)("div",{className:"results-list",children:s.map(e=>(0,Te.jsxs)("div",{className:"result-item ".concat(e.status),children:[(0,Te.jsxs)("div",{className:"result-icon",children:["success"===e.status&&"\u2705","error"===e.status&&"\u274c","info"===e.status&&"\u2139\ufe0f"]}),(0,Te.jsxs)("div",{className:"result-content",children:[(0,Te.jsxs)("div",{className:"result-header-row",children:[(0,Te.jsx)("strong",{children:e.test}),(0,Te.jsx)("span",{className:"result-time",children:e.timestamp})]}),(0,Te.jsx)("p",{children:e.message})]})]},e.id))})]}),(0,Te.jsxs)("div",{className:"instructions-section",children:[(0,Te.jsx)("h2",{children:"How It Works"}),(0,Te.jsxs)("div",{className:"instructions-grid",children:[(0,Te.jsxs)("div",{className:"instruction-card",children:[(0,Te.jsx)("div",{className:"instruction-number",children:"1"}),(0,Te.jsx)("h3",{children:"Click-to-Call"}),(0,Te.jsxs)("p",{children:["When you click the call button, it uses the ",(0,Te.jsx)("code",{children:"tel:"})," protocol to open your phone's native dialer. This works with any carrier including Verizon, AT&T, T-Mobile, etc."]})]}),(0,Te.jsxs)("div",{className:"instruction-card",children:[(0,Te.jsx)("div",{className:"instruction-number",children:"2"}),(0,Te.jsx)("h3",{children:"SMS/Text"}),(0,Te.jsxs)("p",{children:["The SMS button uses the ",(0,Te.jsx)("code",{children:"sms:"})," protocol to open your messaging app with the phone number pre-filled. You can then type and send your message using your Verizon service."]})]}),(0,Te.jsxs)("div",{className:"instruction-card",children:[(0,Te.jsx)("div",{className:"instruction-number",children:"3"}),(0,Te.jsx)("h3",{children:"Email"}),(0,Te.jsxs)("p",{children:["Email buttons use the ",(0,Te.jsx)("code",{children:"mailto:"})," protocol to open your default email client (Gmail, Outlook, Apple Mail, etc.) with the recipient pre-filled."]})]})]})]}),(0,Te.jsxs)("div",{className:"twilio-setup-section",children:[(0,Te.jsx)("h2",{children:"\ud83d\ude80 Advanced: Twilio Integration"}),(0,Te.jsx)("p",{children:"For advanced SMS features (bulk messaging, templates, tracking), you can integrate with Twilio. Your CRM is already Twilio-ready!"}),(0,Te.jsxs)("div",{className:"twilio-benefits",children:[(0,Te.jsx)("h3",{children:"Twilio Benefits:"}),(0,Te.jsxs)("ul",{children:[(0,Te.jsx)("li",{children:"\u2705 Send SMS directly from CRM without using your phone"}),(0,Te.jsx)("li",{children:"\u2705 Bulk SMS campaigns to multiple leads"}),(0,Te.jsx)("li",{children:"\u2705 SMS templates and automation"}),(0,Te.jsx)("li",{children:"\u2705 Track delivery and responses"}),(0,Te.jsx)("li",{children:"\u2705 Keep your Verizon number (port to Twilio)"})]})]}),(0,Te.jsx)("button",{className:"btn-setup-twilio",onClick:()=>window.open("https://www.twilio.com/try-twilio","_blank"),children:"Get Started with Twilio \u2192"})]})]})};function Ps(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}function Ds(e,t){if(null==e)return{};var n,a,A=Ps(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(A[n]=e[n])}return A}var Os=n(139),Rs=n.n(Os);const Ms=["xxl","xl","lg","md","sm","xs"],Ks="xs",Gs=a.createContext({prefixes:{},breakpoints:Ms,minBreakpoint:Ks}),{Consumer:Vs,Provider:Ws}=Gs;function Js(e,t){const{prefixes:n}=(0,a.useContext)(Gs);return e||n[t]||t}function zs(){const{breakpoints:e}=(0,a.useContext)(Gs);return e}function Ys(){const{minBreakpoint:e}=(0,a.useContext)(Gs);return e}const Xs=["bsPrefix","bg","pill","text","className","as"],qs=a.forwardRef((e,t)=>{let{bsPrefix:n,bg:a="primary",pill:A=!1,text:s,className:r,as:i="span"}=e,l=Ds(e,Xs);const o=Js(n,"badge");return(0,Te.jsx)(i,Wt(Wt({ref:t},l),{},{className:Rs()(r,o,A&&"rounded-pill",s&&"text-".concat(s),a&&"bg-".concat(a))}))});qs.displayName="Badge";const Zs=qs,$s=["bsPrefix","fluid","as","className"],er=a.forwardRef((e,t)=>{let{bsPrefix:n,fluid:a=!1,as:A="div",className:s}=e,r=Ds(e,$s);const i=Js(n,"container"),l="string"===typeof a?"-".concat(a):"-fluid";return(0,Te.jsx)(A,Wt(Wt({ref:t},r),{},{className:Rs()(s,a?"".concat(i).concat(l):i)}))});er.displayName="Container";const tr=er,nr=["bsPrefix","variant","animation","size","as","className"],ar=a.forwardRef((e,t)=>{let{bsPrefix:n,variant:a,animation:A="border",size:s,as:r="div",className:i}=e,l=Ds(e,nr);n=Js(n,"spinner");const o="".concat(n,"-").concat(A);return(0,Te.jsx)(r,Wt(Wt({ref:t},l),{},{className:Rs()(i,o,s&&"".concat(o,"-").concat(s),a&&"text-".concat(a))}))});ar.displayName="Spinner";const Ar=ar,sr=["bsPrefix","className","as"],rr=a.forwardRef((e,t)=>{let{bsPrefix:n,className:a,as:A="div"}=e,s=Ds(e,sr);const r=Js(n,"row"),i=zs(),l=Ys(),o="".concat(r,"-cols"),c=[];return i.forEach(e=>{const t=s[e];let n;delete s[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const a=e!==l?"-".concat(e):"";null!=n&&c.push("".concat(o).concat(a,"-").concat(n))}),(0,Te.jsx)(A,Wt(Wt({ref:t},s),{},{className:Rs()(a,r,...c)}))});rr.displayName="Row";const ir=rr,lr=["as","bsPrefix","className"],or=["className"];const cr=a.forwardRef((e,t)=>{const[n,{as:a="div",bsPrefix:A,spans:s}]=function(e){let{as:t,bsPrefix:n,className:a}=e,A=Ds(e,lr);n=Js(n,"col");const s=zs(),r=Ys(),i=[],l=[];return s.forEach(e=>{const t=A[e];let a,s,o;delete A[e],"object"===typeof t&&null!=t?({span:a,offset:s,order:o}=t):a=t;const c=e!==r?"-".concat(e):"";a&&i.push(!0===a?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(a)),null!=o&&l.push("order".concat(c,"-").concat(o)),null!=s&&l.push("offset".concat(c,"-").concat(s))}),[Wt(Wt({},A),{},{className:Rs()(a,...i,...l)}),{as:t,bsPrefix:n,spans:i}]}(e),{className:r}=n,i=Ds(n,or);return(0,Te.jsx)(a,Wt(Wt({},i),{},{ref:t,className:Rs()(r,!s.length&&A)}))});cr.displayName="Col";const dr=cr,ur=["className","bsPrefix","as"],hr=a.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:A="div"}=e,s=Ds(e,ur);return a=Js(a,"card-body"),(0,Te.jsx)(A,Wt({ref:t,className:Rs()(n,a)},s))});hr.displayName="CardBody";const mr=hr,pr=["className","bsPrefix","as"],gr=a.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:A="div"}=e,s=Ds(e,pr);return a=Js(a,"card-footer"),(0,Te.jsx)(A,Wt({ref:t,className:Rs()(n,a)},s))});gr.displayName="CardFooter";const fr=gr,xr=a.createContext(null);xr.displayName="CardHeaderContext";const vr=xr,yr=["bsPrefix","className","as"],wr=a.forwardRef((e,t)=>{let{bsPrefix:n,className:A,as:s="div"}=e,r=Ds(e,yr);const i=Js(n,"card-header"),l=(0,a.useMemo)(()=>({cardHeaderBsPrefix:i}),[i]);return(0,Te.jsx)(vr.Provider,{value:l,children:(0,Te.jsx)(s,Wt(Wt({ref:t},r),{},{className:Rs()(A,i)}))})});wr.displayName="CardHeader";const Br=wr,jr=["bsPrefix","className","variant","as"],br=a.forwardRef((e,t)=>{let{bsPrefix:n,className:a,variant:A,as:s="img"}=e,r=Ds(e,jr);const i=Js(n,"card-img");return(0,Te.jsx)(s,Wt({ref:t,className:Rs()(A?"".concat(i,"-").concat(A):i,a)},r))});br.displayName="CardImg";const Cr=br,Nr=["className","bsPrefix","as"],Qr=a.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:A="div"}=e,s=Ds(e,Nr);return a=Js(a,"card-img-overlay"),(0,Te.jsx)(A,Wt({ref:t,className:Rs()(n,a)},s))});Qr.displayName="CardImgOverlay";const Fr=Qr,Ur=["className","bsPrefix","as"],Sr=a.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:A="a"}=e,s=Ds(e,Ur);return a=Js(a,"card-link"),(0,Te.jsx)(A,Wt({ref:t,className:Rs()(n,a)},s))});Sr.displayName="CardLink";const kr=Sr,Er=e=>a.forwardRef((t,n)=>(0,Te.jsx)("div",Wt(Wt({},t),{},{ref:n,className:Rs()(t.className,e)}))),_r=["className","bsPrefix","as"],Ir=Er("h6"),Hr=a.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:A=Ir}=e,s=Ds(e,_r);return a=Js(a,"card-subtitle"),(0,Te.jsx)(A,Wt({ref:t,className:Rs()(n,a)},s))});Hr.displayName="CardSubtitle";const Tr=Hr,Lr=["className","bsPrefix","as"],Pr=a.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:A="p"}=e,s=Ds(e,Lr);return a=Js(a,"card-text"),(0,Te.jsx)(A,Wt({ref:t,className:Rs()(n,a)},s))});Pr.displayName="CardText";const Dr=Pr,Or=["className","bsPrefix","as"],Rr=Er("h5"),Mr=a.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:A=Rr}=e,s=Ds(e,Or);return a=Js(a,"card-title"),(0,Te.jsx)(A,Wt({ref:t,className:Rs()(n,a)},s))});Mr.displayName="CardTitle";const Kr=Mr,Gr=["bsPrefix","className","bg","text","border","body","children","as"],Vr=a.forwardRef((e,t)=>{let{bsPrefix:n,className:a,bg:A,text:s,border:r,body:i=!1,children:l,as:o="div"}=e,c=Ds(e,Gr);const d=Js(n,"card");return(0,Te.jsx)(o,Wt(Wt({ref:t},c),{},{className:Rs()(a,d,A&&"bg-".concat(A),s&&"text-".concat(s),r&&"border-".concat(r)),children:i?(0,Te.jsx)(mr,{children:l}):l}))});Vr.displayName="Card";const Wr=Object.assign(Vr,{Img:Cr,Title:Kr,Subtitle:Tr,Body:mr,Link:kr,Text:Dr,Header:Br,Footer:fr,ImgOverlay:Fr});function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Jr.apply(null,arguments)}n(740);function zr(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Yr(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Xr(e,t){return Object.keys(t).reduce(function(n,A){var s,r=n,i=r[zr(A)],l=r[A],o=Ps(r,[zr(A),A].map(Yr)),c=t[A],d=function(e,t,n){var A=(0,a.useRef)(void 0!==e),s=(0,a.useState)(t),r=s[0],i=s[1],l=void 0!==e,o=A.current;return A.current=l,!l&&o&&r!==t&&i(t),[l?e:r,(0,a.useCallback)(function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),A=1;A<t;A++)a[A-1]=arguments[A];n&&n.apply(void 0,[e].concat(a)),i(e)},[n])]}(l,i,e[c]),u=d[0],h=d[1];return Jr({},o,((s={})[A]=u,s[c]=h,s))},e)}function qr(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Zr(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function $r(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}qr.__suppressDeprecationWarning=!0,Zr.__suppressDeprecationWarning=!0,$r.__suppressDeprecationWarning=!0;const ei=function(e){const t=(0,a.useRef)(e);return(0,a.useEffect)(()=>{t.current=e},[e]),t};function ti(e){const t=ei(e);return(0,a.useCallback)(function(){return t.current&&t.current(...arguments)},[t])}const ni=["className","bsPrefix","as"],ai=Er("h4");ai.displayName="DivStyledAsH4";const Ai=a.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:A=ai}=e,s=Ds(e,ni);return a=Js(a,"alert-heading"),(0,Te.jsx)(A,Wt({ref:t,className:Rs()(n,a)},s))});Ai.displayName="AlertHeading";const si=Ai;const ri=function(e){const t=(0,a.useRef)(e);return(0,a.useEffect)(()=>{t.current=e},[e]),t};function ii(e){const t=ri(e);return(0,a.useCallback)(function(){return t.current&&t.current(...arguments)},[t])}const li="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,oi="undefined"!==typeof document||li?a.useLayoutEffect:a.useEffect;new WeakMap;const ci=["as","disabled"];function di(e){let{tagName:t,disabled:n,href:a,target:A,rel:s,role:r,onClick:i,tabIndex:l=0,type:o}=e;t||(t=null!=a||null!=A||null!=s?"a":"button");const c={tagName:t};if("button"===t)return[{type:o||"button",disabled:n},c];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(a))&&e.preventDefault(),n?e.stopPropagation():null==i||i(e)};return"a"===t&&(a||(a="#"),n&&(a=void 0)),[{role:null!=r?r:"button",disabled:void 0,tabIndex:n?void 0:l,href:a,target:"a"===t?A:void 0,"aria-disabled":n||void 0,rel:"a"===t?s:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},c]}const ui=a.forwardRef((e,t)=>{let{as:n,disabled:a}=e,A=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,ci);const[s,{tagName:r}]=di(Object.assign({tagName:n,disabled:a},A));return(0,Te.jsx)(r,Object.assign({},A,s,{ref:t}))});ui.displayName="Button";const hi=["onKeyDown"];const mi=a.forwardRef((e,t)=>{let{onKeyDown:n}=e,a=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,hi);const[A]=di(Object.assign({tagName:"a"},a)),s=ii(e=>{A.onKeyDown(e),null==n||n(e)});return(r=a.href)&&"#"!==r.trim()&&"button"!==a.role?(0,Te.jsx)("a",Object.assign({ref:t},a,{onKeyDown:n})):(0,Te.jsx)("a",Object.assign({ref:t},a,A,{onKeyDown:s}));var r});mi.displayName="Anchor";const pi=mi,gi=["className","bsPrefix","as"],fi=a.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:A=pi}=e,s=Ds(e,gi);return a=Js(a,"alert-link"),(0,Te.jsx)(A,Wt({ref:t,className:Rs()(n,a)},s))});fi.displayName="AlertLink";const xi=fi;function vi(e,t){return vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vi(e,t)}const yi=!1,wi=a.createContext(null);var Bi="unmounted",ji="exited",bi="entering",Ci="entered",Ni="exiting",Qi=function(e){var t,n;function A(t,n){var a;a=e.call(this,t,n)||this;var A,s=n&&!n.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?s?(A=ji,a.appearStatus=bi):A=Ci:A=t.unmountOnExit||t.mountOnEnter?Bi:ji,a.state={status:A},a.nextCallback=null,a}n=e,(t=A).prototype=Object.create(n.prototype),t.prototype.constructor=t,vi(t,n),A.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Bi?{status:ji}:null};var s=A.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==bi&&n!==Ci&&(t=bi):n!==bi&&n!==Ci||(t=Ni)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,n,a=this.props.timeout;return e=t=n=a,null!=a&&"number"!==typeof a&&(e=a.exit,t=a.enter,n=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:n}},s.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===bi){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:ye.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ji&&this.setState({status:Bi})},s.performEnter=function(e){var t=this,n=this.props.enter,a=this.context?this.context.isMounting:e,A=this.props.nodeRef?[a]:[ye.findDOMNode(this),a],s=A[0],r=A[1],i=this.getTimeouts(),l=a?i.appear:i.enter;!e&&!n||yi?this.safeSetState({status:Ci},function(){t.props.onEntered(s)}):(this.props.onEnter(s,r),this.safeSetState({status:bi},function(){t.props.onEntering(s,r),t.onTransitionEnd(l,function(){t.safeSetState({status:Ci},function(){t.props.onEntered(s,r)})})}))},s.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),a=this.props.nodeRef?void 0:ye.findDOMNode(this);t&&!yi?(this.props.onExit(a),this.safeSetState({status:Ni},function(){e.props.onExiting(a),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:ji},function(){e.props.onExited(a)})})})):this.safeSetState({status:ji},function(){e.props.onExited(a)})},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:ye.findDOMNode(this),a=null==e&&!this.props.addEndListener;if(n&&!a){if(this.props.addEndListener){var A=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=A[0],r=A[1];this.props.addEndListener(s,r)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===Bi)return null;var t=this.props,n=t.children,A=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Ps(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(wi.Provider,{value:null},"function"===typeof n?n(e,A):a.cloneElement(a.Children.only(n),A))},A}(a.Component);function Fi(){}Qi.contextType=wi,Qi.propTypes={},Qi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Fi,onEntering:Fi,onEntered:Fi,onExit:Fi,onExiting:Fi,onExited:Fi},Qi.UNMOUNTED=Bi,Qi.EXITED=ji,Qi.ENTERING=bi,Qi.ENTERED=Ci,Qi.EXITING=Ni;const Ui=Qi;function Si(e){if(!e||"function"===typeof e)return null;const{major:t}=function(){const e=a.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}();return t>=19?e.props.ref:e.ref}function ki(e){return e&&e.ownerDocument||document}function Ei(e,t){return function(e){var t=ki(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var _i=/([A-Z])/g;var Ii=/^ms-/;function Hi(e){return function(e){return e.replace(_i,"-$1").toLowerCase()}(e).replace(Ii,"-ms-")}var Ti=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Li=function(e,t){var n="",a="";if("string"===typeof t)return e.style.getPropertyValue(Hi(t))||Ei(e).getPropertyValue(Hi(t));Object.keys(t).forEach(function(A){var s=t[A];s||0===s?!function(e){return!(!e||!Ti.test(e))}(A)?n+=Hi(A)+": "+s+";":a+=A+"("+s+") ":e.style.removeProperty(Hi(A))}),a&&(n+="transform: "+a+";"),e.style.cssText+=";"+n},Pi=!("undefined"===typeof window||!window.document||!window.document.createElement);var Di=!1,Oi=!1;try{var Ri={get passive(){return Di=!0},get once(){return Oi=Di=!0}};Pi&&(window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,!0))}catch(_c){}const Mi=function(e,t,n,a){if(a&&"boolean"!==typeof a&&!Oi){var A=a.once,s=a.capture,r=n;!Oi&&A&&(r=n.__once||function e(a){this.removeEventListener(t,e,s),n.call(this,a)},n.__once=r),e.addEventListener(t,r,Di?a:s)}e.addEventListener(t,n,a)};const Ki=function(e,t,n,a){var A=a&&"boolean"!==typeof a?a.capture:a;e.removeEventListener(t,n,A),n.__once&&e.removeEventListener(t,n.__once,A)};const Gi=function(e,t,n,a){return Mi(e,t,n,a),function(){Ki(e,t,n,a)}};function Vi(e,t,n){void 0===n&&(n=5);var a=!1,A=setTimeout(function(){a||function(e,t,n,a){if(void 0===n&&(n=!1),void 0===a&&(a=!0),e){var A=document.createEvent("HTMLEvents");A.initEvent(t,n,a),e.dispatchEvent(A)}}(e,"transitionend",!0)},t+n),s=Gi(e,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(A),s()}}function Wi(e,t,n,a){null==n&&(n=function(e){var t=Li(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var A=Vi(e,n,a),s=Gi(e,"transitionend",t);return function(){A(),s()}}function Ji(e,t){const n=Li(e,t)||"",a=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*a}function zi(e,t){const n=Ji(e,"transitionDuration"),a=Ji(e,"transitionDelay"),A=Wi(e,n=>{n.target===e&&(A(),t(n))},n+a)}const Yi=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Xi=function(e,t){return(0,a.useMemo)(()=>function(e,t){const n=Yi(e),a=Yi(t);return e=>{n&&n(e),a&&a(e)}}(e,t),[e,t])};const qi=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Zi=a.forwardRef((e,t)=>{let{onEnter:n,onEntering:A,onEntered:s,onExit:r,onExiting:i,onExited:l,addEndListener:o,children:c,childRef:d}=e,u=Ds(e,qi);const h=(0,a.useRef)(null),m=Xi(h,d),p=e=>{var t;m((t=e)&&"setState"in t?ye.findDOMNode(t):null!=t?t:null)},g=e=>t=>{e&&h.current&&e(h.current,t)},f=(0,a.useCallback)(g(n),[n]),x=(0,a.useCallback)(g(A),[A]),v=(0,a.useCallback)(g(s),[s]),y=(0,a.useCallback)(g(r),[r]),w=(0,a.useCallback)(g(i),[i]),B=(0,a.useCallback)(g(l),[l]),j=(0,a.useCallback)(g(o),[o]);return(0,Te.jsx)(Ui,Wt(Wt({ref:t},u),{},{onEnter:f,onEntered:v,onEntering:x,onExit:y,onExited:B,onExiting:w,addEndListener:j,nodeRef:h,children:"function"===typeof c?(e,t)=>c(e,Wt(Wt({},t),{},{ref:p})):a.cloneElement(c,{ref:p})}))});Zi.displayName="TransitionWrapper";const $i=Zi,el=["className","children","transitionClasses","onEnter"],tl={[bi]:"show",[Ci]:"show"},nl=a.forwardRef((e,t)=>{let{className:n,children:A,transitionClasses:s={},onEnter:r}=e;const i=Wt({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Ds(e,el)),l=(0,a.useCallback)((e,t)=>{!function(e){e.offsetHeight}(e),null==r||r(e,t)},[r]);return(0,Te.jsx)($i,Wt(Wt({ref:t,addEndListener:zi},i),{},{onEnter:l,childRef:Si(A),children:(e,t)=>a.cloneElement(A,Wt(Wt({},t),{},{className:Rs()("fade",n,A.props.className,tl[e],s[e])}))}))});nl.displayName="Fade";const al=nl;var Al=n(173),sl=n.n(Al);const rl=["className","variant","aria-label"],il={"aria-label":sl().string,onClick:sl().func,variant:sl().oneOf(["white"])},ll=a.forwardRef((e,t)=>{let{className:n,variant:a,"aria-label":A="Close"}=e,s=Ds(e,rl);return(0,Te.jsx)("button",Wt({ref:t,type:"button",className:Rs()("btn-close",a&&"btn-close-".concat(a),n),"aria-label":A},s))});ll.displayName="CloseButton",ll.propTypes=il;const ol=ll,cl=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],dl=a.forwardRef((e,t)=>{const n=Xr(e,{show:"onClose"}),{bsPrefix:a,show:A=!0,closeLabel:s="Close alert",closeVariant:r,className:i,children:l,variant:o="primary",onClose:c,dismissible:d,transition:u=al}=n,h=Ds(n,cl),m=Js(a,"alert"),p=ti(e=>{c&&c(!1,e)}),g=!0===u?al:u,f=(0,Te.jsxs)("div",Wt(Wt({role:"alert"},g?void 0:h),{},{ref:t,className:Rs()(i,m,o&&"".concat(m,"-").concat(o),d&&"".concat(m,"-dismissible")),children:[d&&(0,Te.jsx)(ol,{onClick:p,"aria-label":s,variant:r}),l]}));return g?(0,Te.jsx)(g,Wt(Wt({unmountOnExit:!0},h),{},{ref:void 0,in:A,children:f})):A?f:null});dl.displayName="Alert";const ul=Object.assign(dl,{Link:xi,Heading:si}),hl=["as","bsPrefix","variant","size","active","disabled","className"],ml=a.forwardRef((e,t)=>{let{as:n,bsPrefix:a,variant:A="primary",size:s,active:r=!1,disabled:i=!1,className:l}=e,o=Ds(e,hl);const c=Js(a,"btn"),[d,{tagName:u}]=di(Wt({tagName:n,disabled:i},o)),h=u;return(0,Te.jsx)(h,Wt(Wt(Wt({},d),o),{},{ref:t,disabled:i,className:Rs()(l,c,r&&"active",A&&"".concat(c,"-").concat(A),s&&"".concat(c,"-").concat(s),o.href&&i&&"disabled")}))});ml.displayName="Button";const pl=ml;var gl;function fl(e){if((!gl&&0!==gl||e)&&Pi){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),gl=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return gl}function xl(e){const t=function(e){const t=(0,a.useRef)(e);return t.current=e,t}(e);(0,a.useEffect)(()=>()=>t.current(),[])}function vl(e){void 0===e&&(e=ki());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(_c){return e.body}}function yl(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function wl(e){const t=function(e){const t=(0,a.useRef)(e);return t.current=e,t}(e);(0,a.useEffect)(()=>()=>t.current(),[])}const Bl=(jl="modal-open","".concat("data-rr-ui-").concat(jl));var jl;const bl=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[n]:a.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(Li(a,n)||"0",10)+e.scrollBarWidth,"px")),a.setAttribute(Bl,""),Li(a,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Bl),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Cl=(0,a.createContext)(Pi?window:void 0);Cl.Provider;function Nl(){return(0,a.useContext)(Cl)}const Ql=(e,t)=>Pi?null==e?(t||ki()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const Fl=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Ul=function(e,t){return(0,a.useMemo)(()=>function(e,t){const n=Fl(e),a=Fl(t);return e=>{n&&n(e),a&&a(e)}}(e,t),[e,t])};const Sl=function(e){let{children:t,in:n,onExited:A,mountOnEnter:s,unmountOnExit:r}=e;const i=(0,a.useRef)(null),l=(0,a.useRef)(n),o=ii(A);(0,a.useEffect)(()=>{n?l.current=!0:o(i.current)},[n,o]);const c=Ul(i,Si(t)),d=(0,a.cloneElement)(t,{ref:c});return n?d:r||!l.current&&s?null:d},kl=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const El=["component"];const _l=a.forwardRef((e,t)=>{let{component:n}=e;const A=function(e){let{onEnter:t,onEntering:n,onEntered:A,onExit:s,onExiting:r,onExited:i,addEndListener:l,children:o}=e,c=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,kl);const d=(0,a.useRef)(null),u=Ul(d,Si(o)),h=e=>t=>{e&&d.current&&e(d.current,t)},m=(0,a.useCallback)(h(t),[t]),p=(0,a.useCallback)(h(n),[n]),g=(0,a.useCallback)(h(A),[A]),f=(0,a.useCallback)(h(s),[s]),x=(0,a.useCallback)(h(r),[r]),v=(0,a.useCallback)(h(i),[i]),y=(0,a.useCallback)(h(l),[l]);return Object.assign({},c,{nodeRef:d},t&&{onEnter:m},n&&{onEntering:p},A&&{onEntered:g},s&&{onExit:f},r&&{onExiting:x},i&&{onExited:v},l&&{addEndListener:y},{children:"function"===typeof o?(e,t)=>o(e,Object.assign({},t,{ref:u})):(0,a.cloneElement)(o,{ref:u})})}(function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,El));return(0,Te.jsx)(n,Object.assign({ref:t},A))});function Il(e){let{children:t,in:n,onExited:A,onEntered:s,transition:r}=e;const[i,l]=(0,a.useState)(!n);n&&i&&l(!1);const o=function(e){let{in:t,onTransition:n}=e;const A=(0,a.useRef)(null),s=(0,a.useRef)(!0),r=ii(n);return oi(()=>{if(!A.current)return;let e=!1;return r({in:t,element:A.current,initial:s.current,isStale:()=>e}),()=>{e=!0}},[t,r]),oi(()=>(s.current=!1,()=>{s.current=!0}),[]),A}({in:!!n,onTransition:e=>{Promise.resolve(r(e)).then(()=>{e.isStale()||(e.in?null==s||s(e.element,e.initial):(l(!0),null==A||A(e.element)))},t=>{throw e.in||l(!0),t})}}),c=Ul(o,Si(t));return i&&!n?null:(0,a.cloneElement)(t,{ref:c})}function Hl(e,t,n){return e?(0,Te.jsx)(_l,Object.assign({},n,{component:e})):t?(0,Te.jsx)(Il,Object.assign({},n,{transition:t})):(0,Te.jsx)(Sl,Object.assign({},n))}const Tl=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Ll;function Pl(e){const t=Nl(),n=e||function(e){return Ll||(Ll=new bl({ownerDocument:null==e?void 0:e.document})),Ll}(t),A=(0,a.useRef)({dialog:null,backdrop:null});return Object.assign(A.current,{add:()=>n.add(A.current),remove:()=>n.remove(A.current),isTopModal:()=>n.isTopModal(A.current),setDialogRef:(0,a.useCallback)(e=>{A.current.dialog=e},[]),setBackdropRef:(0,a.useCallback)(e=>{A.current.backdrop=e},[])})}const Dl=(0,a.forwardRef)((e,t)=>{let{show:n=!1,role:A="dialog",className:s,style:r,children:i,backdrop:l=!0,keyboard:o=!0,onBackdropClick:c,onEscapeKeyDown:d,transition:u,runTransition:h,backdropTransition:m,runBackdropTransition:p,autoFocus:g=!0,enforceFocus:f=!0,restoreFocus:x=!0,restoreFocusOptions:v,renderDialog:y,renderBackdrop:w=e=>(0,Te.jsx)("div",Object.assign({},e)),manager:B,container:j,onShow:b,onHide:C=()=>{},onExit:N,onExited:Q,onExiting:F,onEnter:U,onEntering:S,onEntered:k}=e,E=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,Tl);const _=Nl(),I=function(e,t){const n=Nl(),[A,s]=(0,a.useState)(()=>Ql(e,null==n?void 0:n.document));if(!A){const t=Ql(e);t&&s(t)}return(0,a.useEffect)(()=>{t&&A&&t(A)},[t,A]),(0,a.useEffect)(()=>{const t=Ql(e);t!==A&&s(t)},[e,A]),A}(j),H=Pl(B),T=function(){const e=(0,a.useRef)(!0),t=(0,a.useRef)(()=>e.current);return(0,a.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}(),L=function(e){const t=(0,a.useRef)(null);return(0,a.useEffect)(()=>{t.current=e}),t.current}(n),[P,D]=(0,a.useState)(!n),O=(0,a.useRef)(null);(0,a.useImperativeHandle)(t,()=>H,[H]),Pi&&!L&&n&&(O.current=vl(null==_?void 0:_.document)),n&&P&&D(!1);const R=ii(()=>{if(H.add(),J.current=Gi(document,"keydown",V),W.current=Gi(document,"focus",()=>setTimeout(K),!0),b&&b(),g){var e,t;const n=vl(null!=(e=null==(t=H.dialog)?void 0:t.ownerDocument)?e:null==_?void 0:_.document);H.dialog&&n&&!yl(H.dialog,n)&&(O.current=n,H.dialog.focus())}}),M=ii(()=>{var e;(H.remove(),null==J.current||J.current(),null==W.current||W.current(),x)&&(null==(e=O.current)||null==e.focus||e.focus(v),O.current=null)});(0,a.useEffect)(()=>{n&&I&&R()},[n,I,R]),(0,a.useEffect)(()=>{P&&M()},[P,M]),wl(()=>{M()});const K=ii(()=>{if(!f||!T()||!H.isTopModal())return;const e=vl(null==_?void 0:_.document);H.dialog&&e&&!yl(H.dialog,e)&&H.dialog.focus()}),G=ii(e=>{e.target===e.currentTarget&&(null==c||c(e),!0===l&&C())}),V=ii(e=>{o&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&H.isTopModal()&&(null==d||d(e),e.defaultPrevented||C())}),W=(0,a.useRef)(),J=(0,a.useRef)();if(!I)return null;const z=Object.assign({role:A,ref:H.setDialogRef,"aria-modal":"dialog"===A||void 0},E,{style:r,className:s,tabIndex:-1});let Y=y?y(z):(0,Te.jsx)("div",Object.assign({},z,{children:a.cloneElement(i,{role:"document"})}));Y=Hl(u,h,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:N,onExiting:F,onExited:function(){D(!0),null==Q||Q(...arguments)},onEnter:U,onEntering:S,onEntered:k,children:Y});let X=null;return l&&(X=w({ref:H.setBackdropRef,onClick:G}),X=Hl(m,p,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:X})),(0,Te.jsx)(Te.Fragment,{children:ye.createPortal((0,Te.jsxs)(Te.Fragment,{children:[X,Y]}),I)})});Dl.displayName="Modal";const Ol=Object.assign(Dl,{Manager:bl});var Rl=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ml(e,t){return Rl(e.querySelectorAll(t))}function Kl(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Gl=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Vl=".sticky-top",Wl=".navbar-toggler";class Jl extends bl{adjustAndStore(e,t,n){const a=t.style[e];t.dataset[e]=a,Li(t,{[e]:"".concat(parseFloat(Li(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Li(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,a;if(a="modal-open",(n=t).classList?n.classList.add(a):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,a)||("string"===typeof n.className?n.className=n.className+" "+a:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+a)),!e.scrollBarWidth)return;const A=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ml(t,Gl).forEach(t=>this.adjustAndStore(A,t,e.scrollBarWidth)),Ml(t,Vl).forEach(t=>this.adjustAndStore(s,t,-e.scrollBarWidth)),Ml(t,Wl).forEach(t=>this.adjustAndStore(s,t,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,a;a="modal-open",(n=t).classList?n.classList.remove(a):"string"===typeof n.className?n.className=Kl(n.className,a):n.setAttribute("class",Kl(n.className&&n.className.baseVal||"",a));const A=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ml(t,Gl).forEach(e=>this.restore(A,e)),Ml(t,Vl).forEach(e=>this.restore(s,e)),Ml(t,Wl).forEach(e=>this.restore(s,e))}}let zl;const Yl=["className","bsPrefix","as"],Xl=a.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:A="div"}=e,s=Ds(e,Yl);return a=Js(a,"modal-body"),(0,Te.jsx)(A,Wt({ref:t,className:Rs()(n,a)},s))});Xl.displayName="ModalBody";const ql=Xl,Zl=a.createContext({onHide(){}}),$l=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],eo=a.forwardRef((e,t)=>{let{bsPrefix:n,className:a,contentClassName:A,centered:s,size:r,fullscreen:i,children:l,scrollable:o}=e,c=Ds(e,$l);n=Js(n,"modal");const d="".concat(n,"-dialog"),u="string"===typeof i?"".concat(n,"-fullscreen-").concat(i):"".concat(n,"-fullscreen");return(0,Te.jsx)("div",Wt(Wt({},c),{},{ref:t,className:Rs()(d,a,r&&"".concat(n,"-").concat(r),s&&"".concat(d,"-centered"),o&&"".concat(d,"-scrollable"),i&&u),children:(0,Te.jsx)("div",{className:Rs()("".concat(n,"-content"),A),children:l})}))});eo.displayName="ModalDialog";const to=eo,no=["className","bsPrefix","as"],ao=a.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:A="div"}=e,s=Ds(e,no);return a=Js(a,"modal-footer"),(0,Te.jsx)(A,Wt({ref:t,className:Rs()(n,a)},s))});ao.displayName="ModalFooter";const Ao=ao,so=["closeLabel","closeVariant","closeButton","onHide","children"],ro=a.forwardRef((e,t)=>{let{closeLabel:n="Close",closeVariant:A,closeButton:s=!1,onHide:r,children:i}=e,l=Ds(e,so);const o=(0,a.useContext)(Zl),c=ti(()=>{null==o||o.onHide(),null==r||r()});return(0,Te.jsxs)("div",Wt(Wt({ref:t},l),{},{children:[i,s&&(0,Te.jsx)(ol,{"aria-label":n,variant:A,onClick:c})]}))});ro.displayName="AbstractModalHeader";const io=ro,lo=["bsPrefix","className","closeLabel","closeButton"],oo=a.forwardRef((e,t)=>{let{bsPrefix:n,className:a,closeLabel:A="Close",closeButton:s=!1}=e,r=Ds(e,lo);return n=Js(n,"modal-header"),(0,Te.jsx)(io,Wt(Wt({ref:t},r),{},{className:Rs()(a,n),closeLabel:A,closeButton:s}))});oo.displayName="ModalHeader";const co=oo,uo=["className","bsPrefix","as"],ho=Er("h4"),mo=a.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:A=ho}=e,s=Ds(e,uo);return a=Js(a,"modal-title"),(0,Te.jsx)(A,Wt({ref:t,className:Rs()(n,a)},s))});mo.displayName="ModalTitle";const po=mo,go=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","data-bs-theme","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function fo(e){return(0,Te.jsx)(al,Wt(Wt({},e),{},{timeout:null}))}function xo(e){return(0,Te.jsx)(al,Wt(Wt({},e),{},{timeout:null}))}const vo=a.forwardRef((e,t)=>{let{bsPrefix:n,className:A,style:s,dialogClassName:r,contentClassName:i,children:l,dialogAs:o=to,"data-bs-theme":c,"aria-labelledby":d,"aria-describedby":u,"aria-label":h,show:m=!1,animation:p=!0,backdrop:g=!0,keyboard:f=!0,onEscapeKeyDown:x,onShow:v,onHide:y,container:w,autoFocus:B=!0,enforceFocus:j=!0,restoreFocus:b=!0,restoreFocusOptions:C,onEntered:N,onExit:Q,onExiting:F,onEnter:U,onEntering:S,onExited:k,backdropClassName:E,manager:_}=e,I=Ds(e,go);const[H,T]=(0,a.useState)({}),[L,P]=(0,a.useState)(!1),D=(0,a.useRef)(!1),O=(0,a.useRef)(!1),R=(0,a.useRef)(null),[M,K]=(0,a.useState)(null),G=Xi(t,K),V=ti(y),W=function(){const{dir:e}=(0,a.useContext)(Gs);return"rtl"===e}();n=Js(n,"modal");const J=(0,a.useMemo)(()=>({onHide:V}),[V]);function z(){return _||function(e){return zl||(zl=new Jl(e)),zl}({isRTL:W})}function Y(e){if(!Pi)return;const t=z().getScrollbarWidth()>0,n=e.scrollHeight>ki(e).documentElement.clientHeight;T({paddingRight:t&&!n?fl():void 0,paddingLeft:!t&&n?fl():void 0})}const X=ti(()=>{M&&Y(M.dialog)});xl(()=>{Ki(window,"resize",X),null==R.current||R.current()});const q=()=>{D.current=!0},Z=e=>{D.current&&M&&e.target===M.dialog&&(O.current=!0),D.current=!1},$=()=>{P(!0),R.current=Wi(M.dialog,()=>{P(!1)})},ee=e=>{"static"!==g?O.current||e.target!==e.currentTarget?O.current=!1:null==y||y():(e=>{e.target===e.currentTarget&&$()})(e)},te=(0,a.useCallback)(e=>(0,Te.jsx)("div",Wt(Wt({},e),{},{className:Rs()("".concat(n,"-backdrop"),E,!p&&"show")})),[p,E,n]),ne=Wt(Wt({},s),H);ne.display="block";return(0,Te.jsx)(Zl.Provider,{value:J,children:(0,Te.jsx)(Ol,{show:m,ref:G,backdrop:g,container:w,keyboard:!0,autoFocus:B,enforceFocus:j,restoreFocus:b,restoreFocusOptions:C,onEscapeKeyDown:e=>{f?null==x||x(e):(e.preventDefault(),"static"===g&&$())},onShow:v,onHide:y,onEnter:(e,t)=>{e&&Y(e),null==U||U(e,t)},onEntering:(e,t)=>{null==S||S(e,t),Mi(window,"resize",X)},onEntered:N,onExit:e=>{null==R.current||R.current(),null==Q||Q(e)},onExiting:F,onExited:e=>{e&&(e.style.display=""),null==k||k(e),Ki(window,"resize",X)},manager:z(),transition:p?fo:void 0,backdropTransition:p?xo:void 0,renderBackdrop:te,renderDialog:e=>(0,Te.jsx)("div",Wt(Wt({role:"dialog"},e),{},{style:ne,className:Rs()(A,n,L&&"".concat(n,"-static"),!p&&"show"),onClick:g?ee:void 0,onMouseUp:Z,"data-bs-theme":c,"aria-label":h,"aria-labelledby":d,"aria-describedby":u,children:(0,Te.jsx)(o,Wt(Wt({},I),{},{onMouseDown:q,className:r,contentClassName:i,children:l}))}))})})});vo.displayName="Modal";const yo=Object.assign(vo,{Body:ql,Header:co,Title:po,Footer:Ao,Dialog:to,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),wo=["as","className","type","tooltip"],Bo={type:sl().string,tooltip:sl().bool,as:sl().elementType},jo=a.forwardRef((e,t)=>{let{as:n="div",className:a,type:A="valid",tooltip:s=!1}=e,r=Ds(e,wo);return(0,Te.jsx)(n,Wt(Wt({},r),{},{ref:t,className:Rs()(a,"".concat(A,"-").concat(s?"tooltip":"feedback"))}))});jo.displayName="Feedback",jo.propTypes=Bo;const bo=jo,Co=a.createContext({}),No=["id","bsPrefix","className","type","isValid","isInvalid","as"],Qo=a.forwardRef((e,t)=>{let{id:n,bsPrefix:A,className:s,type:r="checkbox",isValid:i=!1,isInvalid:l=!1,as:o="input"}=e,c=Ds(e,No);const{controlId:d}=(0,a.useContext)(Co);return A=Js(A,"form-check-input"),(0,Te.jsx)(o,Wt(Wt({},c),{},{ref:t,type:r,id:n||d,className:Rs()(s,A,i&&"is-valid",l&&"is-invalid")}))});Qo.displayName="FormCheckInput";const Fo=Qo,Uo=["bsPrefix","className","htmlFor"],So=a.forwardRef((e,t)=>{let{bsPrefix:n,className:A,htmlFor:s}=e,r=Ds(e,Uo);const{controlId:i}=(0,a.useContext)(Co);return n=Js(n,"form-check-label"),(0,Te.jsx)("label",Wt(Wt({},r),{},{ref:t,htmlFor:s||i,className:Rs()(A,n)}))});So.displayName="FormCheckLabel";const ko=So;const Eo=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],_o=a.forwardRef((e,t)=>{let{id:n,bsPrefix:A,bsSwitchPrefix:s,inline:r=!1,reverse:i=!1,disabled:l=!1,isValid:o=!1,isInvalid:c=!1,feedbackTooltip:d=!1,feedback:u,feedbackType:h,className:m,style:p,title:g="",type:f="checkbox",label:x,children:v,as:y="input"}=e,w=Ds(e,Eo);A=Js(A,"form-check"),s=Js(s,"form-switch");const{controlId:B}=(0,a.useContext)(Co),j=(0,a.useMemo)(()=>({controlId:n||B}),[B,n]),b=!v&&null!=x&&!1!==x||function(e,t){return a.Children.toArray(e).some(e=>a.isValidElement(e)&&e.type===t)}(v,ko),C=(0,Te.jsx)(Fo,Wt(Wt({},w),{},{type:"switch"===f?"checkbox":f,ref:t,isValid:o,isInvalid:c,disabled:l,as:y}));return(0,Te.jsx)(Co.Provider,{value:j,children:(0,Te.jsx)("div",{style:p,className:Rs()(m,b&&A,r&&"".concat(A,"-inline"),i&&"".concat(A,"-reverse"),"switch"===f&&s),children:v||(0,Te.jsxs)(Te.Fragment,{children:[C,b&&(0,Te.jsx)(ko,{title:g,children:x}),u&&(0,Te.jsx)(bo,{type:h,tooltip:d,children:u})]})})})});_o.displayName="FormCheck";const Io=Object.assign(_o,{Input:Fo,Label:ko});n(440);const Ho=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],To=a.forwardRef((e,t)=>{let{bsPrefix:n,type:A,size:s,htmlSize:r,id:i,className:l,isValid:o=!1,isInvalid:c=!1,plaintext:d,readOnly:u,as:h="input"}=e,m=Ds(e,Ho);const{controlId:p}=(0,a.useContext)(Co);return n=Js(n,"form-control"),(0,Te.jsx)(h,Wt(Wt({},m),{},{type:A,size:r,ref:t,readOnly:u,id:i||p,className:Rs()(l,d?"".concat(n,"-plaintext"):n,s&&"".concat(n,"-").concat(s),"color"===A&&"".concat(n,"-color"),o&&"is-valid",c&&"is-invalid")}))});To.displayName="FormControl";const Lo=Object.assign(To,{Feedback:bo}),Po=["className","bsPrefix","as"],Do=a.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:A="div"}=e,s=Ds(e,Po);return a=Js(a,"form-floating"),(0,Te.jsx)(A,Wt({ref:t,className:Rs()(n,a)},s))});Do.displayName="FormFloating";const Oo=Do,Ro=["controlId","as"],Mo=a.forwardRef((e,t)=>{let{controlId:n,as:A="div"}=e,s=Ds(e,Ro);const r=(0,a.useMemo)(()=>({controlId:n}),[n]);return(0,Te.jsx)(Co.Provider,{value:r,children:(0,Te.jsx)(A,Wt(Wt({},s),{},{ref:t}))})});Mo.displayName="FormGroup";const Ko=Mo,Go=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],Vo=a.forwardRef((e,t)=>{let{as:n="label",bsPrefix:A,column:s=!1,visuallyHidden:r=!1,className:i,htmlFor:l}=e,o=Ds(e,Go);const{controlId:c}=(0,a.useContext)(Co);A=Js(A,"form-label");let d="col-form-label";"string"===typeof s&&(d="".concat(d," ").concat(d,"-").concat(s));const u=Rs()(i,A,r&&"visually-hidden",s&&d);return l=l||c,s?(0,Te.jsx)(dr,Wt({ref:t,as:"label",className:u,htmlFor:l},o)):(0,Te.jsx)(n,Wt({ref:t,className:u,htmlFor:l},o))});Vo.displayName="FormLabel";const Wo=Vo,Jo=["bsPrefix","className","id"],zo=a.forwardRef((e,t)=>{let{bsPrefix:n,className:A,id:s}=e,r=Ds(e,Jo);const{controlId:i}=(0,a.useContext)(Co);return n=Js(n,"form-range"),(0,Te.jsx)("input",Wt(Wt({},r),{},{type:"range",ref:t,className:Rs()(A,n),id:s||i}))});zo.displayName="FormRange";const Yo=zo,Xo=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],qo=a.forwardRef((e,t)=>{let{bsPrefix:n,size:A,htmlSize:s,className:r,isValid:i=!1,isInvalid:l=!1,id:o}=e,c=Ds(e,Xo);const{controlId:d}=(0,a.useContext)(Co);return n=Js(n,"form-select"),(0,Te.jsx)("select",Wt(Wt({},c),{},{size:s,ref:t,className:Rs()(r,n,A&&"".concat(n,"-").concat(A),i&&"is-valid",l&&"is-invalid"),id:o||d}))});qo.displayName="FormSelect";const Zo=qo,$o=["bsPrefix","className","as","muted"],ec=a.forwardRef((e,t)=>{let{bsPrefix:n,className:a,as:A="small",muted:s}=e,r=Ds(e,$o);return n=Js(n,"form-text"),(0,Te.jsx)(A,Wt(Wt({},r),{},{ref:t,className:Rs()(a,n,s&&"text-muted")}))});ec.displayName="FormText";const tc=ec,nc=a.forwardRef((e,t)=>(0,Te.jsx)(Io,Wt(Wt({},e),{},{ref:t,type:"switch"})));nc.displayName="Switch";const ac=Object.assign(nc,{Input:Io.Input,Label:Io.Label}),Ac=["bsPrefix","className","children","controlId","label"],sc=a.forwardRef((e,t)=>{let{bsPrefix:n,className:a,children:A,controlId:s,label:r}=e,i=Ds(e,Ac);return n=Js(n,"form-floating"),(0,Te.jsxs)(Ko,Wt(Wt({ref:t,className:Rs()(a,n),controlId:s},i),{},{children:[A,(0,Te.jsx)("label",{htmlFor:s,children:r})]}))});sc.displayName="FloatingLabel";const rc=sc,ic=["className","validated","as"],lc={_ref:sl().any,validated:sl().bool,as:sl().elementType},oc=a.forwardRef((e,t)=>{let{className:n,validated:a,as:A="form"}=e,s=Ds(e,ic);return(0,Te.jsx)(A,Wt(Wt({},s),{},{ref:t,className:Rs()(n,a&&"was-validated")}))});oc.displayName="Form",oc.propTypes=lc;const cc=Object.assign(oc,{Group:Ko,Control:Lo,Floating:Oo,Check:Io,Switch:ac,Label:Wo,Text:tc,Range:Yo,Select:Zo,FloatingLabel:rc});var dc={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},uc=a.createContext&&a.createContext(dc),hc=["attr","size","title"];function mc(e,t){if(null==e)return{};var n,a,A=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(A[n]=e[n])}return A}function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pc.apply(this,arguments)}function gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function fc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gc(Object(n),!0).forEach(function(t){xc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vc(e){return e&&e.map((e,t)=>a.createElement(e.tag,fc({key:t},e.attr),vc(e.child)))}function yc(e){return t=>a.createElement(wc,pc({attr:fc({},e.attr)},t),vc(e.child))}function wc(e){var t=t=>{var n,{attr:A,size:s,title:r}=e,i=mc(e,hc),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),a.createElement("svg",pc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,A,i,{className:n,style:fc(fc({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),r&&a.createElement("title",null,r),e.children)};return void 0!==uc?a.createElement(uc.Consumer,null,e=>t(e)):t(dc)}function Bc(e){return yc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function jc(e){return yc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function bc(e){return yc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function Cc(e){return yc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function Nc(e){return yc({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}const Qc="https://mortgage-crm-production-7a9a.up.railway.app",Fc=()=>{var e,t,n,A;const[s,r]=(0,a.useState)([]),[i,l]=(0,a.useState)(null),[o,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),[h,m]=(0,a.useState)(null),[p,g]=(0,a.useState)(!1),[f,x]=(0,a.useState)(""),[v,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{w(),B()},[]);const w=async()=>{try{c(!0);const e=localStorage.getItem("token"),t=await ua.get("".concat(Qc,"/api/v1/agent/review-queue"),{headers:{Authorization:"Bearer ".concat(e)},params:{status:"pending"}});r(t.data.items||[]),u(null)}catch(e){console.error("Error fetching review queue:",e),u("Failed to load review queue")}finally{c(!1)}},B=async()=>{try{const e=localStorage.getItem("token"),t=await ua.get("".concat(Qc,"/api/v1/agent/stats"),{headers:{Authorization:"Bearer ".concat(e)}});l(t.data)}catch(e){console.error("Error fetching stats:",e)}},j=(e,t)=>{m(Wt(Wt({},e),{},{decision:t})),g(!0)};return o&&0===s.length?(0,Te.jsxs)(tr,{className:"mt-5 text-center",children:[(0,Te.jsx)(Ar,{animation:"border",role:"status",children:(0,Te.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,Te.jsx)("p",{className:"mt-3",children:"Loading review queue..."})]}):(0,Te.jsxs)(tr,{className:"mt-4",children:[(0,Te.jsx)(ir,{className:"mb-4",children:(0,Te.jsxs)(dr,{children:[(0,Te.jsxs)("h2",{children:[(0,Te.jsx)(Cc,{})," Agent Review Queue"]}),(0,Te.jsx)("p",{className:"text-muted",children:"Review and approve AI agent actions"})]})}),i&&(0,Te.jsxs)(ir,{className:"mb-4",children:[(0,Te.jsx)(dr,{md:3,children:(0,Te.jsx)(Wr,{bg:"light",children:(0,Te.jsxs)(Wr.Body,{children:[(0,Te.jsx)(Wr.Title,{className:"h6",children:"Pending Reviews"}),(0,Te.jsx)("h3",{children:(null===(e=i.reviews)||void 0===e?void 0:e.pending)||0})]})})}),(0,Te.jsx)(dr,{md:3,children:(0,Te.jsx)(Wr,{bg:"light",children:(0,Te.jsxs)(Wr.Body,{children:[(0,Te.jsx)(Wr.Title,{className:"h6",children:"Active Workflows"}),(0,Te.jsx)("h3",{children:(null===(t=i.workflows)||void 0===t?void 0:t.active)||0})]})})}),(0,Te.jsx)(dr,{md:3,children:(0,Te.jsx)(Wr,{bg:"light",children:(0,Te.jsxs)(Wr.Body,{children:[(0,Te.jsx)(Wr.Title,{className:"h6",children:"Completed Today"}),(0,Te.jsx)("h3",{children:(null===(n=i.workflows)||void 0===n?void 0:n.completed)||0})]})})}),(0,Te.jsx)(dr,{md:3,children:(0,Te.jsx)(Wr,{bg:"light",children:(0,Te.jsxs)(Wr.Body,{children:[(0,Te.jsx)(Wr.Title,{className:"h6",children:"Total Actions"}),(0,Te.jsx)("h3",{children:(null===(A=i.actions)||void 0===A?void 0:A.total)||0})]})})})]}),d&&(0,Te.jsx)(ul,{variant:"danger",dismissible:!0,onClose:()=>u(null),children:d}),0===s.length?(0,Te.jsx)(Wr,{children:(0,Te.jsxs)(Wr.Body,{className:"text-center text-muted py-5",children:[(0,Te.jsx)(Bc,{size:48,className:"mb-3"}),(0,Te.jsx)("h4",{children:"All Caught Up!"}),(0,Te.jsx)("p",{children:"No pending agent actions to review"})]})}):(0,Te.jsx)(ir,{children:s.map(e=>{return(0,Te.jsx)(dr,{md:12,className:"mb-3",children:(0,Te.jsxs)(Wr,{children:[(0,Te.jsxs)(Wr.Header,{className:"d-flex justify-content-between align-items-center",children:[(0,Te.jsxs)("div",{children:[(a=e.agent_type,(0,Te.jsxs)(Zs,{bg:"primary",children:[(0,Te.jsx)(Cc,{})," ",{receptionist:"AI Receptionist",pipeline_ops:"Pipeline Ops",data_reconciliation:"Data Reconciliation",portfolio:"Portfolio Agent",coach:"Coach Agent"}[a]||a]}))," ",(n=e.priority,(0,Te.jsx)(Zs,{bg:{high:"danger",medium:"warning",low:"info"}[n]||"secondary",children:n||"medium"}))," ",(t=e.confidence_score,t>=.9?(0,Te.jsx)(Zs,{bg:"success",children:"High Confidence"}):t>=.7?(0,Te.jsx)(Zs,{bg:"warning",children:"Medium Confidence"}):(0,Te.jsx)(Zs,{bg:"danger",children:"Low Confidence"}))]}),(0,Te.jsxs)("small",{className:"text-muted",children:[(0,Te.jsx)(jc,{})," ",new Date(e.created_at).toLocaleString()]})]}),(0,Te.jsxs)(Wr.Body,{children:[(0,Te.jsx)(Wr.Title,{children:e.title}),(0,Te.jsx)(Wr.Text,{children:e.description}),(0,Te.jsxs)("div",{className:"mb-3",children:[(0,Te.jsxs)("strong",{children:[(0,Te.jsx)(bc,{})," Proposed Action:"]}),(0,Te.jsx)("pre",{className:"bg-light p-2 mt-2 rounded",style:{fontSize:"0.9em"},children:JSON.stringify(e.proposed_action,null,2)})]}),e.context&&Object.keys(e.context).length>0&&(0,Te.jsxs)("div",{className:"mb-3",children:[(0,Te.jsx)("strong",{children:"Context:"}),(0,Te.jsx)("pre",{className:"bg-light p-2 mt-2 rounded",style:{fontSize:"0.9em"},children:JSON.stringify(e.context,null,2)})]}),(0,Te.jsxs)("div",{className:"d-flex gap-2",children:[(0,Te.jsxs)(pl,{variant:"success",onClick:()=>j(e,"approve"),children:[(0,Te.jsx)(Bc,{})," Approve"]}),(0,Te.jsxs)(pl,{variant:"danger",onClick:()=>j(e,"reject"),children:[(0,Te.jsx)(Nc,{})," Reject"]})]})]}),(0,Te.jsxs)(Wr.Footer,{className:"text-muted small",children:["Workflow ID: ",e.workflow_id," | Item ID: ",e.id]})]})},e.id);var t,n,a})}),(0,Te.jsxs)(yo,{show:p,onHide:()=>g(!1),centered:!0,children:[(0,Te.jsx)(yo.Header,{closeButton:!0,children:(0,Te.jsx)(yo.Title,{children:"approve"===(null===h||void 0===h?void 0:h.decision)?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(Bc,{className:"text-success"})," Approve Action"]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(Nc,{className:"text-danger"})," Reject Action"]})})}),(0,Te.jsxs)(yo.Body,{children:[(0,Te.jsx)("p",{children:(0,Te.jsx)("strong",{children:null===h||void 0===h?void 0:h.title})}),(0,Te.jsx)("p",{className:"text-muted",children:null===h||void 0===h?void 0:h.description}),(0,Te.jsxs)(cc.Group,{className:"mb-3",children:[(0,Te.jsx)(cc.Label,{children:"Feedback (Optional)"}),(0,Te.jsx)(cc.Control,{as:"textarea",rows:3,value:f,onChange:e=>x(e.target.value),placeholder:"Add any notes or feedback for the AI system..."}),(0,Te.jsx)(cc.Text,{className:"text-muted",children:"Your feedback helps improve agent performance"})]})]}),(0,Te.jsxs)(yo.Footer,{children:[(0,Te.jsx)(pl,{variant:"secondary",onClick:()=>g(!1),disabled:v,children:"Cancel"}),(0,Te.jsx)(pl,{variant:"approve"===(null===h||void 0===h?void 0:h.decision)?"success":"danger",onClick:async()=>{if(h){y(!0);try{const e=localStorage.getItem("token");await ua.post("".concat(Qc,"/api/v1/agent/review-queue/").concat(h.id,"/review"),{decision:h.decision,feedback:f||void 0},{headers:{Authorization:"Bearer ".concat(e)}}),r(e=>e.filter(e=>e.id!==h.id)),B(),g(!1),x(""),m(null)}catch(e){console.error("Error submitting review:",e),alert("Failed to submit review")}finally{y(!1)}}},disabled:v,children:v?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(Ar,{animation:"border",size:"sm"})," Processing..."]}):(0,Te.jsx)(Te.Fragment,{children:"approve"===(null===h||void 0===h?void 0:h.decision)?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(Bc,{})," Confirm Approval"]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(Nc,{})," Confirm Rejection"]})})})]})]})]})};function Uc(e){let{children:t}=e;return He()?t:(0,Te.jsx)(pe,{to:"/login"})}const Sc=function(){const[e,t]=(0,a.useState)(!1),[n,A]=(0,a.useState)(!1),[s,r]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!0),[o,c]=(0,a.useState)({leads:0,loans:0,portfolio:3,tasks:0,partners:0}),d=()=>{t(!e)},u=()=>{A(!n)};return(0,a.useEffect)(()=>{(async()=>{try{if(He())try{const t=await fetch("".concat("https://mortgage-crm-production-7a9a.up.railway.app","/api/v1/users/me"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(t.ok){(await t.json()).onboarding_completed||r(!0)}else try{const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);void 0!==t.onboarding_completed&&!1!==t.onboarding_completed||r(!0)}}catch(e){console.warn("Error parsing user data:",e)}}catch(t){console.error("Error checking onboarding status:",t);try{const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);void 0!==t.onboarding_completed&&!1!==t.onboarding_completed||r(!0)}}catch(e){console.warn("Error parsing user data in fallback:",e)}}}catch(n){console.error("Critical error in onboarding check:",n)}finally{l(!1)}})()},[]),(0,Te.jsx)(bA,{children:(0,Te.jsx)(Qe,{children:(0,Te.jsxs)("div",{className:"app",children:[(0,Te.jsxs)(xe,{children:[(0,Te.jsx)(ge,{path:"/",element:(0,Te.jsx)(NA,{})}),(0,Te.jsx)(ge,{path:"/apply",element:(0,Te.jsx)(Ts,{})}),(0,Te.jsx)(ge,{path:"/register",element:(0,Te.jsx)(FA,{})}),(0,Te.jsx)(ge,{path:"/verify-email-sent",element:(0,Te.jsx)(UA,{})}),(0,Te.jsx)(ge,{path:"/login",element:(0,Te.jsx)(SA,{})}),(0,Te.jsx)(ge,{path:"/onboarding",element:(0,Te.jsx)(Uc,{children:(0,Te.jsx)(EA,{})})}),(0,Te.jsx)(ge,{path:"/dashboard",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n,taskCounts:o}),(0,Te.jsxs)("main",{className:"app-main ".concat(e?"with-assistant":""),children:[s&&!i&&(0,Te.jsx)(yA,{onDismiss:()=>{r(!1)}}),(0,Te.jsx)(KA,{})]}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/leads",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(JA,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/leads/:id",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(YA,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/loans",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)($A,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/loans/:id",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(es,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/portfolio",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(ns,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/portfolio/year-over-year",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(As,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/portfolio/:id",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(as,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/tasks",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(ds,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/calendar",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(hs,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/scorecard",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(ps,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/assistant",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(gs,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/client/:type/:id",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(fs,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/referral-partners",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(vs,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/referral-partners/:id",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(ys,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/ai-underwriter",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(ws,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/goal-tracker",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(ms,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/coach",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(Bs,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/agent-review",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(Fc,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/reconciliation",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(bs,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/settings",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(Cs,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/team-members",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(Ns,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/team-members/:id",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(Qs,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/data-upload",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(Fs,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/verizon-test",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(Ls,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/team/:userId",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(Is,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/users",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(_s,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/users/:id",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(Is,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})}),(0,Te.jsx)(ge,{path:"/process-templates",element:(0,Te.jsx)(Uc,{children:(0,Te.jsxs)("div",{className:"app-layout",children:[(0,Te.jsx)(Le,{onToggleAssistant:d,onToggleCoach:u,assistantOpen:e,coachOpen:n}),(0,Te.jsx)("main",{className:"app-main ".concat(e?"with-assistant":""),children:(0,Te.jsx)(Hs,{})}),(0,Te.jsx)(xA,{isOpen:e,onClose:()=>t(!1)}),(0,Te.jsx)(vA,{isOpen:n,onClose:()=>A(!1)})]})})})]}),(0,Te.jsx)(CA,{})]})})})};class kc extends a.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?(0,Te.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,Te.jsx)("h1",{children:"Something went wrong"}),(0,Te.jsxs)("details",{style:{whiteSpace:"pre-wrap",marginTop:"20px"},children:[(0,Te.jsx)("summary",{children:"Error Details (click to expand)"}),(0,Te.jsx)("p",{children:this.state.error&&this.state.error.toString()}),(0,Te.jsx)("p",{children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),(0,Te.jsx)("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}const Ec=kc;s.createRoot(document.getElementById("root")).render((0,Te.jsx)(a.StrictMode,{children:(0,Te.jsx)(Ec,{children:(0,Te.jsx)(Sc,{})})}))})()})();
//# sourceMappingURL=main.506b1f17.js.map